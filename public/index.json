[{"content":"ç¯å¢ƒgcc (Ubuntu 11.4.0-1ubuntu1~22.04) 11.4.0ã€‚ä½¿ç”¨gcc Exercise1-1.cå‘½ä»¤ã€‚\nexercise1-1 åœ¨ä½ è‡ªå·±çš„ç³»ç»Ÿä¸­è¿è¡Œâ€œhello, worldâ€ç¨‹åºã€‚å†æœ‰æ„å»æ‰ç¨‹åºä¸­çš„éƒ¨åˆ†å†…å®¹ï¼Œçœ‹çœ‹ä¼šå¾—åˆ°ä»€ä¹ˆå‡ºé”™ä¿¡æ¯ã€‚\n1 2 3 4 5 #include \u0026lt;stdio.h\u0026gt; main() { printf(\u0026#34;hello world!\u0026#34;); } é™¤å»å¤´æ–‡ä»¶ ä¸æŠ¥é”™ä¸”èƒ½è¿è¡Œï¼Œä½†æ˜¯ä¼šæœ‰è­¦å‘Šwarning: implicit declaration of function â€˜printfâ€™ [-Wimplicit-function-declaration]ã€‚\né™¤å»è¿”å›ç±»å‹ ä¸æŠ¥é”™ä¸”èƒ½è¿è¡Œï¼Œä½†æ˜¯ä¼šæœ‰è­¦å‘Šwarning: return type defaults to â€˜intâ€™ [-Wimplicit-int]ã€‚\nexercise1-2 åšä¸ªå®éªŒï¼Œå½“ printf å‡½æ•°çš„å‚æ•°å­—ç¬¦ä¸²ä¸­åŒ…å«\\cï¼ˆå…¶ä¸­ c æ˜¯ä¸Šé¢çš„è½¬ä¹‰å­—ç¬¦åºåˆ—ä¸­æœªæ›¾åˆ—å‡ºçš„æŸä¸€ä¸ªå­—ç¬¦ï¼‰æ—¶ï¼Œè§‚å¯Ÿä¸€ä¸‹ä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µã€‚\nexercise1-3 ä¿®æ”¹æ¸©åº¦è½¬æ¢ç¨‹åºï¼Œä½¿ä¹‹èƒ½åœ¨è½¬æ¢è¡¨çš„é¡¶éƒ¨æ‰“å°ä¸€ä¸ªæ ‡é¢˜\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 #include \u0026lt;stdio.h\u0026gt; int main() { float celsius; int fahr = 0, upper = 300, step = 30; printf(\u0026#34;fahr to celsius\\n\u0026#34;); while (fahr \u0026lt;= upper) { celsius = (5.0 / 9) * (fahr - 32); printf(\u0026#34;%5d %6.2f\\n\u0026#34;, fahr, celsius); fahr += step; } return 0; } exercise1-4 ç¼–å†™ä¸€ä¸ªç¨‹åºæ‰“å°æ‘„æ°æ¸©åº¦è½¬æ¢ä¸ºç›¸åº”åæ°æ¸©åº¦çš„è½¬æ¢è¡¨ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 #include \u0026lt;stdio.h\u0026gt; int main() { float fahr; int celsius = -200, upper = 300, step = 30; printf(\u0026#34;celsius to fahr\\n\u0026#34;); while (celsius \u0026lt;= upper) { fahr = (celsius + 32) * (9.0 / 5); printf(\u0026#34;%5d %6.1f\\n\u0026#34;, celsius, fahr); celsius += step; } return 0; } exercise1-5 ä¿®æ”¹æ¸©åº¦è½¬æ¢ç¨‹åºï¼Œè¦æ±‚ä»¥é€†åºï¼ˆå³æŒ‰ç…§ä» 300 åº¦åˆ° 0 åº¦çš„é¡ºåºï¼‰æ‰“å°æ¸©åº¦è½¬æ¢è¡¨ã€‚\n1 2 3 4 5 6 7 8 #include \u0026lt;stdio.h\u0026gt; int main() { int fahr; for (fahr = 300; fahr \u0026gt;= 0; fahr = fahr - 20) printf(\u0026#34;%3d %6.1f\\n\u0026#34;, fahr, (5.0 / 9) * (fahr - 32)); } exercise1-6 \u0026amp; exercise1-7 ç¼–å†™ä¸€ä¸ªæ‰“å° EOF å€¼çš„ç¨‹åº\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 #include \u0026lt;stdio.h\u0026gt; int main() { int c; // ctrl + D for (;;) { c = getchar(); if (c == EOF) { printf(\u0026#34;Value of EOF is %d.\\n\u0026#34;, c); return 0; } } return 0; } exercise1-8 ç¼–å†™ä¸€ä¸ªç»Ÿè®¡ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ä¸æ¢è¡Œç¬¦ä¸ªæ•°çš„ç¨‹åºã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 #include \u0026lt;stdio.h\u0026gt; int main() { int c, nb = 0, nt = 0, nn = 0; while ((c = getchar()) != EOF) { switch (c) { case \u0026#39; \u0026#39;: nb++; break; case \u0026#39;\\t\u0026#39;: nt++; break; case \u0026#39;\\n\u0026#39;: nn++; break; default: break; } } printf(\u0026#34;nb = %d, nt = %d, nn = %d\\n\u0026#34;, nb, nt, nn); } exercise1-9 ç¼–å†™ä¸€ä¸ªå°†è¾“å…¥å¤åˆ¶åˆ°è¾“å‡ºçš„ç¨‹åºï¼Œå¹¶å°†å…¶ä¸­è¿ç»­çš„å¤šä¸ªç©ºæ ¼ç”¨ä¸€ä¸ªç©ºæ ¼ä»£æ›¿ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 #include \u0026lt;stdio.h\u0026gt; int main() { int c, flag = 0; while ((c = getchar()) != EOF) { if (c != \u0026#39; \u0026#39;) { putchar(c); flag = 0; } else if (flag == 0) { putchar(c); // é‡åˆ°è¿ç»­ç©ºæ ¼ä¸­çš„ç¬¬ä¸€ä¸ªï¼Œå°±å°† flag ç½®ä¸º1 flag = 1; } } } exercise1-10 ç¼–å†™ä¸€ä¸ªå°†è¾“å…¥å¤åˆ¶åˆ°è¾“å‡ºçš„ç¨‹åºï¼Œå¹¶å°†å…¶ä¸­çš„åˆ¶è¡¨ç¬¦æ›¿æ¢ä¸º\\tï¼ŒæŠŠå›é€€ç¬¦æ›¿æ¢ä¸º\\bï¼ŒæŠŠåæ–œæ æ›¿æŒ‰ä¸º\\ã€‚è¿™æ ·å¯ä»¥å°†åˆ¶è¡¨ç¬¦å’Œå›é€€ç¬¦ä»¥å¯è§çš„æ–¹å¼æ˜¾ç¤ºå‡ºæ¥ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 #include \u0026lt;stdio.h\u0026gt; int main() { int c, flag = 0; while ((c = getchar()) != EOF) if (c == \u0026#39;\\t\u0026#39;) printf(\u0026#34;\\\\t\u0026#34;); else if (c == \u0026#39;\\b\u0026#39;) printf(\u0026#34;\\\\b\u0026#34;); else if (c == \u0026#39;\\\\\u0026#39;) printf(\u0026#34;\\\\\\\\\u0026#34;); else putchar(c); } exercise1-11 ä½ å‡†å¤‡å¦‚ä½•æµ‹è¯•å•è¯è®¡æ•°ç¨‹åºï¼Ÿå¦‚æœç¨‹åºä¸­å­˜åœ¨æŸç§é”™è¯¯ï¼Œé‚£ä¹ˆä»€ä¹ˆæ ·çš„è¾“å…¥æœ€å¯èƒ½å‘ç°è¿™ç±»é”™è¯¯å‘¢ï¼Ÿ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 #include \u0026lt;stdio.h\u0026gt; #define IN 1 #define OUT 0 int main() { int c, flag = OUT; int wc = 0; while ((c = getchar()) != EOF) { if (c != \u0026#39; \u0026#39; \u0026amp;\u0026amp; c != \u0026#39;\\t\u0026#39; \u0026amp;\u0026amp; c != \u0026#39;\\n\u0026#39;) { if (flag == OUT) { wc++; flag = IN; } } else { if (flag == IN) { flag = OUT; } } } printf(\u0026#34;wc = %d\\n\u0026#34;, wc); } åªéœ€è¦å°†ä¸Šé¢exercise1-10çš„ç¨‹åºè¿›è¡Œä¿®æ”¹ï¼Œä½¿ç”¨INå’ŒOUTæ¥è®°å½•å½“å‰éå†çš„å­—æ¯çš„çŠ¶æ€ï¼šæ˜¯å¤„äºå•è¯å†…éƒ¨è¿˜æ˜¯å•è¯å¤–éƒ¨ã€‚å¦‚æœé‡åˆ°ç¬¬ä¸€ä¸ªéç©ºæ ¼ã€æ¢è¡Œã€åˆ¶è¡¨ç¬¦å­—ç¬¦ï¼Œåˆ™å°†çŠ¶æ€ä¿®æ”¹ä¸ºINï¼Œè¡¨ç¤ºè¿›å…¥åˆ°äº†ä¸€ä¸ªå•è¯çš„å†…éƒ¨ï¼Œå¦‚æœé‡åˆ°äº†ç¬¬ä¸€ä¸ªä¸Šè¿°å­—ç¬¦ï¼Œåˆ™å°†çŠ¶æ€ä¿®æ”¹ä¸ºOUTã€‚\né’ˆå¯¹ä¸åŒçš„é”™è¯¯ï¼Œéœ€è¦ä¸åŒçš„è¾“å…¥æ¥æ£€æŸ¥é”™è¯¯ã€‚å¦‚æœæ˜¯\nexercise1-12 ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œä»¥æ¯è¡Œä¸€ä¸ªå•è¯çš„å½¢å¼æ‰“å°å…¶è¾“å…¥ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 #include \u0026lt;stdio.h\u0026gt; #define IN 1 #define OUT 0 int main() { int c, flag = OUT; int wc = 0; while ((c = getchar()) != EOF) { if (c != \u0026#39; \u0026#39; \u0026amp;\u0026amp; c != \u0026#39;\\t\u0026#39; \u0026amp;\u0026amp; c != \u0026#39;\\n\u0026#39;) { if (flag == OUT) { wc++; flag = IN; } putchar(c); } else { if (flag == IN) { flag = OUT; putchar(\u0026#39;\\n\u0026#39;); } } } printf(\u0026#34;wc = %d\\n\u0026#34;, wc); } åªéœ€è¦å°† 1-11 çš„ä»£ç ç¨åŠ ä¿®æ”¹ã€‚\nexercise1-13 ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ‰“å°è¾“å…¥ä¸­å•è¯é•¿åº¦çš„ç›´æ–¹å›¾ã€‚æ°´å¹³æ–¹å‘çš„ç›´æ–¹å›¾æ¯”è¾ƒå®¹æ˜“ç»˜åˆ¶ï¼Œå‚ç›´æ–¹å‘çš„ç›´æ–¹å›¾åˆ™è¦å›°éš¾äº›ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 #include \u0026lt;stdio.h\u0026gt; #define IN 1 #define OUT 0 #define MAXLENGTH 4096 int main() { int c, flag = OUT, counts[MAXLENGTH] = {0}; int l = 0, r = 0; // åˆ†åˆ«ä»£è¡¨å½“å‰å•è¯çš„å·¦è¾¹ç•Œå’Œéå†çš„ä¸‹æ ‡ï¼Œå½“éå†åˆ°å•è¯çš„å³è¾¹ç•Œæ—¶ï¼ŒæŠŠä¸¤è€…ç›¸å‡ï¼Œå¾—åˆ°å•è¯é•¿åº¦ã€‚ while ((c = getchar()) != EOF) { if (c != \u0026#39; \u0026#39; \u0026amp;\u0026amp; c != \u0026#39;\\t\u0026#39; \u0026amp;\u0026amp; c != \u0026#39;\\n\u0026#39;) { if (flag == OUT) { flag = IN; l = r; } } else { if (flag == IN) { flag = OUT; counts[r - l - 1]++; // å°†å¯¹åº”çš„æ•°ç»„å…ƒç´ åŠ ä¸€ } } r++; } printf(\u0026#34;length\\tcounts\\n\u0026#34;); for (int i = 0; i \u0026lt; MAXLENGTH; i++) { if (counts[i] != 0) { printf(\u0026#34;%6d\\t\u0026#34;, i + 1); while (counts[i]--) putchar(\u0026#39;#\u0026#39;); putchar(\u0026#39;\\n\u0026#39;); } } } exercise1-14 ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ‰“å°è¾“å…¥ä¸­å„ä¸ªå­—ç¬¦å‡ºç°é¢‘åº¦çš„ç›´æ–¹å›¾ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 #include \u0026lt;stdio.h\u0026gt; #define MAXVALUE 256 int main() { int c, counts[MAXVALUE] = {0}; while ((c = getchar()) != EOF) if (c != \u0026#39; \u0026#39; \u0026amp;\u0026amp; c != \u0026#39;\\t\u0026#39; \u0026amp;\u0026amp; c != \u0026#39;\\n\u0026#39;) counts[c]++; printf(\u0026#34;character\\tcounts\\n\u0026#34;); for (int i = 0; i \u0026lt; MAXVALUE; i++) { if (counts[i] != 0) { printf(\u0026#34;%9c\\t\u0026#34;, i); while (counts[i]--) putchar(\u0026#39;#\u0026#39;); putchar(\u0026#39;\\n\u0026#39;); } } } exercise1-15 é‡æ–°ç¼–å†™ 1.2 èŠ‚ä¸­çš„æ¸©åº¦è½¬æ¢ç¨‹åºï¼Œä½¿ç”¨å‡½æ•°å®ç°æ¸©åº¦è½¬æ¢è®¡ç®—ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 #include \u0026lt;stdio.h\u0026gt; float ctof(float celsius) { return (celsius + 32) * (9.0 / 5); } float ftoc(float fahr) { return (5.0 / 9) * (fahr - 32); } int main() { int fahr = 0, celsius = -200, upper = 300, step = 30; printf(\u0026#34;celsius\\t fahr\\n\u0026#34;); while (celsius \u0026lt;= upper) { printf(\u0026#34;%7d\\t %4.1f\\n\u0026#34;, celsius, ctof(celsius)); celsius += step; } printf(\u0026#34;\\nfahr\\tcelsius\\n\u0026#34;); while (fahr \u0026lt;= upper) { celsius = (5.0 / 9) * (fahr - 32); printf(\u0026#34;%4d\\t%7.2f\\n\u0026#34;, fahr, ftoc(fahr)); fahr += step; } } ","permalink":"https://fireflyyh.top/posts/tcpl/ch01/","summary":"ç¯å¢ƒgcc (Ubuntu 11.4.0-1ubuntu1~22.04) 11.4.0ã€‚ä½¿ç”¨gcc Exercise1-1.cå‘½ä»¤ã€‚\nexercise1-1 åœ¨ä½ è‡ªå·±çš„ç³»ç»Ÿä¸­è¿è¡Œâ€œhello, worldâ€ç¨‹åºã€‚å†æœ‰æ„å»æ‰ç¨‹åºä¸­çš„éƒ¨åˆ†å†…å®¹ï¼Œçœ‹çœ‹ä¼šå¾—åˆ°ä»€ä¹ˆå‡ºé”™ä¿¡æ¯ã€‚\n1 2 3 4 5 #include \u0026lt;stdio.h\u0026gt; main() { printf(\u0026#34;hello world!\u0026#34;); } é™¤å»å¤´æ–‡ä»¶ ä¸æŠ¥é”™ä¸”èƒ½è¿è¡Œï¼Œä½†æ˜¯ä¼šæœ‰è­¦å‘Šwarning: implicit declaration of function â€˜printfâ€™ [-Wimplicit-function-declaration]ã€‚\né™¤å»è¿”å›ç±»å‹ ä¸æŠ¥é”™ä¸”èƒ½è¿è¡Œï¼Œä½†æ˜¯ä¼šæœ‰è­¦å‘Šwarning: return type defaults to â€˜intâ€™ [-Wimplicit-int]ã€‚\nexercise1-2 åšä¸ªå®éªŒï¼Œå½“ printf å‡½æ•°çš„å‚æ•°å­—ç¬¦ä¸²ä¸­åŒ…å«\\cï¼ˆå…¶ä¸­ c æ˜¯ä¸Šé¢çš„è½¬ä¹‰å­—ç¬¦åºåˆ—ä¸­æœªæ›¾åˆ—å‡ºçš„æŸä¸€ä¸ªå­—ç¬¦ï¼‰æ—¶ï¼Œè§‚å¯Ÿä¸€ä¸‹ä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µã€‚\nexercise1-3 ä¿®æ”¹æ¸©åº¦è½¬æ¢ç¨‹åºï¼Œä½¿ä¹‹èƒ½åœ¨è½¬æ¢è¡¨çš„é¡¶éƒ¨æ‰“å°ä¸€ä¸ªæ ‡é¢˜\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 #include \u0026lt;stdio.h\u0026gt; int main() { float celsius; int fahr = 0, upper = 300, step = 30; printf(\u0026#34;fahr to celsius\\n\u0026#34;); while (fahr \u0026lt;= upper) { celsius = (5.","title":"Cè¯­è¨€ç¨‹åºè®¾è®¡ç¬¬äºŒç‰ˆè¯¾åä¹ é¢˜--ç¬¬ä¸€ç« "},{"content":"TLPI 22.4ï¼šå¤„ç†ç”±ç¡¬ä»¶äº§ç”Ÿçš„ä¿¡å· ä»£ç ï¼ˆä¸ºç½‘ç«™ä¸Šè·å–ï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 #define _GNU_SOURCE /* Get strsignal() declaration from \u0026lt;string.h\u0026gt; */ #include \u0026lt;string.h\u0026gt; #include \u0026lt;signal.h\u0026gt; #include \u0026lt;stdbool.h\u0026gt; #include \u0026#34;tlpi_hdr.h\u0026#34; /* SIGFPEä¿¡å·å¤„ç†å™¨å‡½æ•° */ static void sigfpeCatcher(int sig) { printf(\u0026#34;Caught signal %d (%s)\\n\u0026#34;, sig, strsignal(sig)); sleep(1); /* Slow down execution of handler */ } int main(int argc, char *argv[]) { /* å‚æ•°æœ‰ä¸‰ç§é€‰æ‹©ï¼Œ ç¬¬ä¸€ç§ï¼Œæ— å‚æ•°ï¼Œä¸ºæ•è·ä¿¡å·å¹¶è¿›å…¥å¤„ç†å™¨å‡½æ•° ç¬¬äºŒç§ï¼Œ-iï¼Œä¸ºå¿½ç•¥ä¿¡å· ç¬¬ä¸‰ç§ï¼Œ-bï¼Œä¸ºé˜»å¡ä¿¡å· */ if (argc \u0026gt; 1 \u0026amp;\u0026amp; strchr(argv[1], \u0026#39;i\u0026#39;) != NULL) { // strchrç”¨äºæŸ¥æ‰¾ç¬¬ä¸€æ¬¡å‡ºç°\u0026#39;i\u0026#39;çš„ä½ç½®ï¼Œå¹¶è¿”å›ä»¥å…¶ä¸ºé¦–çš„å­—ç¬¦ä¸² printf(\u0026#34;Ignoring SIGFPE\\n\u0026#34;); if (signal(SIGFPE, SIG_IGN) == SIG_ERR) // i-å¿½ç•¥SIGFPE errExit(\u0026#34;signal\u0026#34;); } else { printf(\u0026#34;Catching SIGFPE\\n\u0026#34;); struct sigaction sa; sigemptyset(\u0026amp;sa.sa_mask); // ä¸é˜»å¡ä»»ä½•ä¿¡å· sa.sa_flags = SA_RESTART; // è‡ªåŠ¨é‡å¯ sa.sa_handler = sigfpeCatcher; if (sigaction(SIGFPE, \u0026amp;sa, NULL) == -1) errExit(\u0026#34;sigaction\u0026#34;); } bool blocking = argc \u0026gt; 1 \u0026amp;\u0026amp; strchr(argv[1], \u0026#39;b\u0026#39;) != NULL; // b-é˜»å¡ä¿¡å· sigset_t prevMask; if (blocking) { printf(\u0026#34;Blocking SIGFPE\\n\u0026#34;); sigset_t blockSet; sigemptyset(\u0026amp;blockSet); sigaddset(\u0026amp;blockSet, SIGFPE); if (sigprocmask(SIG_BLOCK, \u0026amp;blockSet, \u0026amp;prevMask) == -1) errExit(\u0026#34;sigprocmask\u0026#34;); } printf(\u0026#34;About to generate SIGFPE\\n\u0026#34;); // å‡†å¤‡ç”ŸæˆSIGFPE int x, y; y = 0; x = 1 / y; // é™¤é›¶æ“ä½œï¼Œç”ŸæˆSIGFPE y = x; /* Avoid complaints from \u0026#34;gcc -Wunused-but-set-variable\u0026#34; */ if (blocking) { printf(\u0026#34;Sleeping before unblocking\\n\u0026#34;); sleep(2); printf(\u0026#34;Unblocking SIGFPE\\n\u0026#34;); if (sigprocmask(SIG_SETMASK, \u0026amp;prevMask, NULL) == -1) errExit(\u0026#34;sigprocmask\u0026#34;); } printf(\u0026#34;Shouldn\u0026#39;t get here!\\n\u0026#34;); exit(EXIT_FAILURE); } è§£é‡Š æ ¹æ®å‚æ•°ï¼Œè¿›è¡Œåç»­æ­¥éª¤ï¼š\nè‹¥æ— å‚æ•°ï¼Œåˆ™ç›´æ¥ä¸ºå…¶å»ºç«‹ä¿¡å·å¤„ç†å™¨å‡½æ•°ï¼Œå†…å®¹ä¸ºæ‰“å°å‡ºç›¸å…³ä¿¡æ¯ï¼› è‹¥ä¸º-iï¼Œåˆ™ä¸ºå¿½ç•¥ SIGFPE ä¿¡å·ï¼Œä½¿ç”¨signal(SIGFPE, SIG_IGN)è¿™è¡Œä»£ç æ¥å¿½ç•¥æµ®ç‚¹æ•°å¼‚å¸¸ï¼› è‹¥ä¸º-bï¼Œåˆ™ä¸ºé˜»å¡ä¿¡å·ï¼Œå…ˆå°† SIGFPE æ”¾å…¥ä¿¡å·æ©ç ï¼Œç„¶ååœ¨é”™è¯¯çš„æµ®ç‚¹æ•°è¿ç®—ä¹‹åå–æ¶ˆé˜»å¡ è¿è¡Œç»“æœ é»˜è®¤æƒ…å†µ é»˜è®¤æƒ…å†µä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 Catching SIGFPE About to generate SIGFPE Caught signal 8 (Floating point exception) Caught signal 8 (Floating point exception) Caught signal 8 (Floating point exception) Caught signal 8 (Floating point exception) Caught signal 8 (Floating point exception) Caught signal 8 (Floating point exception) Caught signal 8 (Floating point exception) ^\\[1] 116013 quit ./DEMO_SIGFPE åœ¨é™¤é›¶æ“ä½œä¹‹åï¼Œäº§ç”Ÿå¼‚å¸¸ï¼Œäº§ç”Ÿäº† SIGFPE ä¿¡å·ï¼Œå°†å…¶æ•è·ï¼Œæ‰“å°ä¿¡æ¯ï¼Œå¹¶ç¡çœ 1sã€‚ è¿è¡Œç»“æœä¸æ–­å‡ºç°ä¿¡æ¯çš„åŸå› æ˜¯ï¼Œåœ¨é€€å‡ºä¿¡å·å¤„ç†å™¨å‡½æ•°ä¹‹åï¼Œç¨‹åºåˆå›åˆ°ç»ˆç«¯å‡ºé‡æ–°è¿è¡Œï¼Œåœ¨æœ¬ç¨‹åºä¸­ï¼Œå°†ä¼šä¸æ–­åœ°é‡æ–°è¿›è¡Œé™¤é›¶æ“ä½œï¼Œä»è€Œä¸æ–­äº§ç”Ÿå¼‚å¸¸ã€‚\nå¿½ç•¥ä¿¡å· åœ¨è¿™ç§æƒ…å†µä¸‹ï¼š\n1 2 3 Ignoring SIGFPE About to generate SIGFPE [1] 113466 floating point exception ./DEMO_SIGFPE -i ç»“æœè¡¨æ˜ï¼Œå¹¶æ²¡æœ‰æˆåŠŸå¿½ç•¥è¯¥ä¿¡å·ï¼Œè¿™ä¹ŸéªŒè¯äº† TLPI ä¸­çš„æè¿°ï¼š\nå½“ç”±äºç¡¬ä»¶å¼‚å¸¸è€Œäº§ç”Ÿä¸Šè¿°ä¿¡å·ä¹‹ä¸€æ—¶ï¼ŒLinux ä¼šå¼ºåˆ¶ä¼ é€’ ä¿¡å·ï¼Œå³ä½¿ç¨‹åºå·²ç»è¯·æ±‚å¿½ç•¥æ­¤ç±»ä¿¡å·ã€‚\né˜»å¡ä¿¡å· åœ¨è¿™ç§æƒ…å†µä¸‹ï¼š\n1 2 3 Blocking SIGFPE About to generate SIGFPE [1] 116212 floating point exception ./DEMO_SIGFPE -b åŒæ ·åœ°ï¼Œä¹Ÿå¹¶æ²¡æœ‰é˜»å¡è¯¥ä¿¡å·ã€‚\nå§‹äº Linux 2.6ï¼Œå¦‚æœä¿¡å·é­åˆ°é˜»å¡ï¼Œé‚£ä¹ˆè¯¥ä¿¡å·æ€»æ˜¯ä¼šç«‹åˆ»æ€æ­»è¿›ç¨‹ï¼Œå³ä½¿è¿›ç¨‹å·²ç»ä¸ºæ­¤ä¿¡å·å®‰è£…äº†å¤„ç†å™¨å‡½æ•°ã€‚\n","permalink":"https://fireflyyh.top/posts/tlpi/demo_sigfpe/","summary":"TLPI 22.4ï¼šå¤„ç†ç”±ç¡¬ä»¶äº§ç”Ÿçš„ä¿¡å· ä»£ç ï¼ˆä¸ºç½‘ç«™ä¸Šè·å–ï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 #define _GNU_SOURCE /* Get strsignal() declaration from \u0026lt;string.","title":"ç¡¬ä»¶äº§ç”Ÿçš„ä¿¡å·"},{"content":"TLPI 21.1.2: å¯é‡å…¥å‡½æ•°å’Œå¼‚æ­¥ä¿¡å·å®‰å…¨å‡½æ•° ä»£ç  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 #define _XOPEN_SOURCE 600 #include \u0026lt;unistd.h\u0026gt; #include \u0026lt;signal.h\u0026gt; #include \u0026lt;string.h\u0026gt; #include \u0026lt;crypt.h\u0026gt; #include \u0026#34;tlpi_hdr.h\u0026#34; static char *str2; static int handled = 0; // è®¾ç½®å¤„ç†å™¨å‡½æ•°ï¼Œä¸€æ—¦é‡ä¸ŠSIGINTï¼Œä¾¿å¯¹str2è¿›è¡ŒåŠ å¯† static void handler(int sig) { crypt(str2, \u0026#34;xx\u0026#34;); handled++; } int main(int argc, char *argv[]) { char *cr1; int callNum, mismatch; struct sigaction sa; if (argc != 3) usageErr(\u0026#34;%s str1 str2\\n\u0026#34;, argv[0]); str2 = argv[2]; // å¯¹str1è¿›è¡ŒåŠ å¯†ï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ°ç‹¬ç«‹ç¼“å†²åŒºä¸­ cr1 = strdup(crypt(argv[1], \u0026#34;xx\u0026#34;)); if (cr1 == NULL) errExit(\u0026#34;strdup\u0026#34;); sigemptyset(\u0026amp;sa.sa_mask); // åˆå§‹åŒ–åœ¨æ‰§è¡Œå¤„ç†å™¨å‡½æ•°æ—¶å°†é˜»å¡çš„ä¿¡å· sa.sa_flags = 0; // å³sa.sa_flags = SIG_BLOCK sa.sa_handler = handler; // è®¾ç½®ä¿¡å·å¤„ç†å™¨å‡½æ•°çš„åœ°å€ if (sigaction(SIGINT, \u0026amp;sa, NULL) == -1) errExit(\u0026#34;sigaction\u0026#34;); for (callNum = 1, mismatch = 0; ; callNum++) { if (strcmp(crypt(argv[1], \u0026#34;xx\u0026#34;), cr1) != 0) { mismatch++; printf(\u0026#34;Mismatch on call %d (mismatch=%d handled=%d)\\n\u0026#34;, callNum, mismatch, handled); } } } è§£é‡Š crypt() éœ€è¦åŠ å…¥#include \u0026lt;crypt.h\u0026gt;ï¼Œå¦‚æœä¸åŠ ä¸Šè¯¥å¤´æ–‡ä»¶ï¼Œä¼šå‡ºç°implicit declaration of function â€˜cryptâ€™çš„é”™è¯¯ã€‚\né’ˆå¯¹äºundefined reference to `crypt\u0026rsquo;çš„é”™è¯¯ï¼Œstackoverflowæœ‰ä»¥ä¸‹æ–¹æ¡ˆï¼š\ncrypt.c:(.text+0xf1): undefined reference to \u0026lsquo;crypt\u0026rsquo; is a linker error. Try linking with -lcrypt : gcc crypt.c -lcrypt.\nå³ï¼Œåœ¨CMakeLists.txtæ–‡ä»¶ä¸­åŠ å…¥link_libraries(crypt)ã€‚\nforå¾ªç¯å†…éƒ¨ åœ¨è¿™ä¸ªæ— é™å¾ªç¯ä¸­ï¼Œä¸æ–­å¯¹str1è¿›è¡ŒåŠ å¯†ï¼Œå¹¶ä¸æ­£ç¡®ç»“æœè¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœstr1åœ¨åŠ å¯†çš„è¿‡ç¨‹ä¸­ä¸è¢«æ‰“æ–­ï¼Œåˆ™ä¼šå¾—åˆ°æ­£ç¡®ç»“æœï¼Œä½†æ˜¯å¦‚æœè¢«æ‰“æ–­å¹¶åœ¨å¤„ç†å™¨å‡½æ•°ä¸­å¯¹str2è¿›è¡ŒåŠ å¯†ï¼Œåˆ™ä¼šå¯¹str1åŠ å¯†çš„ç»“æœäº§ç”Ÿæ±¡æŸ“ï¼Œå¯¼è‡´è¯¥åŠ å¯†çš„ç»“æœä¸æ­£ç¡®ï¼Œä»¥æ­¤æ¥åˆ¤æ–­ä¿¡å·å¤„ç†å™¨å‡½æ•°æ˜¯å¦å¯¹ä¸å¯é‡å…¥å‡½æ•°äº§ç”Ÿäº†å½±å“ã€‚\n","permalink":"https://fireflyyh.top/posts/tlpi/nonreentrant/","summary":"TLPI 21.1.2: å¯é‡å…¥å‡½æ•°å’Œå¼‚æ­¥ä¿¡å·å®‰å…¨å‡½æ•° ä»£ç  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 #define _XOPEN_SOURCE 600 #include \u0026lt;unistd.h\u0026gt; #include \u0026lt;signal.h\u0026gt; #include \u0026lt;string.h\u0026gt; #include \u0026lt;crypt.h\u0026gt; #include \u0026#34;tlpi_hdr.h\u0026#34; static char *str2; static int handled = 0; // è®¾ç½®å¤„ç†å™¨å‡½æ•°ï¼Œä¸€æ—¦é‡ä¸ŠSIGINTï¼Œä¾¿å¯¹str2è¿›è¡ŒåŠ å¯† static void handler(int sig) { crypt(str2, \u0026#34;xx\u0026#34;); handled++; } int main(int argc, char *argv[]) { char *cr1; int callNum, mismatch; struct sigaction sa; if (argc !","title":"ä¿¡å·å¤„ç†å‡½æ•°ä¸­è°ƒç”¨ä¸å¯é‡å…¥çš„å‡½æ•°"},{"content":"TLPI 21.3ï¼šåœ¨å¤‡é€‰æ ˆä¸­å¤„ç†ä¿¡å·ï¼šsigaltstack() ä»£ç  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 static void sigsegvHandler(int sig) { int x; // æ•æ‰ä¿¡å·ï¼Œå¹¶é€šè¿‡å±€éƒ¨å˜é‡çš„ä½ç½®æ¥å¤§è‡´åˆ¤æ–­ä¸ºå½“å‰å‡½æ•°æ‰€åˆ†é…çš„ç©ºé—´å¤„äºä»€ä¹ˆä½ç½® printf(\u0026#34;Caught signal %d (%s)\\n\u0026#34;, sig, strsignal(sig)); printf(\u0026#34;Top of handler stack near %10p\\n\u0026#34;, (void *)\u0026amp;x); // fflush(NULL)çš„ä½œç”¨æ˜¯åœ¨ç¨‹åºå¼‚å¸¸ç»ˆæ­¢å‰ç¡®ä¿æ‰€æœ‰æ ‡å‡†è¾“å‡ºç¼“å†²åŒºçš„æ•°æ®éƒ½è¢«å†™å…¥åˆ°ç›¸åº”çš„è¾“å‡ºè®¾å¤‡ã€‚ fflush(NULL); _exit(EXIT_FAILURE); } static void overflowStack(int callNum) { char a[100000]; // æ­¤ç±»åˆ†é…æ•°ç»„æ–¹å¼ä¸ºæ ˆä¸Šåˆ†é… printf(\u0026#34;Call %4d - top of stack near %10p\\n\u0026#34;, callNum, \u0026amp;a[0]); overflowStack(callNum + 1); // æ— é™é€’å½’è°ƒç”¨ï¼Œä¸æ–­åœ¨æ ˆä¸Šåˆ†é…ç©ºé—´ï¼Œæ¯æ¬¡åˆ†é…100000å­—èŠ‚ä»¥ä¸Š } int main(int argc, char *argv[]) { stack_t sigstack; struct sigaction sa; int j; printf(\u0026#34;Top of standard stack is near %10p\\n\u0026#34;, (void *)\u0026amp;j); // åˆ†é…å¤‡ç”¨æ ˆå¹¶é€šçŸ¥å†…æ ¸ // åœ¨å †å½“ä¸­åˆ†é…å¤‡ç”¨æ ˆ sigstack.ss_sp = malloc(SIGSTKSZ); if (sigstack.ss_sp == NULL) errExit(\u0026#34;malloc\u0026#34;); sigstack.ss_size = SIGSTKSZ; // é»˜è®¤æ ˆå¤§å° sigstack.ss_flags = 0; // sig alt stack if (sigaltstack(\u0026amp;sigstack, NULL) == -1) errExit(\u0026#34;sigaltstack\u0026#34;); // sbrk(0)è¿”å›å½“å‰è¿›ç¨‹çš„å †é¡¶åœ°å€ printf(\u0026#34;Alternate stack is at %10p-%p\\n\u0026#34;, sigstack.ss_sp, (char *)sbrk(0) - 1); // è®¾ç½®ä¿¡å·å¤„ç†å™¨å‡½æ•°ï¼Œå¹¶ä¸”ä¸é˜»å¡ä»»ä½•ä¿¡å· sa.sa_handler = sigsegvHandler; sigemptyset(\u0026amp;sa.sa_mask); sa.sa_flags = SA_ONSTACK; if (sigaction(SIGSEGV, \u0026amp;sa, NULL) == -1) errExit(\u0026#34;sigaction\u0026#34;); // é€’å½’è°ƒç”¨overflowStack() overflowStack(1); } è§£é‡Š ulimit ä½¿ç”¨ulimit -s unlimitedä¼šè´Ÿè´£ç§»é™¤å½“å‰ shell ä¼šè¯æ—¶è®¾ç½®çš„ä»»ä½• RLIMIT_STACK èµ„æºé™åˆ¶ï¼Œå¯¹å…¶ä»– shell ä¼šè¯æ— å½±å“ã€‚ä½†æ˜¯åœ¨ä½¿ç”¨äº†è¿™å¥è¯ä¹‹åè°ƒç”¨ç¨‹åºï¼Œç³»ç»Ÿä¼šä¸€ç›´æ‰“å°ä¿¡æ¯è‡³Call 78522 - top of stack near 0x7ffa472aac80ï¼Œå³é€’å½’è°ƒç”¨äº†78522æ¬¡ï¼Œç„¶å[1] 16044 killed ./T_SIGALTSTACKç›´æ¥å°†è¿›ç¨‹æ€æ­»ã€‚å¹¶æ²¡æœ‰å‡ºç°é¢„æœŸçš„Caught signal 11 (Segmentation fault)ã€‚\näºæ˜¯æˆ‘å°†é™åˆ¶èµ„æºå›å¤æˆäº†é»˜è®¤å¤§å°ï¼Œå†è¿›è¡Œè°ƒç”¨ï¼Œå‡ºç°äº†é¢„æœŸçš„ç»“æœï¼š\n1 2 3 4 5 6 7 8 Top of standard stack is near 0x7ffd97398ebc Alternate stack is at 0x55fb092fd6b0-0x55fb0931dfff Call 1 - top of stack near 0x7ffd973807e0 Call 2 - top of stack near 0x7ffd97368110 ... Call 83 - top of stack near 0x7ffd96bad940 Caught signal 11 (Segmentation fault) Top of handler stack near 0x55fb092ff164 ç»è¿‡æŸ¥é˜…èµ„æ–™ï¼Œå½“ä½¿ç”¨ulimit -s unlimitedæ¥ç§»é™¤æ ˆå¤§å°é™åˆ¶æ—¶ï¼Œç¨‹åºå¯ä»¥æ— é™åˆ¶åœ°ä½¿ç”¨æ ˆç©ºé—´ã€‚åœ¨æœ¬ä»£ç ä¸­ï¼ŒoverflowStack()å‡½æ•°é€šè¿‡é€’å½’è°ƒç”¨ï¼Œä¸æ–­åˆ†é…å¤§é‡å†…å­˜ï¼ˆæ¯æ¬¡è°ƒç”¨åˆ†é…100000å­—èŠ‚ï¼‰ï¼Œå¾ˆå¿«ä¼šè€—å°½ç³»ç»Ÿçš„å¯ç”¨å†…å­˜ã€‚ å½“ç³»ç»Ÿæ£€æµ‹åˆ°å†…å­˜è€—å°½æ—¶ï¼Œä¼šå¯åŠ¨ OOM Killer æ¥ç»ˆæ­¢å ç”¨å¤§é‡å†…å­˜çš„è¿›ç¨‹ã€‚å½“ç¨‹åºåœ¨é€’å½’è°ƒç”¨äº†78522æ¬¡åï¼Œå ç”¨äº†å¤§é‡å†…å­˜ï¼Œè§¦å‘äº† OOM Killerï¼Œç›´æ¥å°†è¿›ç¨‹ç»ˆæ­¢ï¼Œæ‰€ä»¥è¿›ç¨‹è¢«ç›´æ¥æ€æ­»è€Œä¸æ˜¯è§¦å‘ SIGSEGV ä¿¡å·å¤„ç†ç¨‹åºã€‚\nfflush(NULL) å…³äºfflush(NULL)ï¼Œæ˜¯ä¸ºäº†åœ¨ç¨‹åºå¼‚å¸¸ç»ˆæ­¢å‰ç¡®ä¿æ‰€æœ‰æ ‡å‡†è¾“å‡ºç¼“å†²åŒºçš„æ•°æ®éƒ½è¢«å†™å…¥åˆ°ç›¸åº”çš„è¾“å‡ºè®¾å¤‡ã€‚å°½ç®¡ç¨‹åºæœ‰å›ºå®šçš„æ‰§è¡Œé¡ºåºï¼Œä½†æ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰é€šå¸¸æ˜¯ç¼“å†²çš„ã€‚è¿™æ„å‘³ç€è¾“å‡ºçš„æ•°æ®å¹¶ä¸ä¼šç«‹å³è¢«å†™å…¥åˆ°å±å¹•æˆ–æ–‡ä»¶ï¼Œè€Œæ˜¯å…ˆå­˜å‚¨åœ¨ç¼“å†²åŒºä¸­ï¼Œç›´åˆ°ç¼“å†²åŒºæ»¡æˆ–è€…é‡åˆ°åˆ·æ–°æ“ä½œï¼ˆå¦‚æ¢è¡Œã€fflush è°ƒç”¨ç­‰ï¼‰æ‰ä¼šè¢«çœŸæ­£å†™å‡ºã€‚\nåœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œprintfè¾“å‡ºçš„æ•°æ®ä¼šåœ¨é€‚å½“çš„æ—¶æœºåˆ·æ–°åˆ°å±å¹•ä¸Šã€‚ä½†æ˜¯ï¼Œå¦‚æœç¨‹åºå¼‚å¸¸ç»ˆæ­¢ï¼Œç¼“å†²åŒºä¸­çš„æ•°æ®å¯èƒ½æ²¡æœ‰æœºä¼šè¢«åˆ·æ–°ï¼Œä»è€Œå¯¼è‡´éƒ¨åˆ†æˆ–å…¨éƒ¨è¾“å‡ºä¸¢å¤±ã€‚exit å‡½æ•°ä¼šæ‰§è¡Œæ ‡å‡†åº“çš„æ¸…ç†æ“ä½œï¼ŒåŒ…æ‹¬åˆ·æ–°ç¼“å†²åŒºã€‚ä½† _exit å‡½æ•°æ˜¯ç›´æ¥é€€å‡ºï¼Œä¸è¿›è¡Œä»»ä½•æ¸…ç†æ“ä½œï¼ŒåŒ…æ‹¬ç¼“å†²åŒºçš„åˆ·æ–°ã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆç¤ºä¾‹ç¨‹åºåœ¨_exit() ä¹‹å‰è¦è¿›è¡Œfflush() æ“ä½œã€‚\n","permalink":"https://fireflyyh.top/posts/tlpi/t_sigaltstack/","summary":"TLPI 21.3ï¼šåœ¨å¤‡é€‰æ ˆä¸­å¤„ç†ä¿¡å·ï¼šsigaltstack() ä»£ç  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 static void sigsegvHandler(int sig) { int x; // æ•æ‰ä¿¡å·ï¼Œå¹¶é€šè¿‡å±€éƒ¨å˜é‡çš„ä½ç½®æ¥å¤§è‡´åˆ¤æ–­ä¸ºå½“å‰å‡½æ•°æ‰€åˆ†é…çš„ç©ºé—´å¤„äºä»€ä¹ˆä½ç½® printf(\u0026#34;Caught signal %d (%s)\\n\u0026#34;, sig, strsignal(sig)); printf(\u0026#34;Top of handler stack near %10p\\n\u0026#34;, (void *)\u0026amp;x); // fflush(NULL)çš„ä½œç”¨æ˜¯åœ¨ç¨‹åºå¼‚å¸¸ç»ˆæ­¢å‰ç¡®ä¿æ‰€æœ‰æ ‡å‡†è¾“å‡ºç¼“å†²åŒºçš„æ•°æ®éƒ½è¢«å†™å…¥åˆ°ç›¸åº”çš„è¾“å‡ºè®¾å¤‡ã€‚ fflush(NULL); _exit(EXIT_FAILURE); } static void overflowStack(int callNum) { char a[100000]; // æ­¤ç±»åˆ†é…æ•°ç»„æ–¹å¼ä¸ºæ ˆä¸Šåˆ†é… printf(\u0026#34;Call %4d - top of stack near %10p\\n\u0026#34;, callNum, \u0026amp;a[0]); overflowStack(callNum + 1); // æ— é™é€’å½’è°ƒç”¨ï¼Œä¸æ–­åœ¨æ ˆä¸Šåˆ†é…ç©ºé—´ï¼Œæ¯æ¬¡åˆ†é…100000å­—èŠ‚ä»¥ä¸Š } int main(int argc, char *argv[]) { stack_t sigstack; struct sigaction sa; int j; printf(\u0026#34;Top of standard stack is near %10p\\n\u0026#34;, (void *)\u0026amp;j); // åˆ†é…å¤‡ç”¨æ ˆå¹¶é€šçŸ¥å†…æ ¸ // åœ¨å †å½“ä¸­åˆ†é…å¤‡ç”¨æ ˆ sigstack.","title":"åœ¨å¤‡é€‰æ ˆä¸­å¤„ç†ä¿¡å·"},{"content":"å¤„ç†SIGCHLDä¿¡å· 1 2 3 4 5 6 7 8 9 10 11 12 void sig_chld(int signo) { pid_t pid; int stat; // wait()æ˜¯ä¸ºäº†æ¸…ç†åƒµæ­»è¿›ç¨‹ // pid = wait(\u0026amp;stat); // printf(\u0026#34;child %d terminated\\n\u0026#34;, pid); while ((pid = waitpid(-1, \u0026amp;stat, WNOHANG)) \u0026gt; 0) printf(\u0026#34;child %d terminated\\n\u0026#34;, pid); return; } waitç‰ˆæœ¬è¡Œä¸é€šçš„åŸå›  è‹¥æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯åœ¨åŒä¸€ä¸»æœºä¸Šï¼Œåˆ™è¯¥ä¿¡å·å¤„ç†å‡½æ•°åªæ‰§è¡Œè¿‡ä¸€æ¬¡ï¼ˆæ ¹æ®UNPçš„æè¿°æ˜¯è¿™æ ·çš„ï¼Œä½†æ˜¯æœ¬äººå®æµ‹ï¼Œä¿¡å·å¤„ç†å™¨å‡½æ•°æ‰§è¡Œäº†ä¸¤æ¬¡ï¼‰ã€‚ ä½†æ˜¯å¦‚æœæˆ‘ä»¬åœ¨ä¸åŒçš„ä¸»æœºä¸Šè¿è¡Œå®¢æˆ·å’ŒæœåŠ¡å™¨ï¼Œé‚£ä¹ˆä¿¡å·å¤„ç†å™¨å‡½æ•°ä¸€èˆ¬æ‰§è¡Œä¸¤æ¬¡ï¼šä¸€æ¬¡æ˜¯ç”±ç¬¬ä¸€ä¸ªäº§ç”Ÿçš„ä¿¡å·å¼•èµ·çš„ï¼Œç”±äºå¦å¤–4ä¸ªä¿¡å·åœ¨ä¿¡å·å¤„ç†å‡½æ•°ç¬¬ä¸€æ¬¡æ‰§è¡Œæ—¶å‘ç”Ÿï¼Œå› ä¸ºè¯¥å¤„ç†å‡½æ•°ä»…ä»…å†è¢«è°ƒç”¨ä¸€æ¬¡ï¼Œä»è€Œç•™ä¸‹3ä¸ªåƒµæ­»è¿›ç¨‹ã€‚ ä¸è¿‡æœ‰çš„æ—¶å€™ï¼Œæ ¹æ®FINåˆ°è¾¾ä¸»æœºçš„æ—¶æœºï¼Œä¿¡å·å¤„ç†å‡½æ•°å¯èƒ½ä¼šæ‰§è¡Œ3æ¬¡ç”šè‡³4æ¬¡\næ ¹æ®æœ¬äººçŒœæƒ³ï¼Œå¦‚æœåœ¨ç›¸åŒä¸»æœºæµ‹è¯•ï¼Œç”±äºæ²¡æœ‰ç½‘ç»œæ•°æ®ä¼ æ’­æ—¶å»¶çš„å½±å“ï¼Œæœ¬æœºçš„å®¢æˆ·ç«¯æ‰€æœ‰äº”ä¸ªFINéƒ½å‡ ä¹åœ¨åŒä¸€æ—¶é—´ä¼ é€’ç»™æœåŠ¡å™¨ï¼Œ ä»è€Œä½¿å¾—æœåŠ¡å™¨çš„5ä¸ªå­è¿›ç¨‹åŸºæœ¬åœ¨åŒä¸€æ—¶åˆ»ç»ˆæ­¢ï¼Œä»è€Œ5ä¸ªSIGCHLDåœ¨åŒä¸€æ—¶åˆ»å‘é€ç»™çˆ¶è¿›ç¨‹ï¼Œéƒ½åœ¨ç¬¬ä¸€ä¸ªä¿¡å·å¤„ç†å‡½æ•°æ‰§è¡Œä¹‹å‰å‘ç”Ÿï¼Œ è€ŒUnixä¿¡å·ä¸€èˆ¬æ˜¯ä¸æ’é˜Ÿçš„ï¼ˆè¿™é‡Œè¯¦è§TLPIå¯¹åº”çš„å°èŠ‚ï¼‰ï¼Œå› æ­¤ä¿¡å·å¤„ç†å‡½æ•°åªæ‰§è¡Œä¸€æ¬¡ã€‚\nä½†æ˜¯å¦‚æœåœ¨ä¸åŒä¸»æœºæµ‹è¯•ï¼Œç”±äºç½‘ç»œæ•°æ®ä¼ æ’­ï¼Œå„ä¸ªFINåˆ°è¾¾æœåŠ¡å™¨çš„æ—¶é—´å·®è¾ƒå¤§ä¸€äº›ï¼Œå¯¼è‡´FINä»¥ä¸å¯å¿½ç•¥çš„æ—¶å·®åˆ°è¾¾æœåŠ¡å™¨ã€‚ ä¾‹å¦‚åœ¨å¤„ç†ç¬¬ä¸€ä¸ªSIGCHLDä¿¡å·æ—¶ï¼Œå…¶ä»–FINæ‰åˆ°è¾¾ï¼Œä»è€Œå¼•èµ·ä¿¡å·å¤„ç†å‡½æ•°æ‰§è¡Œå¤šæ¬¡ã€‚\n1 2 3 4 5 6 7 âœ bin git:(main) âœ— ./TCPSERV03 \u0026amp; [1] 65001 âœ bin git:(main) âœ— ./TCPCLI04 127.0.0.1 hell hell child 65324 terminated child 65325 terminated waitpid()ç‰ˆæœ¬è¡Œå¾—é€š æ¸…ç†åƒµå°¸è¿›ç¨‹ 1 2 while ((pid = waitpid(-1, \u0026amp;stat, WNOHANG)) \u0026gt; 0) printf(\u0026#34;child %d terminated\\n\u0026#34;, pid); waitpid(-1, \u0026amp;stat, WNOHANG)ï¼šè¿™éƒ¨åˆ†ä»£ç æ˜¯å…³é”®ã€‚waitpid å‡½æ•°ç”¨äºç­‰å¾…å­è¿›ç¨‹çš„çŠ¶æ€æ”¹å˜ã€‚\npid = -1ï¼šè¡¨ç¤ºç­‰å¾…ä»»ä½•å­è¿›ç¨‹ã€‚ \u0026amp;statï¼šæ˜¯ä¸€ä¸ªæŒ‡å‘ int çš„æŒ‡é’ˆï¼Œç”¨äºå­˜å‚¨å­è¿›ç¨‹çš„ç»ˆæ­¢çŠ¶æ€ã€‚ WNOHANGï¼šè¿™ä¸ªé€‰é¡¹å‘Šè¯‰ waitpid éé˜»å¡è¿è¡Œã€‚å¦‚æœæ²¡æœ‰å­è¿›ç¨‹ç»ˆæ­¢ï¼Œwaitpid å°†ç«‹å³è¿”å›ï¼Œè€Œä¸æ˜¯é˜»å¡ç­‰å¾…ã€‚ while å¾ªç¯ï¼šè¿™ä¸ªå¾ªç¯ä¼šä¸€ç›´æ‰§è¡Œï¼Œç›´åˆ°æ²¡æœ‰å­è¿›ç¨‹ç»ˆæ­¢ä¸ºæ­¢ã€‚waitpid è¿”å›å€¼ä¼šæ˜¯ï¼š\nå¤§äº 0 çš„å€¼ï¼šè¡¨ç¤ºç»ˆæ­¢çš„å­è¿›ç¨‹çš„ PIDï¼Œè¡¨æ˜æœ‰ä¸€ä¸ªå­è¿›ç¨‹ç»“æŸã€‚ 0ï¼šè¡¨ç¤ºæ²¡æœ‰å­è¿›ç¨‹ç»ˆæ­¢ã€‚ -1ï¼šè¡¨ç¤ºæ²¡æœ‰æ›´å¤šçš„å­è¿›ç¨‹æˆ–è€…è°ƒç”¨å¤±è´¥ã€‚ ä»£ç æ€»ç»“ è¿™æ®µä»£ç å®ç°äº†ä¸€ä¸ªä¿¡å·å¤„ç†å‡½æ•° sig_chldï¼Œç”¨äºå¤„ç† SIGCHLD ä¿¡å·ã€‚å½“ä¸€ä¸ªå­è¿›ç¨‹ç»ˆæ­¢æ—¶ï¼Œçˆ¶è¿›ç¨‹ä¼šæ”¶åˆ° SIGCHLD ä¿¡å·ï¼Œè§¦å‘è¿™ä¸ªå¤„ç†å‡½æ•°ã€‚è¯¥å‡½æ•°ä½¿ç”¨ waitpid ç»“åˆ WNOHANG é€‰é¡¹æ¥å¤„ç†æ‰€æœ‰ç»ˆæ­¢çš„å­è¿›ç¨‹ï¼Œå¹¶é¿å…äº§ç”Ÿåƒµå°¸è¿›ç¨‹ã€‚åƒµå°¸è¿›ç¨‹ä¼šå ç”¨ç³»ç»Ÿèµ„æºï¼Œå› æ­¤åœ¨æ¥æ”¶åˆ° SIGCHLD ä¿¡å·æ—¶åŠæ—¶æ¸…ç†å­è¿›ç¨‹çš„é€€å‡ºçŠ¶æ€æ˜¯å¾ˆé‡è¦çš„ã€‚\nè¿™ç§å¤„ç†æ–¹å¼ç¡®ä¿äº†çˆ¶è¿›ç¨‹å¯ä»¥ç»§ç»­å¤„ç†å¤šä¸ªå­è¿›ç¨‹çš„ç»ˆæ­¢ï¼Œè€Œä¸ä¼šå› ä¸ºæŸä¸ªå­è¿›ç¨‹çš„ç»ˆæ­¢è€Œå¯¼è‡´é˜»å¡ï¼Œä»è€Œé¿å…äº§ç”Ÿåƒµå°¸è¿›ç¨‹ã€‚\nè¿è¡Œç»“æœï¼š\n1 2 3 4 5 6 7 8 9 10 âœ bin git:(main) âœ— ./TCPSERV04 \u0026amp; [1] 56786 âœ bin git:(main) âœ— ./TCPCLI04 127.0.0.1 htl htl child 56992 terminated child 56993 terminated child 56994 terminated child 56995 terminated child 56996 terminated ä¸åœ¨å¾ªç¯å†…éƒ¨ä½¿ç”¨wait()çš„åŸå›  åœ¨ä¿¡å·å¤„ç†å‡½æ•°ä¸­ä½¿ç”¨ waitpid() è€Œä¸æ˜¯ wait() çš„åŸå› ä¸»è¦æ¶‰åŠåˆ°ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š\n1. é¿å…é—æ¼å­è¿›ç¨‹çš„ç»ˆæ­¢ waitpid() åœ¨å¾ªç¯ä¸­ä¸ WNOHANG é€‰é¡¹ä¸€èµ·ä½¿ç”¨ï¼Œå¯ä»¥ç¡®ä¿æ‰€æœ‰å·²ç»ˆæ­¢çš„å­è¿›ç¨‹éƒ½è¢«å¤„ç†ã€‚å› ä¸º waitpid() åœ¨æ¯æ¬¡è°ƒç”¨æ—¶è¿”å›ä¸€ä¸ªå·²ç»ˆæ­¢çš„å­è¿›ç¨‹çš„ PIDï¼Œå½“æ²¡æœ‰æ›´å¤šå­è¿›ç¨‹ç»ˆæ­¢æ—¶è¿”å› 0ã€‚é€šè¿‡å¾ªç¯è°ƒç”¨ waitpid()ï¼Œä½ å¯ä»¥ç¡®ä¿æ¯ä¸ªå·²ç»ˆæ­¢çš„å­è¿›ç¨‹éƒ½è¢«æ­£ç¡®å¤„ç†ï¼Œä»è€Œé¿å…é—æ¼ã€‚\nç›¸æ¯”ä¹‹ä¸‹ï¼Œwait() åªèƒ½ä¸€æ¬¡ç­‰å¾…ä¸€ä¸ªå­è¿›ç¨‹ç»ˆæ­¢ã€‚å¦‚æœæœ‰å¤šä¸ªå­è¿›ç¨‹åœ¨çŸ­æ—¶é—´å†…ç»ˆæ­¢ï¼Œè€Œ wait() åªè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œå¯èƒ½ä¼šé—æ¼å¤„ç†å…¶ä¸­çš„ä¸€äº›å­è¿›ç¨‹ã€‚è¿™äº›æœªå¤„ç†çš„å­è¿›ç¨‹å°±ä¼šæˆä¸ºåƒµå°¸è¿›ç¨‹ï¼Œæµªè´¹ç³»ç»Ÿèµ„æºã€‚\n2. éé˜»å¡çš„ç­‰å¾… waitpid() ä¸ WNOHANG é€‰é¡¹ç»“åˆä½¿ç”¨æ˜¯éé˜»å¡çš„ï¼Œå®ƒå…è®¸ä¿¡å·å¤„ç†ç¨‹åºæ£€æŸ¥æ‰€æœ‰å­è¿›ç¨‹æ˜¯å¦ç»ˆæ­¢ï¼Œè€Œä¸ä¼šå› æ²¡æœ‰ç»ˆæ­¢çš„å­è¿›ç¨‹è€Œé˜»å¡ã€‚è¿™æ ·ï¼Œä¿¡å·å¤„ç†å‡½æ•°å¯ä»¥è¿…é€Ÿè¿”å›ï¼Œç»§ç»­å¤„ç†å…¶ä»–ä»»åŠ¡ã€‚\nåœ¨æ²¡æœ‰å¾ªç¯æ—¶ï¼Œè°ƒç”¨wait()ä¸ä¼šå¯¼è‡´å‡ºç°é˜»å¡ç­‰å¾…ï¼Œå› ä¸ºå½“è¿›å…¥è¯¥å¤„ç†å‡½æ•°æ—¶ï¼Œè¯´æ˜å¿…ç„¶æœ‰å‡½æ•°ç»ˆæ­¢äº†ï¼Œåªä¸è¿‡æ˜¯1ä¸ªè¿˜æ˜¯å¤šä¸ªçš„é—®é¢˜ æ— è®ºæ˜¯ä¸€ä¸ªè¿˜æ˜¯å¤šä¸ªï¼Œwait()éƒ½åªèƒ½å¤„ç†æ‰ä¸€ä¸ªï¼Œç„¶åè¿”å›ï¼Œé€€å‡ºå¤„ç†å™¨å‡½æ•°\nå¦‚æœåœ¨å¾ªç¯ä¸­è°ƒç”¨ wait()ï¼Œä¸€æ—¦æ²¡æœ‰å­è¿›ç¨‹ç»ˆæ­¢ï¼Œwait() å°±ä¼šé˜»å¡ï¼Œè¿™ä¼šå¯¼è‡´æ•´ä¸ªä¿¡å·å¤„ç†ç¨‹åºæŒ‚èµ·ï¼Œä¸èƒ½ç«‹å³è¿”å›ã€‚ ä¾‹å¦‚ï¼Œç¬¬ä¸€ä¸ªè¿›ç¨‹ç»ˆæ­¢åï¼Œçˆ¶è¿›ç¨‹è¿›å…¥äº†å¤„ç†å™¨å‡½æ•°ï¼Œå¤„ç†äº†ç¬¬ä¸€ä¸ªè¿›ç¨‹ä¹‹åï¼Œä¾¿ä¼šç»§ç»­å¾ªç¯ç­‰å¾…ä¸‹ä¸€ä¸ªç»ˆæ­¢è¿›ç¨‹ï¼Œ è‹¥æ˜¯ä¸‹ä¸€ä¸ªè¿›ç¨‹è¿Ÿè¿Ÿä¸è¿›å…¥ç»ˆæ­¢çŠ¶æ€ï¼Œåˆ™çˆ¶è¿›ç¨‹åˆ™éœ€è¦ä¸€ç›´é˜»å¡ç­‰å¾…ã€‚ é˜»å¡åœ¨ä¿¡å·å¤„ç†ç¨‹åºä¸­é€šå¸¸æ˜¯ä¸è¢«æ¨èçš„ï¼Œå› ä¸ºè¿™å¯èƒ½å¯¼è‡´ç³»ç»Ÿå…¶ä»–éƒ¨åˆ†çš„å»¶è¿Ÿæˆ–ä¸è‰¯çš„å“åº”æ—¶é—´ã€‚\n3. å¤„ç†å¤šä¸ªå­è¿›ç¨‹çš„ç»ˆæ­¢ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¤šä¸ªå­è¿›ç¨‹å¯èƒ½åœ¨éå¸¸çŸ­çš„æ—¶é—´å†…å‡ ä¹åŒæ—¶ç»ˆæ­¢ã€‚å¦‚æœä»…è°ƒç”¨ wait()ï¼Œä¿¡å·å¤„ç†ç¨‹åºå¯èƒ½åªèƒ½å¤„ç†ä¸€ä¸ªå­è¿›ç¨‹çš„ç»ˆæ­¢ã€‚ä½¿ç”¨ waitpid() çš„å¾ªç¯å¯ä»¥ç¡®ä¿å¤„ç†æ‰€æœ‰å·²ç»ˆæ­¢çš„å­è¿›ç¨‹ã€‚ 4. æ§åˆ¶å’Œçµæ´»æ€§ waitpid() æä¾›äº†æ›´å¤šçš„æ§åˆ¶å’Œçµæ´»æ€§ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ waitpid() å¯ä»¥æŒ‡å®šç­‰å¾…ç‰¹å®šçš„å­è¿›ç¨‹ï¼Œæˆ–æ ¹æ®ä¸åŒçš„é€‰é¡¹å¤„ç†å­è¿›ç¨‹ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œwait() çš„åŠŸèƒ½æ¯”è¾ƒæœ‰é™ï¼Œåªèƒ½ç®€å•åœ°ç­‰å¾…ä»»æ„ä¸€ä¸ªå­è¿›ç¨‹çš„ç»ˆæ­¢ã€‚ ","permalink":"https://fireflyyh.top/posts/unp/sigchldwaitpid/","summary":"å¤„ç†SIGCHLDä¿¡å· 1 2 3 4 5 6 7 8 9 10 11 12 void sig_chld(int signo) { pid_t pid; int stat; // wait()æ˜¯ä¸ºäº†æ¸…ç†åƒµæ­»è¿›ç¨‹ // pid = wait(\u0026amp;stat); // printf(\u0026#34;child %d terminated\\n\u0026#34;, pid); while ((pid = waitpid(-1, \u0026amp;stat, WNOHANG)) \u0026gt; 0) printf(\u0026#34;child %d terminated\\n\u0026#34;, pid); return; } waitç‰ˆæœ¬è¡Œä¸é€šçš„åŸå›  è‹¥æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯åœ¨åŒä¸€ä¸»æœºä¸Šï¼Œåˆ™è¯¥ä¿¡å·å¤„ç†å‡½æ•°åªæ‰§è¡Œè¿‡ä¸€æ¬¡ï¼ˆæ ¹æ®UNPçš„æè¿°æ˜¯è¿™æ ·çš„ï¼Œä½†æ˜¯æœ¬äººå®æµ‹ï¼Œä¿¡å·å¤„ç†å™¨å‡½æ•°æ‰§è¡Œäº†ä¸¤æ¬¡ï¼‰ã€‚ ä½†æ˜¯å¦‚æœæˆ‘ä»¬åœ¨ä¸åŒçš„ä¸»æœºä¸Šè¿è¡Œå®¢æˆ·å’ŒæœåŠ¡å™¨ï¼Œé‚£ä¹ˆä¿¡å·å¤„ç†å™¨å‡½æ•°ä¸€èˆ¬æ‰§è¡Œä¸¤æ¬¡ï¼šä¸€æ¬¡æ˜¯ç”±ç¬¬ä¸€ä¸ªäº§ç”Ÿçš„ä¿¡å·å¼•èµ·çš„ï¼Œç”±äºå¦å¤–4ä¸ªä¿¡å·åœ¨ä¿¡å·å¤„ç†å‡½æ•°ç¬¬ä¸€æ¬¡æ‰§è¡Œæ—¶å‘ç”Ÿï¼Œå› ä¸ºè¯¥å¤„ç†å‡½æ•°ä»…ä»…å†è¢«è°ƒç”¨ä¸€æ¬¡ï¼Œä»è€Œç•™ä¸‹3ä¸ªåƒµæ­»è¿›ç¨‹ã€‚ ä¸è¿‡æœ‰çš„æ—¶å€™ï¼Œæ ¹æ®FINåˆ°è¾¾ä¸»æœºçš„æ—¶æœºï¼Œä¿¡å·å¤„ç†å‡½æ•°å¯èƒ½ä¼šæ‰§è¡Œ3æ¬¡ç”šè‡³4æ¬¡\næ ¹æ®æœ¬äººçŒœæƒ³ï¼Œå¦‚æœåœ¨ç›¸åŒä¸»æœºæµ‹è¯•ï¼Œç”±äºæ²¡æœ‰ç½‘ç»œæ•°æ®ä¼ æ’­æ—¶å»¶çš„å½±å“ï¼Œæœ¬æœºçš„å®¢æˆ·ç«¯æ‰€æœ‰äº”ä¸ªFINéƒ½å‡ ä¹åœ¨åŒä¸€æ—¶é—´ä¼ é€’ç»™æœåŠ¡å™¨ï¼Œ ä»è€Œä½¿å¾—æœåŠ¡å™¨çš„5ä¸ªå­è¿›ç¨‹åŸºæœ¬åœ¨åŒä¸€æ—¶åˆ»ç»ˆæ­¢ï¼Œä»è€Œ5ä¸ªSIGCHLDåœ¨åŒä¸€æ—¶åˆ»å‘é€ç»™çˆ¶è¿›ç¨‹ï¼Œéƒ½åœ¨ç¬¬ä¸€ä¸ªä¿¡å·å¤„ç†å‡½æ•°æ‰§è¡Œä¹‹å‰å‘ç”Ÿï¼Œ è€ŒUnixä¿¡å·ä¸€èˆ¬æ˜¯ä¸æ’é˜Ÿçš„ï¼ˆè¿™é‡Œè¯¦è§TLPIå¯¹åº”çš„å°èŠ‚ï¼‰ï¼Œå› æ­¤ä¿¡å·å¤„ç†å‡½æ•°åªæ‰§è¡Œä¸€æ¬¡ã€‚\nä½†æ˜¯å¦‚æœåœ¨ä¸åŒä¸»æœºæµ‹è¯•ï¼Œç”±äºç½‘ç»œæ•°æ®ä¼ æ’­ï¼Œå„ä¸ªFINåˆ°è¾¾æœåŠ¡å™¨çš„æ—¶é—´å·®è¾ƒå¤§ä¸€äº›ï¼Œå¯¼è‡´FINä»¥ä¸å¯å¿½ç•¥çš„æ—¶å·®åˆ°è¾¾æœåŠ¡å™¨ã€‚ ä¾‹å¦‚åœ¨å¤„ç†ç¬¬ä¸€ä¸ªSIGCHLDä¿¡å·æ—¶ï¼Œå…¶ä»–FINæ‰åˆ°è¾¾ï¼Œä»è€Œå¼•èµ·ä¿¡å·å¤„ç†å‡½æ•°æ‰§è¡Œå¤šæ¬¡ã€‚\n1 2 3 4 5 6 7 âœ bin git:(main) âœ— ./TCPSERV03 \u0026amp; [1] 65001 âœ bin git:(main) âœ— .","title":"å¤„ç†SIGCHLDä¿¡å·"},{"content":"ä¹‹å‰æ­å»ºhexoåšå®¢ï¼Œæ˜¯å°†å…¶éƒ¨ç½²åˆ° github ä¸­ï¼Œé€šè¿‡ github.io æ¥è®¿é—®ï¼Œä½†æ˜¯é€Ÿåº¦æ„Ÿäººï¼Œæ‰€ä»¥æœ¬æ¬¡å°è¯•å°† hugo åšå®¢éƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼Œé€šè¿‡åŸŸåè¿›è¡Œè®¿é—®ï¼Œæœ¬æ–‡å‚è€ƒäº†hugoåšå®¢éƒ¨ç½²åˆ°è…¾è®¯äº‘è½»é‡çº§æœåŠ¡å™¨ã€‚ ç”±äºæ˜¯æˆ‘ç¬¬ä¸€æ¬¡ä½¿ç”¨ nginxï¼Œæ‰€ä»¥å¦‚æœé‡åˆ°ä»€ä¹ˆé—®é¢˜ï¼Œè¯·å¤šæµ·æ¶µå¹¶ä¸”å¯ä»¥å‚è€ƒå…¶ä»–åšå®¢æˆ–ç½‘ç»œèµ„æ–™ã€‚\nåœ¨éƒ¨ç½²ä¹‹å‰ï¼Œæˆ‘å·²ç»æœ‰äº†é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼ˆé…ç½®ä¸º2æ ¸2GBï¼‰ã€é˜¿é‡Œäº‘è´­ä¹°çš„åŸŸåï¼ˆfireflyyh.topï¼‰ã€‚\n1. æœåŠ¡å™¨ç«¯ä¸‹è½½å¹¶å®‰è£…nginx 1.1 å®‰è£…nginx åœ¨ ubuntu ç¯å¢ƒä¸‹ï¼š å®‰è£… nginx\n1 sudo apt install nginx å°† nginx è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨ï¼š\n1 sudo systemctl enable nginx å¯åŠ¨ nginxï¼š\n1 sudo systemctl start nginx 1.2 æµ‹è¯•nginx æŸ¥çœ‹ nginx çŠ¶æ€\n1 sudo systemctl status nginx å¦‚æœæ²¡é—®é¢˜ï¼Œåˆ™ä¼šå‡ºç°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 â— nginx.service - A high performance web server and a reverse proxy server Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled) Active: active (running) since Fri 2024-07-26 21:46:50 CST; 1 day 13h ago Docs: man:nginx(8) Process: 164834 ExecStartPre=/usr/sbin/nginx -t -q -g daemon on; master_process on; (code=exited, status=0/SUCCESS) Process: 164836 ExecStart=/usr/sbin/nginx -g daemon on; master_process on; (code=exited, status=0/SUCCESS) Main PID: 164837 (nginx) Tasks: 3 (limit: 1947) Memory: 4.1M CPU: 26ms CGroup: /system.slice/nginx.service â”œâ”€164837 \u0026#34;nginx: master process /usr/sbin/nginx -g daemon on; master_process on;\u0026#34; â”œâ”€164838 \u0026#34;nginx: worker process\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; â””â”€164839 \u0026#34;nginx: worker process\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; \u0026#34;\u0026#34; Jul 26 21:46:50 Firefly-Aliyun systemd[1]: Starting A high performance web server and a reverse proxy server... Jul 26 21:46:50 Firefly-Aliyun systemd[1]: Started A high performance web server and a reverse proxy server. é€šè¿‡é˜¿é‡Œäº‘æœåŠ¡å™¨ç®¡ç†é¢æ¿ä¸­çš„å®‰å…¨ç»„æ ‡ç­¾ï¼Œå°†æœåŠ¡å™¨çš„80ç«¯å£å¼€æ”¾ã€‚æ¥ä¸‹æ¥è®¿é—®http://\u0026lt;æœåŠ¡å™¨IPåœ°å€\u0026gt;ï¼Œå¦‚æœå‡ºç°äº† nginx é¡µé¢ï¼Œåˆ™ä»£è¡¨ç€é…ç½®æˆåŠŸã€‚\n2. é…ç½®nginx è¿›å…¥/etc/nginx/ï¼Œç›®å½•æ ‘å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 . â”œâ”€â”€ conf.d â”œâ”€â”€ fastcgi.conf â”œâ”€â”€ fastcgi_params â”œâ”€â”€ koi-utf â”œâ”€â”€ koi-win â”œâ”€â”€ mime.types â”œâ”€â”€ modules-available â”œâ”€â”€ modules-enabled â”‚Â â”œâ”€â”€ 50-mod-http-geoip2.conf -\u0026gt; /usr/share/nginx/modules-available/mod-http-geoip2.conf â”‚Â â”œâ”€â”€ 50-mod-http-image-filter.conf -\u0026gt; /usr/share/nginx/modules-available/mod-http-image-filter.conf â”‚Â â”œâ”€â”€ 50-mod-http-xslt-filter.conf -\u0026gt; /usr/share/nginx/modules-available/mod-http-xslt-filter.conf â”‚Â â”œâ”€â”€ 50-mod-mail.conf -\u0026gt; /usr/share/nginx/modules-available/mod-mail.conf â”‚Â â”œâ”€â”€ 50-mod-stream.conf -\u0026gt; /usr/share/nginx/modules-available/mod-stream.conf â”‚Â â””â”€â”€ 70-mod-stream-geoip2.conf -\u0026gt; /usr/share/nginx/modules-available/mod-stream-geoip2.conf â”œâ”€â”€ nginx.conf â”œâ”€â”€ proxy_params â”œâ”€â”€ scgi_params â”œâ”€â”€ sites-available â”‚Â â””â”€â”€ default â”œâ”€â”€ sites-enabled â”‚Â â””â”€â”€ default -\u0026gt; /etc/nginx/sites-available/default â”œâ”€â”€ snippets â”‚Â â”œâ”€â”€ fastcgi-php.conf â”‚Â â””â”€â”€ snakeoil.conf â”œâ”€â”€ uwsgi_params â””â”€â”€ win-utf æ ¹æ®å‚è€ƒåšå®¢ï¼Œè¦åœ¨nginx.confæ–‡ä»¶ä¸­ç¼–è¾‘Serverå­—æ®µï¼Œä½†æ˜¯åœ¨æˆ‘çš„è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œå¹¶æ²¡æœ‰å‡ºç°è¯¥å­—æ®µã€‚ç»è¿‡æŸ¥é˜…èµ„æ–™ï¼Œå¯ä»¥åœ¨./sites-available/defaultå½“ä¸­ç¼–è¾‘ã€‚\nå½“æ²¡æœ‰SSLè¯ä¹¦æ—¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 server { listen 80 default_server; listen [::]:80 default_server; # ä¿®æ”¹é¡µé¢æ‰€åœ¨ç›®å½• root /home/firefly/Codes/blog/public; # Add index.php to the list if you are using PHP index index.html index.htm index.nginx-debian.html; # ä¿®æ”¹åŸŸå server_name www.staryh.top; # ä¿®æ”¹ location / { # First attempt to serve request as file, then # as directory, then fall back to displaying a 404. root /home/firefly/Codes/blog/public; index index.html index.htm; # try_files $uri $uri/ =404; } error_page 404 /404.html; location = /404.html { root /home/firefly/Codes/blog/public; } } ç»è¿‡ä¸Šè¿°ä¿®æ”¹ä¹‹åï¼Œè¾“å…¥æœåŠ¡å™¨ IP åœ°å€ï¼Œå°±å¯ä»¥è®¿é—®äº†\n3. å°†åŸŸåç»‘å®šåˆ°æœåŠ¡å™¨ éœ€è¦åŸŸåå¤‡æ¡ˆï¼Œå¦åˆ™è®¿é—®ä¸äº† åœ¨é˜¿é‡Œäº‘è´­ä¹°çš„åŸŸåï¼Œç„¶åé€šè¿‡æ›´æ”¹ DNS è§£ææ¥å°†è¯¥åŸŸåå®šå‘è‡³è¯¥æœåŠ¡å™¨çš„IPåœ°å€\n4. å®ç°æœ¬æœºå’ŒæœåŠ¡å™¨çš„publicæ–‡ä»¶å¤¹åŒæ­¥ åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘çš„æƒ³æ³•æ¯”è¾ƒå¤æ‚ã€‚\nå°†æœ¬åœ°çš„åšå®¢æ–‡ä»¶å¤¹æ”¾åˆ° github ä¸­ï¼Œæ–¹ä¾¿æ›´å¤šäººèƒ½å¤Ÿè®¿é—®æˆ‘çš„åšå®¢æ‰€æœ‰çš„æ–‡ä»¶ã€‚ è€ƒè™‘åˆ°githubçš„è®¿é—®é€Ÿåº¦ï¼Œæ‰“ç®—åœ¨ gitee ä¸­å»ºç«‹ä¸€ä¸ªé•œåƒçš„ä»“åº“ï¼Œä»¥å®ç° github å’Œ gitee çš„åšå®¢æ–‡ä»¶å¤¹çš„åŒæ­¥ã€‚ è¿™æ ·æœåŠ¡å™¨åªéœ€è¦ pull gitee ä»“åº“ä¸­çš„ public å­æ–‡ä»¶å¤¹ï¼Œä¾¿å¯ä»¥å¾—åˆ°æœ¬åœ°ä¸»æœº push åˆ° github ä»“åº“ä¸­çš„ public æ–‡ä»¶å¤¹ã€‚ 4.1 æœ¬åœ°-\u0026gt;github å°†æœ¬åœ°åšå®¢æ–‡ä»¶å¤¹ push åˆ°githubä»“åº“ä¸­\n4.2 github-\u0026gt;gitee åœ¨ gitee ä¸Šç»‘å®š github è´¦å·ï¼› åœ¨ gitee ä¸­åˆ›å»ºåŒåä»“åº“ï¼Œåœ¨ä»“åº“çš„ç®¡ç†æ ‡ç­¾é¡µï¼Œé€‰æ‹©ä»“åº“é•œåƒç®¡ç†ï¼Œæ·»åŠ é•œåƒï¼Œé€‰æ‹©é•œåƒæ–¹å‘ä¸ºpull gitee \u0026lt;- githubï¼Œé€‰æ‹©æ­£ç¡®çš„é•œåƒä»“åº“ï¼Œå¹¶æ·»åŠ ç§äººä»¤ç‰Œï¼Œç§äººä»¤ç‰Œåœ¨githubç•Œé¢-\u0026gt;ç”¨æˆ·å¤´åƒ-\u0026gt;settings-\u0026gt;developer settings-\u0026gt;personal access tokensä¸­è·å–ï¼Œå‹¾é€‰è‡ªåŠ¨åŒæ­¥ã€‚ è¿™æ ·æ¯æ¬¡æœ¬åœ°ç¼–è¾‘å®Œå¹¶ä¸Šä¼  github ä¹‹åï¼Œç¨ç­‰ç‰‡åˆ»å°±èƒ½åœ¨ gitee çœ‹åˆ°ä¿®æ”¹äº†ğŸ˜Š æˆªæ­¢åˆ°å†™æœ¬ç¯‡åšå®¢æ—¶ï¼Œgitee çš„ä»“åº“é•œåƒç®¡ç†åŠŸèƒ½ä¸€ç›´å­˜åœ¨ï¼Œä¸”å¯ä»¥è‡ªåŠ¨åŒæ­¥ã€‚å¦‚æœè¯¥è‡ªåŠ¨åŒæ­¥åŠŸèƒ½ä¸è§äº†ï¼Œå¯ä»¥å°è¯•ä¸€ç¯‡æ•™ä½ ä»£ç åŒæ­¥ Github å’Œ Giteeä¸­çš„åšæ³•ã€‚\n4.3 gitee-\u0026gt;æœåŠ¡å™¨ è¿›å…¥åˆ°ä¿®æ”¹é¡µé¢æ‰€åœ¨ç›®å½•çš„çˆ¶ç›®å½•/home/firefly/Codes/blogï¼Œåˆ é™¤åŸæ¥é€šè¿‡xtfpä¼ è¾“æ¥çš„publicæ–‡ä»¶å¤¹ï¼› åœ¨æœ¬åœ°ä»“åº“æ ¹ç›®å½•ä¸‹ï¼Œé€šè¿‡ git config core.sparseCheckout true æ¥å¯ç”¨sparseCheckoutï¼› æ‰“å¼€./.git/infoï¼Œç„¶åç¼–è¾‘å…¶ä¸­çš„sparseCheckoutæ–‡ä»¶ï¼ˆå¦‚æœæ²¡æœ‰å¯ä»¥æ–°å»ºï¼‰ï¼Œå°†éœ€è¦æŒ‡å®š pull çš„æ–‡ä»¶å¤¹ä½ç½®è¾“å…¥è¿›å»ï¼š/publicï¼› å›åˆ°blogç›®å½•ï¼Œæ·»åŠ è¿œç¨‹ä»“åº“ï¼Œå¹¶ pullï¼ˆåœ¨pullçš„æ—¶å€™é‡åˆ°äº†å…¬ç§é’¥å¯¼è‡´æ— æ³•è®¿é—®çš„é—®é¢˜ï¼Œå…·ä½“è§£å†³å‚è€ƒäº†è§£å†³ â€œfatal: Could not read from remote repository.â€œï¼‰ã€‚ 1 git remote add origin git@gitee.com:yourname/yourrepo.git 5. SSLè¯ä¹¦ 5.1 è·å¾—SSLè¯ä¹¦ ç”±äºé˜¿é‡Œäº‘ç­–ç•¥æ”¹å˜ï¼Œç›®å‰å…è´¹çš„åªæœ‰ä¸ªäººæµ‹è¯•è¯ä¹¦ï¼ˆåŸå…è´¹è¯ä¹¦ï¼‰ã€‚\næ ¹æ®Nginxæˆ–TengineæœåŠ¡å™¨é…ç½®SSLè¯ä¹¦æ¥è¿›è¡Œé…ç½®ã€‚ å…¶ä¸­ï¼Œå°†ä¸‹è½½çš„è¯ä¹¦ç›¸å…³æ–‡ä»¶è§£å‹ç¼©åˆ°/etc/nginx/ä¸­ï¼Œ\n5.3 ä¿®æ”¹nginxé…ç½® åŒæ ·åœ°ï¼Œåœ¨defaultæ–‡ä»¶ä¸­ï¼Œç»“åˆäº†æœ¬æ–‡æåˆ°çš„ä¸¤ä¸ªåšå®¢ï¼Œå¢åŠ ä»¥ä¸‹å†…å®¹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 server { listen 443 ssl; server_name www.fireflyyh.top; root /home/firefly/Codes/blog/public; ssl_certificate /etc/nginx/fireflyyh.top.pem; ssl_certificate_key /etc/nginx/fireflyyh.top.key; ssl_session_cache shared:SSL:1m; ssl_session_timeout 5m; #è‡ªå®šä¹‰è®¾ç½®ä½¿ç”¨çš„TLSåè®®çš„ç±»å‹ä»¥åŠåŠ å¯†å¥—ä»¶ï¼ˆä»¥ä¸‹ä¸ºé…ç½®ç¤ºä¾‹ï¼Œè¯·æ‚¨è‡ªè¡Œè¯„ä¼°æ˜¯å¦éœ€è¦é…ç½®ï¼‰ #TLSåè®®ç‰ˆæœ¬è¶Šé«˜ï¼ŒHTTPSé€šä¿¡çš„å®‰å…¨æ€§è¶Šé«˜ï¼Œä½†æ˜¯ç›¸è¾ƒäºä½ç‰ˆæœ¬TLSåè®®ï¼Œé«˜ç‰ˆæœ¬TLSåè®®å¯¹æµè§ˆå™¨çš„å…¼å®¹æ€§è¾ƒå·®ã€‚ ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4; ssl_protocols TLSv1.1 TLSv1.2 TLSv1.3; #è¡¨ç¤ºä¼˜å…ˆä½¿ç”¨æœåŠ¡ç«¯åŠ å¯†å¥—ä»¶ã€‚é»˜è®¤å¼€å¯ ssl_prefer_server_ciphers on; error_page 404 /404.html; location = /404.html { root /home/firefly/Codes/blog/public; } } 6. ç«™ç‚¹åˆ†æ 6.1 Google Analytics æœ¬åšå®¢å»ºç«‹æ—¶æ‰€é‡‡ç”¨çš„ hugo ç‰ˆæœ¬ä¸º v0.129.0ï¼Œé‡‡ç”¨çš„ä¸»é¢˜ PaperMod çš„ç‰ˆæœ¬ä¸º v7.0ã€‚\nè·å–è¿½è¸ªID ç™»å½•Google Analyticsï¼š\nè¿›å…¥æ•°æ®æµ æ ¹æ®ç½‘ç«™åˆ›å»ºæ–°çš„æ•°æ®æµ åœ¨è®¾ç½® Google ä»£ç çš„åŒºåŸŸï¼š\n1 2 3 4 5 6 7 8 9 \u0026lt;!-- Google tag (gtag.js) --\u0026gt; \u0026lt;script async src=\u0026#34;https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag(\u0026#39;js\u0026#39;, new Date()); gtag(\u0026#39;config\u0026#39;, \u0026#39;G-XXXXXXXXXX\u0026#39;); \u0026lt;/script\u0026gt; å…¶ä¸­çš„G-XXXXXXXXXXå°±æ˜¯æ‰€éœ€çš„è¿½è¸ª IDã€‚\nä¿®æ”¹ hugo é…ç½® åœ¨ç½‘ç«™æ ¹ç›®å½•ä¸­çš„hugo.tomlä¸­ï¼Œå°†[params.analytics.google]å­—æ®µåˆ å»ï¼Œå°†æ–‡ä»¶å¼€å¤´çš„googleAnalyticså­—æ®µä¿®æ”¹ä¸ºIDï¼Œå¹¶åœ¨æœ«å°¾æ·»åŠ ä»¥ä¸‹ä¿¡æ¯ï¼š 1 2 3 [services] [services.googleAnalytics] ID = \u0026#39;G-XXXXXXXXXX\u0026#39; åœ¨ä¸»é¢˜çš„layoutsæ–‡ä»¶å¤¹ä¸‹æ–°å»ºæ–‡ä»¶å¤¹_internalï¼Œå¹¶åœ¨å…¶ä¸­æ–°å»ºæ–‡ä»¶google_analytics.htmlï¼Œå°†ä¹‹å‰åœ¨ Google ä»£ç åŒºåŸŸè·å¾—çš„ä»£ç æ”¾å…¥å…¶ä¸­ã€‚\nä¿®æ”¹layouts/partials/æ–‡ä»¶å¤¹ä¸­çš„head.htmlï¼Œåœ¨æœ«å°¾å¢åŠ ï¼š\n1 2 3 {{- with site.Config.Services.GoogleAnalytics.ID -}} {{- template \u0026#34;_internal/google_analytics.html\u0026#34; . -}} {{- end -}} é‡æ–°éƒ¨ç½²ï¼Œè¿‡ä¸€æ®µæ—¶é—´å°±èƒ½åœ¨ Google Analytics é¡µé¢çœ‹åˆ°è®¿é—®çš„æ•°æ®äº†ã€‚ä½†æ˜¯å¥‡æ€ªçš„æ˜¯åœ¨ä»£ç  6.2 ç™¾åº¦ç»Ÿè®¡ æ–°å¢ç«™ç‚¹ ç™»å½•ç™¾åº¦ç»Ÿè®¡çš„ä½¿ç”¨è®¾ç½®ç•Œé¢ï¼ŒæŒ‰ç…§è¦æ±‚æ–°å¢ç½‘ç«™ï¼Œç„¶åç‚¹å‡»â€œè·å–ä»£ç â€æŒ‰é’®ï¼Œå°†â€œæ–°ç‰ˆç»Ÿè®¡ä»£ç è·å–â€åŒºåŸŸçš„ä»£ç å¤åˆ¶ä¸‹æ¥ã€‚\nä¿®æ”¹ html è¿›å…¥åˆ° PaperMod ä¸»é¢˜çš„layouts/partialsæ–‡ä»¶å¤¹ï¼Œä¿®æ”¹extend_head.htmlæ–‡ä»¶ï¼Œåœ¨å…¶ä¸­åŠ å…¥åˆšåˆšå¤åˆ¶ä¸‹æ¥çš„ä»£ç ã€‚\næ£€æµ‹ç”Ÿæ•ˆ é‡æ–°éƒ¨ç½²ã€‚ç„¶åç”¨æ‰‹åŠ¨æ£€æŸ¥æˆ–è€…ç™¾åº¦ç»Ÿè®¡åŠ©æ‰‹æ¥æ£€æµ‹æ˜¯å¦æ·»åŠ åŠŸèƒ½æˆåŠŸã€‚\n","permalink":"https://fireflyyh.top/posts/blog_configuration/deploy/","summary":"ä¹‹å‰æ­å»ºhexoåšå®¢ï¼Œæ˜¯å°†å…¶éƒ¨ç½²åˆ° github ä¸­ï¼Œé€šè¿‡ github.io æ¥è®¿é—®ï¼Œä½†æ˜¯é€Ÿåº¦æ„Ÿäººï¼Œæ‰€ä»¥æœ¬æ¬¡å°è¯•å°† hugo åšå®¢éƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼Œé€šè¿‡åŸŸåè¿›è¡Œè®¿é—®ï¼Œæœ¬æ–‡å‚è€ƒäº†hugoåšå®¢éƒ¨ç½²åˆ°è…¾è®¯äº‘è½»é‡çº§æœåŠ¡å™¨ã€‚ ç”±äºæ˜¯æˆ‘ç¬¬ä¸€æ¬¡ä½¿ç”¨ nginxï¼Œæ‰€ä»¥å¦‚æœé‡åˆ°ä»€ä¹ˆé—®é¢˜ï¼Œè¯·å¤šæµ·æ¶µå¹¶ä¸”å¯ä»¥å‚è€ƒå…¶ä»–åšå®¢æˆ–ç½‘ç»œèµ„æ–™ã€‚\nåœ¨éƒ¨ç½²ä¹‹å‰ï¼Œæˆ‘å·²ç»æœ‰äº†é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼ˆé…ç½®ä¸º2æ ¸2GBï¼‰ã€é˜¿é‡Œäº‘è´­ä¹°çš„åŸŸåï¼ˆfireflyyh.topï¼‰ã€‚\n1. æœåŠ¡å™¨ç«¯ä¸‹è½½å¹¶å®‰è£…nginx 1.1 å®‰è£…nginx åœ¨ ubuntu ç¯å¢ƒä¸‹ï¼š å®‰è£… nginx\n1 sudo apt install nginx å°† nginx è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨ï¼š\n1 sudo systemctl enable nginx å¯åŠ¨ nginxï¼š\n1 sudo systemctl start nginx 1.2 æµ‹è¯•nginx æŸ¥çœ‹ nginx çŠ¶æ€\n1 sudo systemctl status nginx å¦‚æœæ²¡é—®é¢˜ï¼Œåˆ™ä¼šå‡ºç°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 â— nginx.service - A high performance web server and a reverse proxy server Loaded: loaded (/lib/systemd/system/nginx.","title":"å°†åšå®¢éƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨"},{"content":"TLPI 21.2.1ï¼šåœ¨ä¿¡å·å¤„ç†å™¨å‡½æ•°ä¸­æ‰§è¡Œéæœ¬åœ°è·³è½¬ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 #define _GNU_SOURCE // æ·»åŠ è¯¥å®šä¹‰ä»¥æ­£å¸¸ä½¿ç”¨strsignal()ã€sigaction() #include \u0026lt;string.h\u0026gt; #include \u0026lt;setjmp.h\u0026gt; #include \u0026lt;signal.h\u0026gt; #include \u0026#34;signal_functions.h\u0026#34; #include \u0026#34;tlpi_hdr.h\u0026#34; static volatile sig_atomic_t canJump = 0; #ifdef USE_SIGSETJMP static sigjmp_buf senv; #else static jmp_buf env; #endif static void handler(int sig) { printf(\u0026#34;Received signal %d (%s), signal mask is:\\n\u0026#34;, sig, strsignal(sig)); printSigMask(stdout, NULL); if (!canJump) { // è‹¥canJumpä¸º0 printf(\u0026#34;\u0026#39;env\u0026#39; buffer not yet set, doing a simple return\\n\u0026#34;); return; } #ifdef USE_SIGSETJMP siglongjmp(senv, 1); #else longjmp(env, 1); #endif } int main(int argc, char *argv[]) { struct sigaction sa; printSigMask(stdout, \u0026#34;Signal mask at startup:\\n\u0026#34;); // æ‰“å°æœ€å¼€å§‹çš„ä¿¡å·æ©ç  sigemptyset(\u0026amp;sa.sa_mask); sa.sa_flags = 0; sa.sa_handler = handler; if (sigaction (SIGINT, \u0026amp;sa, NULL) == -1) errExit(\u0026#34;sigaction\u0026#34;); #ifdef USE_SIGSETJMP printf(\u0026#34;Calling sigsetjmp()\\n\u0026#34;); /* */ if (sigsetjmp(senv, 1) == 0) #else printf(\u0026#34;Calling setjmp()\\n\u0026#34;); // è®¾ç½®è·³è½¬ç›®æ ‡ï¼Œå¹¶åˆå§‹åŒ–env if (setjmp(env) == 0) #endif // å½“ä»å¤„ç†å™¨å‡½æ•°ç›´æ¥è¿”å›ä¹‹åæ‰ä¼šæ‰§è¡Œè¯¥è¯­å¥ canJump = 1; else // å½“ä»å¤„ç†å™¨å‡½æ•°æ‰§è¡Œéæœ¬åœ°è·³è½¬ä¹‹åæ‰ä¼šæ‰§è¡Œè¯¥è¯­å¥ printSigMask(stdout, \u0026#34;After jump from handler, signal mask is:\\n\u0026#34;); printf(\u0026#34;Will be paused\\n\u0026#34;); for (;;) /* ç­‰å¾…ä¿¡å·ï¼Œ è‹¥æ¥æ”¶åˆ°SIGINTï¼Œåˆ™è·³è½¬åˆ°å¤„ç†å™¨å‡½æ•°ä¸­ï¼Œå†ç”±longjmp()/siglongjmp()è·³è½¬åˆ°setjmp()/sigsetjmp() å…·ä½“æ˜¯å“ªä¸ªè·³è½¬å‡½æ•°ï¼Œåˆ™å–å†³äºæ˜¯å¦å®å®šä¹‰äº†USE_SIGSETJMP */ pause(); } è§£é‡Š canjumpçš„ç”¨æ³• æ¥æ”¶åˆ°ä¿¡å·çš„æ—¶æœºæœ‰ä¸¤ç§ï¼š\nåœ¨setjmp(env)ä¹‹å‰ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè·³è½¬ç›®æ ‡å°šæœªå»ºç«‹ï¼Œè¿™å°†å¯¼è‡´å¤„ç†å™¨å‡½æ•°ä½¿ç”¨å°šæœªåˆå§‹åŒ–çš„ env ç¼“å†²åŒºæ¥æ‰§è¡Œéæœ¬åœ°è·³è½¬ï¼› åœ¨setjmp(env)ä¹‹åï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè·³è½¬ç›®æ ‡è¢«å»ºç«‹ï¼Œenvå·²è¢«åˆå§‹åŒ–åœ¨æ‰§è¡Œlongjmp()/siglongjmp()ä¹‹åï¼Œå¯ä»¥æ­£ç¡®åœ°å°†ä¸€äº›ä¿¡æ¯ä¿å­˜ã€‚ ä¸ºäº†é¿å…å‡ºç°ç¬¬ä¸€ç§æƒ…å†µï¼Œè®¾ç½®äº† canJump å˜é‡ï¼Œå½“ç¬¬ä¸€æ¬¡æ‰§è¡Œäº†setjmp(env)ä¹‹åcanjumpè¢«è®¾ç½®ä¸º1ï¼Œä»£è¡¨ç€å¯ä»¥æ­£ç¡®æ‰§è¡Œéæœ¬åœ°è·³è½¬ã€‚ç„¶ååœ¨æ­¤Handler()çš„if (canJump)å¤„ï¼Œè‹¥ canjump ä¸º0ï¼Œè¯´æ˜æ¥æ”¶åˆ°ä¿¡å·çš„æ—¶æœºæ˜¯åœ¨ set ä¹‹å‰ï¼Œåˆ™ä¸èƒ½å¤Ÿè¿›è¡Œè·³è½¬ï¼Œè€Œæ˜¯ç›´æ¥ä»å¤„ç†å™¨å‡½æ•°è¿”å›ã€‚\nä¸¤ç§è·³è½¬æ–¹æ³•çš„åŒºåˆ« sigsetjmp()æ¯”setjmp()å¤šå‡ºä¸€ä¸ªå‚æ•° savesigsã€‚å¦‚æœæŒ‡å®š savesigs ä¸ºé 0ï¼Œé‚£ä¹ˆä¼šå°†è°ƒç”¨ sigsetjmp()æ—¶è¿›ç¨‹çš„å½“å‰ä¿¡å·æ©ç ä¿å­˜äº env ä¸­ï¼Œä¹‹åé€šè¿‡æŒ‡å®šç›¸åŒ env å‚æ•°çš„siglongjmp()è°ƒç”¨è¿›è¡Œæ¢å¤ã€‚å¦‚æœ savesigs ä¸º0ï¼Œåˆ™ä¸ä¼šä¿å­˜å’Œæ¢å¤è¿›ç¨‹çš„ä¿¡å·æ©ç ã€‚\n","permalink":"https://fireflyyh.top/posts/tlpi/sigmask_longjmp/","summary":"TLPI 21.2.1ï¼šåœ¨ä¿¡å·å¤„ç†å™¨å‡½æ•°ä¸­æ‰§è¡Œéæœ¬åœ°è·³è½¬ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 #define _GNU_SOURCE // æ·»åŠ è¯¥å®šä¹‰ä»¥æ­£å¸¸ä½¿ç”¨strsignal()ã€sigaction() #include \u0026lt;string.","title":"åœ¨ä¿¡å·å¤„ç†å™¨å‡½æ•°ä¸­æ‰§è¡Œéæœ¬åœ°è·³è½¬"},{"content":"16å¹´ å•å‘¨æœŸæ•°æ®é€šè·¯ å•å‘¨æœŸæ•°æ®é€šè·¯æ˜¯ä¸€ç§ç®€å•çš„æ•°æ®é€šè·¯è®¾è®¡ï¼Œæ¯ä¸ªæ—¶é’Ÿå‘¨æœŸæ‰§è¡Œä¸€æ¡å®Œæ•´çš„æŒ‡ä»¤ï¼Œå³æ¯æ¡æŒ‡ä»¤çš„CPIä¸º1ï¼Œè¦è€ƒè™‘æ¯”è¾ƒæ…¢çš„æŒ‡ä»¤ï¼Œæ‰€ä»¥å¤„ç†å™¨çš„æ—¶é’Ÿé¢‘ç‡è¾ƒä½ã€‚ è¿™æ„å‘³ç€æ¯æ¡æŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ä¸­ä»»ä½•æ•°æ®é€šè·¯å•å…ƒéƒ½åªèƒ½è¢«ç”¨ä¸€æ¬¡ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨å¤šæ¬¡åˆ™å¿…é¡»å°†è¯¥æ•°æ®é€šè·¯å•å…ƒå¤åˆ¶å¤šä»½ã€‚\næ§åˆ¶ä¿¡å·æ˜¯CUæ ¹æ®æŒ‡ä»¤æ“ä½œç å‘å‡ºçš„ä¿¡å·ï¼Œå¯¹äºå•å‘¨æœŸå¤„ç†å™¨æ¥è¯´ï¼Œæ¯æ¡æŒ‡ä»¤çš„æ‰§è¡Œåªæœ‰ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸï¼Œè€Œåœ¨ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸå†…æ§åˆ¶ä¿¡å·å¹¶ä¸ä¼šå˜åŒ–ã€‚\nå•å‘¨æœŸæ•°æ®é€šè·¯å¿…é¡»æœ‰ç‹¬ç«‹çš„æŒ‡ä»¤å­˜å‚¨å™¨å’Œæ•°æ®å­˜å‚¨å™¨ï¼Œå› ä¸ºå¤„ç†å™¨åœ¨ä¸€ä¸ªå‘¨æœŸå†…åªèƒ½æ“ä½œæ¯ä¸ªéƒ¨ä»¶ä¸€æ¬¡ï¼Œè€Œåœ¨ä¸€ä¸ªå‘¨æœŸå†…ä¸å¯èƒ½å¯¹ä¸€ä¸ªå•ç«¯å£å­˜å‚¨å™¨è¿›è¡Œä¸¤æ¬¡å­˜å–ã€‚ä¸”æ— æ³•ä½¿ç”¨å•æ€»çº¿æ•°æ®é€šè·¯ï¼Œå› ä¸ºå•æ€»çº¿æ•°æ®é€šè·¯å°†æ‰€æœ‰å¯„å­˜å™¨çš„è¾“å…¥å‡ºç«¯éƒ½è¿æ¥åœ¨ä¸€æ¡å…¬å…±é€šè·¯ä¸Šï¼Œä¸€ä¸ªæ—¶é’Ÿå†…åªå…è®¸ä¸€æ¬¡æ“ä½œï¼Œæ— æ³•å®ŒæˆæŒ‡ä»¤çš„æ‰€æœ‰æ“ä½œã€‚\nTSLæŒ‡ä»¤å®ç°äº’æ–¥ 1 2 3 4 5 6 do { while (TSL(\u0026amp;lock)); critical section; lock = FALSE; ...... } while (TRUE); é€€å‡ºä¸´ç•ŒåŒºçš„è¿›ç¨‹è´Ÿè´£å”¤é†’å°±ç»ªæ€è¿›ç¨‹ï¼Ÿï¼Ÿï¼Ÿ\nå› ä¸ºåœ¨TSLæ–¹æ³•ä¸‹ï¼Œä¸€ä¸ªè¿›ç¨‹åªæœ‰ä¸¤ç§çŠ¶æ€ï¼š\nè¿è¡Œæ€ï¼šç”¨æˆ·å¤„äºäº†do{ }ä¸­ï¼Œé‚£ä¹ˆä¸ç®¡æ˜¯æ˜¯åœ¨å…¶ä¸­çš„while (TSL(\u0026amp;lock))ä¸æ–­åœ°å¾ªç¯ï¼Œè¿˜æ˜¯åœ¨è®¿é—®ä¸´ç•Œèµ„æºï¼Œéƒ½æ˜¯å ç”¨ç€CPUçš„ï¼Œä¹Ÿå°±æ˜¯å¤„äºè¿è¡Œæ€ï¼› å°±ç»ªæ€ï¼šè‹¥æ˜¯åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ç”±äºå¹¶å‘æ‰€éœ€è¦ï¼ˆå¦‚æ—¶é—´ç‰‡åˆ°äº†ï¼‰ï¼Œè¢«å…¶ä»–è¿›ç¨‹å ç”¨äº†CPUï¼Œå°±å˜æˆäº†å°±ç»ªæ€ï¼› ä½†æ˜¯ä¸ä¼šå¤„äºé˜»å¡æ€ï¼Œå› ä¸ºè‹¥æ˜¯åœ¨ç­‰å¾…ä¸´ç•Œèµ„æºï¼Œåˆ™ä¼šä¸€ç›´å¤„äºwhile (TSL(\u0026amp;lock));ä¸­ï¼Œè€Œä¸”ä¸ä¼šä¸»åŠ¨æ”¾å¼ƒCPUå˜æˆé˜»å¡æ€ï¼ˆé˜»å¡æ˜¯ä¸€ä¸ªä¸»åŠ¨çš„è¿‡ç¨‹ï¼‰ã€‚æ•…ä¸å­˜åœ¨é˜»å¡æ€çš„è¿›åŸæ¥ç»™é€€å‡ºä¸´ç•ŒåŒºçš„è¿›ç¨‹å”¤é†’ã€‚\nç­‰å¾…è¿›å…¥ä¸´ç•ŒåŒºçš„è¿›ç¨‹ä¸ä¼šä¸»åŠ¨æ”¾å¼ƒCPUï¼Œæ•…ä¸Šè¿°ä»£ç ä¸æ»¡è¶³â€œè®©æƒç­‰å¾…â€çš„åŒæ­¥å‡†åˆ™ã€‚å› ä¸ºä¼šä¸€ç›´åœç•™åœ¨æ‰§è¡Œwhile(TSL(\u0026amp;lock))çš„å¾ªç¯ä¸­ï¼Œè¯¥è¯­å¥åº”åœ¨å¼€ä¸­æ–­ä¸‹è¿›è¡Œï¼Œå¦åˆ™ä¸€ç›´å¤„äºè¯¥å¾ªç¯ä¸”ä¸è¢«å…¶ä»–è¿›ç¨‹ä¸­æ–­å¯èƒ½ä¼šå¯¼è‡´ç³»ç»Ÿç»ˆæ­¢ã€‚\næ“ä½œç³»ç»Ÿçš„å‘å±• æ‰‹å·¥å‘å±•é˜¶æ®µï¼ˆæ— æ“ä½œç³»ç»Ÿï¼‰ï¼š\næ‰€æœ‰å·¥ä½œéƒ½è¦äººå¹²é¢„ï¼Œç”¨æˆ·ç‹¬å å…¨æœºã€‚\nç‰¹ç‚¹ï¼šç”¨æˆ·ç‹¬å å…¨æœºã€CPUç­‰å¾…æ‰‹å·¥æ“ä½œï¼›\nç¼ºç‚¹ï¼šäººæœºçŸ›ç›¾åŠ CPU å’Œ I/O è®¾å¤‡ä¹‹é—´é€Ÿåº¦ä¸åŒ¹é…çš„çŸ›ç›¾ï¼Œå› æ­¤å‘å±•å‡ºäº†æ‰¹å¤„ç†ç³»ç»Ÿã€‚\næ‰¹å¤„ç†é˜¶æ®µï¼ˆå¼€å§‹å‡ºç°æ“ä½œç³»ç»Ÿï¼‰ï¼š\nå•é“æ‰¹å¤„ç†ï¼šç³»ç»Ÿå¯¹ä½œä¸šçš„å¤„ç†æ˜¯æˆæ‰¹è¿›è¡Œçš„ï¼Œä½†å†…å­˜ä¸­å§‹ç»ˆä¿æŒä¸€é“ä½œä¸šã€‚\nç‰¹ç‚¹ï¼šå•é“æ€§ã€è‡ªåŠ¨æ€§ã€é¡ºåºæ€§ã€‚\nç¼ºç‚¹ï¼šæ¯æ¬¡ä¸»æœºå†…å­˜ä¸­ä»…å­˜æ”¾ä¸€é“ä½œä¸šï¼Œæ¯å½“å®ƒåœ¨è¿è¡Œæ—¶å‘å‡ºI/Oè¯·æ±‚åï¼Œé«˜é€Ÿçš„ CPU ä¾¿å¤„äºç­‰å¾…ä½é€Ÿçš„ I/O å®Œæˆçš„çŠ¶æ€ã€‚\nä¸ºäº†è¿›ä¸€æ­¥æé«˜èµ„æºçš„åˆ©ç”¨ç‡å’Œç³»ç»Ÿçš„ååé‡ï¼Œå¼•å…¥äº†å¤šé“ç¨‹åºæŠ€æœ¯ã€‚ å¤šé“æ‰¹å¤„ç†ï¼šå¤šé“ç¨‹åºè®¾è®¡æŠ€æœ¯å…è®¸å¤šä¸ªç¨‹åºåŒæ—¶è¿›å…¥å†…å­˜å¹¶å…è®¸å®ƒä»¬åœ¨ CPU ä¸­äº¤æ›¿åœ°è¿è¡Œã€‚\nç‰¹ç‚¹ï¼šå¤šé“ã€å®è§‚ä¸Šå¹¶è¡Œã€å¾®è§‚ä¸Šä¸²è¡Œã€‚\nä¼˜ç‚¹ï¼šèµ„æºåˆ©ç”¨ç‡é«˜ï¼Œå¤šé“ç¨‹åºå…±äº«è®¡ç®—æœºèµ„æºï¼Œä»è€Œä½¿å„ç§èµ„æºå¾—åˆ°å……åˆ†åˆ©ç”¨ï¼›ç³»ç»Ÿååé‡å¤§ï¼Œ CPU å’Œå…¶ä»–èµ„æºä¿æŒâ€œå¿™ç¢Œâ€çŠ¶æ€ã€‚ ç¼ºç‚¹ï¼šç”¨æˆ·å“åº”çš„æ—¶é—´è¾ƒé•¿ï¼›ä¸æä¾›äººæœºäº¤äº’èƒ½åŠ›ï¼Œç”¨æˆ·æ—¢ä¸èƒ½äº†è§£è‡ªå·±çš„ç¨‹åºçš„è¿è¡Œæƒ…å†µï¼Œåˆä¸èƒ½æ§åˆ¶è®¡ç®—æœºã€‚ å› æ­¤å‘å±•å‡ºäº†åˆ†æ—¶æ“ä½œç³»ç»Ÿã€‚ åˆ†æ—¶æ“ä½œç³»ç»Ÿï¼š\nåˆ†æ—¶æ“ä½œç³»ç»Ÿæ˜¯æŒ‡å¤šä¸ªç”¨æˆ·é€šè¿‡ç»ˆç«¯åŒæ—¶å…±äº«ä¸€å°ä¸»æœºï¼Œè¿™äº›ç»ˆç«¯è¿æ¥åœ¨ä¸»æœºä¸Šï¼Œç”¨æˆ·å¯ä»¥åŒæ—¶ï¼ˆåŒæ—¶æ€§ï¼‰ä¸ä¸»æœºè¿›è¡Œäº¤äº’ï¼ˆäº¤äº’æ€§ï¼‰æ“ä½œè€Œäº’ä¸å¹²æ‰°ï¼ˆç‹¬ç«‹æ€§ï¼‰ã€‚åˆ†æ—¶ç³»ç»Ÿé‡‡ç”¨æ—¶é—´ç‰‡è½®è½¬æ–¹å¼ä½¿ä¸€å°è®¡ç®—æœºåŒæ—¶ä¸ºå¤šä¸ªç»ˆç«¯æœåŠ¡ï¼Œä½¿ç”¨æˆ·èƒ½å¤Ÿå¯¹ç³»ç»Ÿçš„åŠæ—¶å“åº”æ„Ÿåˆ°æ»¡æ„ï¼ˆåŠæ—¶æ€§ï¼‰ã€‚åˆ†æ—¶ç³»ç»Ÿä¹Ÿæ˜¯æ”¯æŒå¤šé“ç¨‹åºè®¾è®¡çš„ç³»ç»Ÿï¼Œä½†å®ƒä¸åŒäºå¤šé“æ‰¹å¤„ç†ç³»ç»Ÿã€‚å¤šé“æ‰¹å¤„ç†æ˜¯å®ç°ä½œä¸šè‡ªåŠ¨æ§åˆ¶è€Œæ— é¡»äººå·¥å¹²é¢„çš„ç³»ç»Ÿï¼Œè€Œåˆ†æ—¶ç³»ç»Ÿæ˜¯å®ç°äººæœºäº¤äº’çš„ç³»ç»Ÿã€‚\nç‰¹ç‚¹ï¼šåŒæ—¶æ€§ã€äº¤äº’æ€§ã€ç‹¬ç«‹æ€§ã€åŠæ—¶æ€§ã€‚\nä¼˜ç‚¹ï¼šè¾ƒå¥½åœ°è§£å†³äº†äººæœºäº¤äº’é—®é¢˜ã€‚\nç¼ºç‚¹ï¼šåœ¨ä¸€äº›åº”ç”¨åœºåˆï¼Œéœ€è¦ç³»ç»Ÿèƒ½å¯¹å¤–éƒ¨çš„ä¿¡æ¯åœ¨è§„å®šçš„æ—¶é—´ï¼ˆæ¯”æ—¶é—´ç‰‡çš„æ—¶é—´è¿˜çŸ­ï¼‰å†…åšå‡ºå¤„ç†ï¼ˆæ¯”å¦‚é£æœºè®¢ç¥¨ç³»ç»Ÿæˆ–å¯¼å¼¹åˆ¶å¯¼ç³»ç»Ÿï¼‰ï¼Œå› æ­¤ï¼Œå®æ—¶æ“ä½œç³»ç»Ÿåº”è¿è€Œç”Ÿã€‚\næè¿° ç‰¹ç‚¹ ä¼˜ç‚¹ ç¼ºç‚¹ æ‰‹å·¥æ“ä½œé˜¶æ®µ æ‰€æœ‰å·¥ä½œéƒ½è¦äººå¹²é¢„ ç”¨æˆ·ç‹¬å å…¨æœºã€CPUç­‰å¾…æ‰‹å·¥æ“ä½œï¼› ä¸ä¼šå‡ºç°å› èµ„æºå·±è¢«å…¶ä»–ç”¨æˆ·å ç”¨è€Œç­‰å¾…çš„æƒ…å†µ èµ„æºåˆ©ç”¨ç‡ä½ï¼ŒäººæœºçŸ›ç›¾åŠ CPU å’Œ I/O è®¾å¤‡ä¹‹é—´é€Ÿåº¦ä¸åŒ¹é…çš„çŸ›ç›¾ï¼Œå› æ­¤å‘å±•å‡ºäº†æ‰¹å¤„ç†ç³»ç»Ÿã€‚ å•é“æ‰¹å¤„ç† ç³»ç»Ÿå¯¹ä½œä¸šçš„å¤„ç†æ˜¯æˆæ‰¹è¿›è¡Œçš„ï¼Œä½†å†…å­˜ä¸­å§‹ç»ˆä¿æŒä¸€é“ä½œä¸šã€‚ å•é“æ€§ã€è‡ªåŠ¨æ€§ã€é¡ºåºæ€§ã€‚ ï¼ˆå¼€å§‹å‡ºç°æ“ä½œç³»ç»Ÿï¼‰ æ¯æ¬¡ä¸»æœºå†…å­˜ä¸­ä»…å­˜æ”¾ä¸€é“ä½œä¸šï¼Œæ¯å½“å®ƒåœ¨è¿è¡Œæ—¶å‘å‡ºI/Oè¯·æ±‚åï¼Œé«˜é€Ÿçš„ CPU ä¾¿å¤„äºç­‰å¾…ä½é€Ÿçš„ I/O å®Œæˆçš„çŠ¶æ€ã€‚ ä¸ºäº†è¿›ä¸€æ­¥æé«˜èµ„æºçš„åˆ©ç”¨ç‡å’Œç³»ç»Ÿçš„ååé‡ï¼Œå¼•å…¥äº†å¤šé“ç¨‹åºæŠ€æœ¯ã€‚ å¤šé“æ‰¹å¤„ç† å¤šé“ç¨‹åºè®¾è®¡æŠ€æœ¯å…è®¸å¤šä¸ªç¨‹åºåŒæ—¶è¿›å…¥å†…å­˜å¹¶å…è®¸å®ƒä»¬åœ¨ CPU ä¸­äº¤æ›¿åœ°è¿è¡Œã€‚ å¤šé“æ€§ã€å®è§‚ä¸Šå¹¶è¡Œã€å¾®è§‚ä¸Šä¸²è¡Œã€‚ èµ„æºåˆ©ç”¨ç‡é«˜ï¼Œå¤šé“ç¨‹åºå…±äº«è®¡ç®—æœºèµ„æºï¼Œä»è€Œä½¿å„ç§èµ„æºå¾—åˆ°å……åˆ†åˆ©ç”¨ï¼›ç³»ç»Ÿååé‡å¤§ï¼Œ CPU å’Œå…¶ä»–èµ„æºä¿æŒâ€œå¿™ç¢Œâ€çŠ¶æ€ã€‚ ç”¨æˆ·å“åº”çš„æ—¶é—´è¾ƒé•¿ï¼›ä¸æä¾›äººæœºäº¤äº’èƒ½åŠ›ï¼Œç”¨æˆ·æ—¢ä¸èƒ½äº†è§£è‡ªå·±çš„ç¨‹åºçš„è¿è¡Œæƒ…å†µï¼Œåˆä¸èƒ½æ§åˆ¶è®¡ç®—æœºã€‚ å› æ­¤å‘å±•å‡ºäº†åˆ†æ—¶æ“ä½œç³»ç»Ÿã€‚ åˆ†æ—¶æ“ä½œç³»ç»Ÿ ç”¨æˆ·å¯ä»¥åŒæ—¶ï¼ˆåŒæ—¶æ€§ï¼‰ä¸ä¸»æœºè¿›è¡Œäº¤äº’ï¼ˆäº¤äº’æ€§ï¼‰æ“ä½œè€Œäº’ä¸å¹²æ‰°ï¼ˆç‹¬ç«‹æ€§ï¼‰ã€‚åˆ†æ—¶ç³»ç»Ÿé‡‡ç”¨æ—¶é—´ç‰‡è½®è½¬æ–¹å¼ä½¿ä¸€å°è®¡ç®—æœºåŒæ—¶ä¸ºå¤šä¸ªç»ˆç«¯æœåŠ¡ï¼Œä½¿ç”¨æˆ·èƒ½å¤Ÿå¯¹ç³»ç»Ÿçš„åŠæ—¶å“åº”æ„Ÿåˆ°æ»¡æ„ï¼ˆåŠæ—¶æ€§ï¼‰ã€‚ åŒæ—¶æ€§ã€äº¤äº’æ€§ã€ç‹¬ç«‹æ€§ã€åŠæ—¶æ€§ã€‚ è¾ƒå¥½åœ°è§£å†³äº†äººæœºäº¤äº’é—®é¢˜ã€‚ åœ¨ä¸€äº›åº”ç”¨åœºåˆï¼Œéœ€è¦ç³»ç»Ÿèƒ½å¯¹å¤–éƒ¨çš„ä¿¡æ¯åœ¨è§„å®šçš„æ—¶é—´ï¼ˆæ¯”æ—¶é—´ç‰‡çš„æ—¶é—´è¿˜çŸ­ï¼‰å†…åšå‡ºå¤„ç†ï¼ˆæ¯”å¦‚é£æœºè®¢ç¥¨ç³»ç»Ÿæˆ–å¯¼å¼¹åˆ¶å¯¼ç³»ç»Ÿï¼‰ï¼Œå› æ­¤ï¼Œå®æ—¶æ“ä½œç³»ç»Ÿåº”è¿è€Œç”Ÿã€‚ å®æ—¶æ“ä½œç³»ç»Ÿ ä¸ºäº†èƒ½åœ¨æŸä¸ªæ—¶é—´é™åˆ¶å†…å®ŒæˆæŸäº›ç´§æ€¥ä»»åŠ¡è€Œä¸éœ€è¦æ—¶é—´ç‰‡æ’é˜Ÿï¼Œè¯ç”Ÿäº†å®æ—¶æ“ä½œç³»ç»Ÿã€‚èµ„æºåˆ©ç”¨ç‡ä¸æ˜¯å…¶ä¸»è¦è¿½æ±‚ç›®æ ‡ã€‚ åŠæ—¶æ€§ã€å¯é æ€§ ç®¡ç¨‹ ç®¡ç¨‹æ˜¯ç”±ä¸€ç»„æ•°æ®ä»¥åŠå®šä¹‰åœ¨è¿™ç»„æ•°æ®ä¹‹ä¸Šçš„å¯¹è¿™ç»„æ•°æ®çš„æ“ä½œç»„æˆçš„è½¯ä»¶æ¨¡å—ï¼Œè¿™ç»„æ“ä½œèƒ½åˆå§‹åŒ–å¹¶æ”¹å˜ç®¡ç¨‹ä¸­çš„æ•°æ®å’ŒåŒæ­¥è¿›ç¨‹ã€‚ç®¡ç¨‹ä¸ä»…èƒ½å®ç°è¿›ç¨‹é—´çš„äº’æ–¥ï¼Œè€Œä¸”èƒ½å®ç°è¿›ç¨‹é—´çš„åŒæ­¥ã€‚\nç®¡ç¨‹ç”± 4 éƒ¨åˆ†ç»„æˆï¼š\nç®¡ç¨‹çš„åç§°ï¼› å±€éƒ¨äºç®¡ç¨‹å†…éƒ¨çš„å…±äº«æ•°æ®ç»“æ„è¯´æ˜ï¼› å¯¹è¯¥æ•°æ®ç»“æ„è¿›è¡Œæ“ä½œçš„ä¸€ç»„è¿‡ç¨‹ï¼ˆæˆ–å‡½æ•°ï¼‰ï¼› å¯¹å±€éƒ¨äºç®¡ç¨‹å†…éƒ¨çš„å…±äº«æ•°æ®è®¾ç½®åˆå§‹å€¼çš„è¯­å¥ã€‚ ç®¡ç¨‹å…·æœ‰ç‰¹æ€§ï¼š\nå±€éƒ¨äºç®¡ç¨‹çš„æ•°æ®åªèƒ½è¢«å±€éƒ¨äºç®¡ç¨‹å†…çš„è¿‡ç¨‹æ‰€è®¿é—®ï¼› ä¸€ä¸ªè¿›ç¨‹åªæœ‰é€šè¿‡è°ƒç”¨ç®¡ç¨‹å†…çš„è¿‡ç¨‹æ‰èƒ½è¿›å…¥ç®¡ç¨‹è®¿é—®å…±äº«æ•°æ®ï¼› æ¯æ¬¡ä»…å…è®¸ä¸€ä¸ªè¿›ç¨‹åœ¨ç®¡ç¨‹å†…æ‰§è¡ŒæŸä¸ªå†…éƒ¨è¿‡ç¨‹ï¼ˆå®ç°äº’æ–¥ï¼‰ï¼› äº’æ–¥è®¿é—®æ•°æ®æ˜¯ç”±ç¼–è¯‘å™¨å®ç°çš„ï¼Œç¨‹åºå‘˜ä¸ç”¨å…³å¿ƒã€‚ ä¾‹å¦‚ï¼Œè‹¥xæ˜¯ç®¡ç¨‹å†…çš„æ¡ä»¶å˜é‡ï¼Œåˆ™å½“è¿›ç¨‹æ‰§è¡Œx.wait()æ—¶æ‰€åšçš„å·¥ä½œæ˜¯é˜»å¡è¯¥è¿›ç¨‹ï¼Œå¹¶å°†ä¹‹æ’å…¥xçš„é˜»å¡é˜Ÿåˆ—ä¸­ã€‚\nâ€œæ¡ä»¶å˜é‡â€æ˜¯ç®¡ç¨‹å†…éƒ¨è¯´æ˜å’Œä½¿ç”¨çš„ä¸€ç§ç‰¹æ®Šå˜é‡ï¼Œå…¶ä½œç”¨ç±»ä¼¼äºä¿¡å·é‡æœºåˆ¶ä¸­çš„â€œä¿¡å·é‡â€ï¼Œéƒ½æ˜¯ç”¨äºå®ç°è¿›ç¨‹åŒæ­¥çš„ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨åŒä¸€æ—¶åˆ»ï¼Œç®¡ç¨‹ä¸­åªèƒ½æœ‰ä¸€ä¸ªè¿›ç¨‹åœ¨æ‰§è¡Œã€‚å¦‚æœè¿›ç¨‹ A æ‰§è¡Œäº†x.wait()æ“ä½œï¼Œé‚£ä¹ˆè¯¥è¿›ç¨‹ä¼šé˜»å¡ï¼Œå¹¶æŒ‚åˆ°æ¡ä»¶å˜é‡ x å¯¹åº”çš„é˜»å¡é˜Ÿåˆ—ä¸Šã€‚è¿™æ ·ï¼Œç®¡ç¨‹çš„ä½¿ç”¨æƒè¢«é‡Šæ”¾ï¼Œå°±å¯ä»¥æœ‰å¦ä¸€ä¸ªè¿›ç¨‹è¿›å…¥ç®¡ç¨‹ã€‚å¦‚æœè¿›ç¨‹ B æ‰§è¡Œäº†x.signal()æ“ä½œï¼Œé‚£ä¹ˆä¼šå”¤é†’ x å¯¹åº”çš„é˜»å¡é˜Ÿåˆ—é˜Ÿå¤´è¿›ç¨‹ã€‚åœ¨ Pascal è¯­è¨€çš„ç®¡ç¨‹ä¸­ï¼Œè§„å®šåªæœ‰ä¸€ä¸ªè¿›ç¨‹è¦ç¦»å¼€ç®¡ç¨‹æ—¶æ‰èƒ½è°ƒç”¨signal()æ“ä½œã€‚\nSPOOLingæŠ€æœ¯ å››æ¬¡æŒ¥æ‰‹å„è‡ªçš„é˜¶æ®µ ä¸ºä»€ä¹ˆæ˜¯ä¸‰æ¬¡æ¡æ‰‹è€Œä¸æ˜¯ä¸¤æ¬¡æ¡æ‰‹ï¼Ÿ ä¸ºä»€ä¹ˆæ˜¯å››æ¬¡æŒ¥æ‰‹è€Œä¸æ˜¯ä¸‰æ¬¡æŒ¥æ‰‹ï¼Ÿ 17å¹´ é¡ºåºå­˜å‚¨ã€é“¾å¼å­˜å‚¨å¯¹ä¸åŒæ’åºæ–¹å¼çš„å½±å“ ç”±é¡ºåºå­˜å‚¨å˜æˆé“¾å¼å­˜å‚¨åï¼Œæ•ˆç‡ä¸ä¼šé™ä½çš„æœ‰ï¼šæ’å…¥æ’åºã€ï¼ˆç®€å•ï¼‰é€‰æ‹©æ’åºã€å†’æ³¡æ’åºï¼Œå› ä¸ºé¡ºåºå­˜å‚¨ä¸‹ï¼Œæ—¶é—´å¤æ‚åº¦å°±æ˜¯$O(n^2)$ï¼Œé“¾å¼å­˜å‚¨ä¸ä¼šæ”¹å˜å…¶å¤æ‚åº¦ï¼›\næ•ˆç‡ä¼šé™ä½çš„æœ‰ï¼šå¸Œå°”æ’åºã€å †æ’åºã€å¿«é€Ÿæ’åºï¼Œå› ä¸ºæ˜¯åˆ©ç”¨äº†é¡ºåºå­˜å‚¨çš„éšæœºè®¿é—®ç‰¹æ€§ã€‚\næŒ‡ä»¤çº§å¹¶è¡Œ è¶…æµæ°´çº¿ï¼šé€šè¿‡å¢åŠ æµæ°´çº¿çº§æ•°æ¥ä½¿æ›´å¤šçš„æŒ‡ä»¤åŒæ—¶åœ¨æµæ°´çº¿ä¸­é‡å æ‰§è¡Œã€‚è¶…æµæ°´çº¿å¹¶æ²¡æœ‰æ”¹å˜CPIçš„å€¼ï¼ŒCPIè¿˜æ˜¯1ï¼Œä½†æ˜¯ï¼Œå› ä¸ºç†æƒ³æƒ…å†µä¸‹æµæ°´çº¿çš„åŠ é€Ÿæ¯”ä¸æµæ°´æ®µçš„æ•°ç›®æˆæ­£æ¯”ï¼Œæµæ°´æ®µè¶Šå¤šï¼Œæ—¶é’Ÿå‘¨æœŸè¶ŠçŸ­ï¼Œä¸»é¢‘è¶Šé«˜ï¼ŒæŒ‡ä»¤ååç‡è¶Šé«˜ï¼Œæ‰€ä»¥è¶…æµæ°´çº¿çš„æ€§èƒ½æ¯”æ™®é€šæµæ°´çº¿å¥½ã€‚ç„¶è€Œï¼Œæµæ°´çº¿çº§æ•°è¶Šå¤šï¼Œç”¨äºæµæ°´æ®µå¯„å­˜å™¨çš„å¼€é”€å°±è¶Šå¤§ï¼Œå› è€Œæµæ°´çº¿çº§æ•°æ˜¯æœ‰é™åˆ¶çš„ï¼Œä¸å¯èƒ½æ— é™å¢åŠ ã€‚ åœ¨ã€Šè®¡ç®—æœºç»„æˆä¸è®¾è®¡ï¼šè½¯ä»¶/ç¡¬ä»¶æ¥å£ã€‹ä¹¦ä¸­ï¼Œæœ‰ä¸€ä¸ªå½¢è±¡çš„è§£é‡Šï¼š\nä»»ä½•ä¸€ä¸ªç»å¸¸å…‰é¡¾æ´—è¡£åº—çš„äººéƒ½ä¼šä¸è‡ªè§‰åœ°ä½¿ç”¨æµæ°´çº¿æŠ€æœ¯ã€‚éæµæ°´çº¿æ–¹å¼çš„æ´—è¡£è¿‡ç¨‹åŒ…æ‹¬å¦‚ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š\næŠŠä¸€æ‰¹è„è¡£æœæ”¾å…¥æ´—è¡£æœºé‡Œæ¸…æ´— æ´—è¡£æœºæ´—å®Œåï¼ŒæŠŠè¡£æœå–å‡ºå¹¶æ”¾å…¥çƒ˜å¹²æœºä¸­ã€‚ çƒ˜å¹²è¡£æœåï¼Œå°†è¡£æœä»çƒ˜å¹²æœºä¸­å–å‡ºï¼Œç„¶åæ”¾åœ¨æ¡Œå­ä¸Šå èµ·æ¥ã€‚ å å¥½è¡£æœåï¼Œè¯·ä½ çš„å®¤å‹å¸®å¿™æŠŠæ¡Œå­ä¸Šçš„è¡£æœæ”¶å¥½ã€‚ å½“ä½ çš„å®¤å‹æŠŠè¿™æ‰¹å¹²å‡€è¡£æœä»æ¡Œå­ä¸Šæ‹¿èµ°åï¼Œå†å¼€å§‹æ´—ä¸‹ä¸€æ‰¹è„è¡£æœã€‚é‡‡ç”¨æµæ°´çº¿çš„æ–¹æ³•å°†èŠ‚çœå¤§é‡çš„æ—¶é—´ï¼Œå¦‚å›¾ 4-25 æ‰€ç¤ºã€‚å½“æŠŠç¬¬ä¸€æ‰¹è„è¡£æœä»æ´—è¡£æœºé‡Œå–å‡ºæ”¾å…¥çƒ˜å¹²æœºä¹‹åï¼Œå°±å¯ä»¥æŠŠç¬¬äºŒæ‰¹è„è¡£æœæ”¾å…¥æ´—è¡£æœºé‡Œè¿›è¡Œæ¸…æ´—äº†ã€‚å½“ç¬¬ä¸€æ‰¹è¡£æœè¢«çƒ˜å¹²ä¹‹åï¼Œå°±å¯ä»¥å°†å®ƒä»¬å èµ·æ¥ï¼ŒåŒæ—¶æŠŠæ´—å‡€çš„ä¸‹ä¸€æ‰¹æ¹¿è¡£æœæ”¾å…¥çƒ˜å¹²æœºä¸­ï¼ŒåŒæ—¶å†å°†ä¸‹ä¸€æ‰¹è„è¡£æœæ”¾å…¥æ´—è¡£æœºé‡Œæ¸…æ´—ã€‚æ¥ç€è®©ä½ çš„å®¤å‹æŠŠç¬¬ä¸€æ‰¹è¡£æœä»æ¡Œå­ä¸Šæ”¶å¥½ï¼Œè€Œä½ å¼€å§‹å ç¬¬äºŒæ‰¹è¡£æœï¼Œè¿™æ—¶çƒ˜å¹²æœºä¸­æ”¾çš„æ˜¯ç¬¬ä¸‰æ‰¹è¡£æœï¼ŒåŒæ—¶å¯ä»¥æŠŠç¬¬å››æ‰¹è„è¡£æœæ”¾å…¥æ´—è¡£æœºæ¸…æ´—äº†ã€‚è¿™æ ·ï¼Œæ‰€æœ‰çš„æ´—è¡£æ­¥éª¤ï¼ˆæµæ°´çº¿çš„æ­¥éª¤ï¼‰éƒ½åœ¨åŒæ—¶æ“ä½œã€‚åªè¦åœ¨æ¯ä¸€ä¸ªæ“ä½œæ­¥éª¤ä¸­éƒ½æœ‰ç‹¬ç«‹çš„å·¥ä½œå•å…ƒæ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥é‡‡ç”¨æµæ°´çº¿çš„æ–¹å¼æ¥å¿«é€Ÿå®Œæˆä»»åŠ¡äº†ã€‚\næœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥å¢åŠ æ½œåœ¨çš„æŒ‡ä»¤çº§å¹¶è¡Œç¨‹åº¦ï¼š\nç¬¬ä¸€ç§æ˜¯å¢åŠ æµæ°´çº¿çš„æ·±åº¦ä»¥é‡å æ›´å¤šçš„æŒ‡ä»¤ã€‚è¿˜æ˜¯ç”¨æ´—è¡£åº—çš„ä¾‹å­æ¥è¯´æ˜ï¼Œå‡è®¾æ´—è¡£æœºå‘¨æœŸæ¯”å…¶ä»–æœºå™¨çš„å‘¨æœŸè¦é•¿ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ´—è¡£æœºåˆ’åˆ†æˆä¸‰ä¸ªæœºå™¨ï¼Œåˆ†åˆ«å®ŒæˆåŸæ´—è¡£æœºæ´—ã€æ¼‚ã€ç”©ä¸‰ä¸ªåŠŸèƒ½ã€‚è¿™æ ·æˆ‘ä»¬å°±å°†å››çº§æµæ°´çº¿å˜æˆäº†å…­çº§æµæ°´çº¿ã€‚ä¸ºäº†è¾¾åˆ°å®Œå…¨çš„åŠ é€Ÿæ•ˆæœï¼Œæˆ‘ä»¬éœ€è¦é‡æ–°å¹³è¡¡å…¶ä»–æ­¥éª¤ä½¿å¾—å®ƒä»¬çš„é•¿åº¦ç›¸åŒï¼Œåœ¨å¤„ç†å™¨å’Œæ´—è¡£åº—ä¸­éƒ½æ˜¯è¿™æ ·ã€‚å› ä¸ºæ›´å¤šçš„æ“ä½œè¢«é‡å ï¼Œæœ‰æ›´å¤šçš„å¹¶è¡Œæ€§è¢«æŒ–æ˜å‡ºæ¥ã€‚\né€šè¿‡å¢åŠ æµæ°´çº¿çº§æ•°æ¥ä½¿æ›´å¤šçš„æŒ‡ä»¤åŒæ—¶åœ¨æµæ°´çº¿ä¸­é‡å æ‰§è¡Œã€‚è¶…æµæ°´çº¿å¹¶æ²¡æœ‰æ”¹å˜CPIçš„å€¼ï¼ŒCPIè¿˜æ˜¯1ï¼Œä½†æ˜¯ï¼Œå› ä¸ºç†æƒ³æƒ…å†µä¸‹æµæ°´çº¿çš„åŠ é€Ÿæ¯”ä¸æµæ°´æ®µçš„æ•°ç›®æˆæ­£æ¯”ï¼Œæµæ°´æ®µè¶Šå¤šï¼Œæ—¶é’Ÿå‘¨æœŸè¶ŠçŸ­ï¼Œä¸»é¢‘è¶Šé«˜ï¼ŒæŒ‡ä»¤ååç‡è¶Šé«˜ï¼Œæ‰€ä»¥è¶…æµæ°´çº¿çš„æ€§èƒ½æ¯”æ™®é€šæµæ°´çº¿å¥½ã€‚ç„¶è€Œï¼Œæµæ°´çº¿çº§æ•°è¶Šå¤šï¼Œç”¨äºæµæ°´æ®µå¯„å­˜å™¨çš„å¼€é”€å°±è¶Šå¤§ï¼Œå› è€Œæµæ°´çº¿çº§æ•°æ˜¯æœ‰é™åˆ¶çš„ï¼Œä¸å¯èƒ½æ— é™å¢åŠ ã€‚\nå¦ä¸€ç§æ–¹æ³•æ˜¯å¤åˆ¶è®¡ç®—æœºå†…éƒ¨éƒ¨ä»¶çš„æ•°é‡ï¼Œä½¿å¾—æ¯ä¸ªæµæ°´çº§å¯ä»¥å¯åŠ¨å¤šæ¡æŒ‡ä»¤ã€‚è¿™ç§æŠ€æœ¯ä¸€èˆ¬è¢«ç§°ä¸ºå¤šå‘å°„ã€‚ä¸€ä¸ªå¤šå‘å°„çš„æ´—è¡£åº—ä¼šæŠŠåŸæœ‰çš„ä¸€å°æ´—è¡£æœºå’Œçƒ˜å¹²æœºæ›¿æ¢ä¸ºä¸‰å°æ´—è¡£æœºå’Œä¸‰å°çƒ˜å¹²æœºã€‚è¿˜éœ€è¦é›‡ç”¨æ›´å¤šçš„æ´—è¡£å·¥æ¥æŠ˜å å’Œå­˜å‚¨ä¸‰å€äºåŸæ¥çš„è¡£æœã€‚è¿™ç§æ–¹æ³•çš„ç¼ºç‚¹æ˜¯éœ€è¦é¢å¤–çš„å·¥ä½œè®©æ‰€æœ‰æœºå™¨åŒæ—¶è¿è½¬å¹¶å°†è´Ÿè½½ä¼ åˆ°ä¸‹ä¸ªæµæ°´çº§ã€‚\nå®ç°å¤šå‘å°„æµæ°´çº¿å¿…é¡»å®Œæˆä»¥ä¸‹ä¸¤ä¸ªä»»åŠ¡ï¼šæŒ‡ä»¤æ‰“åŒ…å’Œå†’é™©å¤„ç†ã€‚æŒ‡ä»¤æ‰“åŒ…ä»»åŠ¡å°±æ˜¯å°†èƒ½å¤Ÿå¹¶è¡Œå¤„ç†çš„å¤šæ¡æŒ‡ä»¤åŒæ—¶å‘é€åˆ°å‘å°„æ§½ä¸­ï¼Œå› æ­¤å¤„ç†å™¨å¿…é¡»çŸ¥é“æ¯ä¸ªå‘¨æœŸèƒ½å‘å°„å‡ æ¡æŒ‡ä»¤ï¼Œå“ªäº›æŒ‡ä»¤å¯ä»¥åŒæ—¶å‘å°„ã€‚è¿™é€šè¿‡æ¨æµ‹æŠ€æœ¯æ¥å®Œæˆï¼Œå¯ä»¥ç”±ç¼–è¯‘å™¨æˆ–å¤„ç†å™¨é€šè¿‡çŒœæµ‹æŒ‡ä»¤æ‰§è¡Œç»“æœæ¥è°ƒæ•´æŒ‡ä»¤æ‰§è¡Œé¡ºåºã€‚æ ¹æ®æ¨æµ‹ä»»åŠ¡ä¸»è¦ç”±ç¼–è¯‘å™¨é™æ€å®Œæˆè¿˜æ˜¯ç”±å¤„ç†å™¨åŠ¨æ€æ‰§è¡Œï¼Œå¯å°†å¤šå‘å°„æŠ€æœ¯åˆ†ä¸ºä¸¤ç±»ï¼šé™æ€å¤šå‘å°„å’ŒåŠ¨æ€å¤šå‘å°„ï¼š\né™æ€å¤šå‘å°„ä¸»è¦é€šè¿‡ç¼–è¯‘å™¨é™æ€æ¨æµ‹æ¥è¾…åŠ©å®Œæˆâ€œæŒ‡ä»¤æ‰“åŒ…â€å’Œâ€œå†’é™©å¤„ç†â€ã€‚æŒ‡ä»¤æ‰“åŒ…çš„ç»“æœå¯çœ‹æˆå°†åŒæ—¶å‘å°„çš„å¤šæ¡æŒ‡ä»¤åˆå¹¶åˆ°ä¸€ä¸ªé•¿æŒ‡ä»¤ä¸­ã€‚é€šå¸¸å°†ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸå†…å‘å°„çš„å¤šä¸ªæŒ‡ä»¤çœ‹æˆä¸€æ¡å¤šä¸ªæ“ä½œçš„é•¿æŒ‡ä»¤ï¼Œç§°ä¸ºä¸€ä¸ªâ€œå‘å°„åŒ…â€œã€‚æ‰€ä»¥ï¼Œé™æ€å¤šå‘å°„æŒ‡ä»¤æœ€åˆè¢«ç§°ä¸ºâ€œè¶…é•¿æŒ‡ä»¤å­—â€ã€‚\nåŠ¨æ€å¤šå‘å°„ç”±å¤„ç†å™¨ç¡¬ä»¶åŠ¨æ€è¿›è¡Œæµæ°´çº¿è°ƒåº¦æ¥å®Œæˆâ€œæŒ‡ä»¤æ‰“åŒ…â€œå’Œâ€œå†’é™©å¤„ç†â€ï¼Œèƒ½åœ¨ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸå†…æ‰§è¡Œä¸€æ¡ä»¥ä¸ŠæŒ‡ä»¤ã€‚é‡‡ç”¨åŠ¨æ€å¤šå‘å°„æµæ°´çº¿æŠ€æœ¯çš„å¤„ç†å™¨ç§°ä¸ºè¶…æ ‡é‡å¤„ç†å™¨ã€‚åœ¨ç®€å•çš„è¶…æ ‡é‡å¤„ç†å™¨ä¸­ï¼ŒæŒ‡ä»¤æŒ‰é¡ºåºå‘å°„ï¼Œæ¯ä¸ªå‘¨æœŸç”±å¤„ç†å™¨å†³å®šæ˜¯å‘å°„ä¸€æ¡æˆ–å¤šæ¡æŒ‡ä»¤ã€‚èƒ½ç»“åˆåŠ¨æ€è°ƒåº¦æŠ€æœ¯æé«˜æŒ‡ä»¤æ‰§è¡Œå¹¶è¡Œæ€§ã€‚\næ•°æ®é€šè·¯åŒ…å«å“ªäº› æœºå™¨æŒ‡ä»¤çš„æ‰§è¡Œæ˜¯åœ¨æ•°æ®é€šè·¯ä¸­å®Œæˆçš„ï¼Œé€šå¸¸å°†æŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ä¸­æ•°æ®æ‰€ç»è¿‡çš„è·¯å¾„ï¼ˆåŒ…æ‹¬è·¯å¾„ä¸Šçš„éƒ¨ä»¶ï¼‰ç§°ä¸ºæ•°æ®é€šè·¯ã€‚ç¨‹åºè®¡æ•°å™¨ã€ALUã€é€šç”¨å¯„å­˜å™¨ã€çŠ¶æ€å¯„å­˜å™¨ã€cacheã€MMUï¼ˆä¸»å­˜ç®¡ç†å•å…ƒï¼‰ã€æµ®ç‚¹è¿ç®—é€»è¾‘ã€å¼‚å¸¸å’Œä¸­æ–­å¤„ç†é€»è¾‘ç­‰éƒ½æ˜¯æŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ä¸­æ•°æ®æµç»çš„éƒ¨ä»¶ï¼Œéƒ½å±äºæ•°æ®é€šè·¯çš„ä¸€éƒ¨åˆ†ã€‚é€šå¸¸æŠŠæ•°æ®é€šè·¯ä¸­ä¸“é—¨è¿›è¡Œæ•°æ®è¿ç®—çš„éƒ¨ä»¶ç§°ä¸ºæ‰§è¡Œéƒ¨ä»¶(execution unit) æˆ–åŠŸèƒ½éƒ¨ä»¶(function unit)ã€‚æ•°æ®é€šè·¯ç”±æ§åˆ¶éƒ¨ä»¶è¿›è¡Œæ§åˆ¶ã€‚æ§åˆ¶éƒ¨ä»¶æ ¹æ®æ¯æ¡æŒ‡ä»¤åŠŸèƒ½çš„ä¸åŒç”Ÿæˆå¯¹æ•°æ®é€šè·¯çš„æ§åˆ¶ä¿¡å·ï¼Œå› æ­¤æ•°æ®é€šè·¯ä¸åŒ…æ‹¬æ§åˆ¶éƒ¨ä»¶ã€‚\næŒ‡ä»¤æ‰§è¡Œæ‰€ç”¨åˆ°çš„å…ƒä»¶æœ‰ä¸¤ç±»ï¼šç»„åˆé€»è¾‘å…ƒä»¶ï¼ˆä¹Ÿç§°æ“ä½œå…ƒä»¶ï¼‰å’Œæ—¶åºé€»è¾‘å…ƒä»¶ï¼ˆä¹Ÿç§°çŠ¶æ€å…ƒä»¶æˆ–å­˜å‚¨å…ƒä»¶ï¼‰ã€‚æ•…ä¹Ÿå¯ä»¥è¯´æ•°æ®é€šè·¯ç”±ç»„åˆé€»è¾‘ç”µè·¯å’Œæ—¶åºé€»è¾‘ç”µè·¯ç»„åˆè€Œæˆã€‚\nç»„åˆé€»è¾‘å…ƒä»¶çš„è¾“å‡ºåªå–å†³äºå½“å‰çš„è¾“äººã€‚è‹¥è¾“å…¥ä¸€æ ·ï¼Œå…¶è¾“å‡ºä¹Ÿä¸€æ ·ã€‚ç»„åˆç”µè·¯çš„å®šæ—¶ä¸å—æ—¶é’Ÿä¿¡å·çš„æ§åˆ¶ï¼Œæ‰€æœ‰è¾“å…¥ä¿¡å·åˆ°è¾¾åï¼Œç»è¿‡ä¸€å®šçš„é€»è¾‘é—¨å»¶è¿Ÿï¼Œè¾“å‡ºç«¯çš„å€¼è¢«æ”¹å˜ï¼Œå¹¶ä¸€ç›´ä¿æŒå…¶å€¼ä¸å˜ï¼Œç›´åˆ°è¾“å…¥ä¿¡å·æ”¹å˜ã€‚æ•°æ®é€šè·¯ä¸­å¸¸ç”¨çš„ç»„åˆé€»è¾‘å…ƒä»¶æœ‰å¤šè·¯é€‰æ‹©å™¨ï¼ˆMUXï¼‰ ã€åŠ æ³•å™¨ï¼ˆAdderï¼‰ ã€ç®—æœ¯é€»è¾‘éƒ¨ä»¶ï¼ˆALUï¼‰ã€è¯‘ç å™¨ï¼ˆDecoderï¼‰ç­‰ã€‚\næ—¶åºé€»è¾‘å…ƒä»¶å…·æœ‰å­˜å‚¨åŠŸèƒ½ï¼Œè¾“äººçŠ¶æ€åœ¨æ—¶é’Ÿæ§åˆ¶ä¸‹è¢«å†™åˆ°ç”µè·¯ä¸­ï¼Œå¹¶ä¿æŒç”µè·¯çš„è¾“å‡ºå€¼ä¸å˜ï¼Œç›´åˆ°ä¸‹ä¸€ä¸ªæ—¶é’Ÿåˆ°è¾¾ã€‚è¾“äººç«¯çŠ¶æ€ç”±æ—¶é’Ÿå†³å®šä½•æ—¶è¢«å†™å…¥ï¼Œè¾“å‡ºç«¯çŠ¶æ€éšæ—¶å¯ä»¥è¯»å‡ºã€‚æ•°æ®é€šè·¯ä¸­çš„å¯„å­˜å™¨æ˜¯ä¸€ç§å…¸å‹çš„çŠ¶æ€å­˜å‚¨å…ƒä»¶ï¼Œæ ¹æ®åŠŸèƒ½å’Œå®ç°æ–¹å¼çš„ä¸åŒï¼Œæœ‰å„ç§ä¸åŒç±»å‹çš„å¯„å­˜å™¨ã€‚\nç£ç›˜åˆå§‹åŒ– ä½çº§æ ¼å¼åŒ–ï¼ˆç‰©ç†æ ¼å¼åŒ–ï¼‰ï¼šä¸€ä¸ªæ–°çš„ç£ç›˜æ˜¯ä¸€ä¸ªç©ºç™½ç‰ˆï¼Œå¿…é¡»åˆ†æˆæ‰‡åŒºä»¥ä¾¿ç£ç›˜æ§åˆ¶å™¨èƒ½è¯»å’Œå†™ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºä½çº§æ ¼å¼åŒ–ï¼ˆæˆ–ç‰©ç†æ ¼å¼åŒ–ï¼‰ã€‚ä½çº§æ ¼å¼åŒ–ä¸ºç£ç›˜çš„æ¯ä¸ªæ‰‡åŒºé‡‡ç”¨ç‰¹åˆ«çš„æ•°æ®ç»“æ„ï¼ŒåŒ…æ‹¬æ ¡éªŒç ã€‚ ç£ç›˜åˆ†åŒºï¼šç£ç›˜åˆ†ä¸ºç”±ä¸€ä¸ªæˆ–å¤šä¸ªæŸ±é¢ç»„æˆçš„åˆ†åŒºï¼Œæ¯ä¸ªåˆ†åŒºå¯ä»¥ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„ç£ç›˜ã€‚ é€»è¾‘æ ¼å¼åŒ–ï¼ˆåˆ›å»ºæ–‡ä»¶ç³»ç»Ÿï¼‰ï¼šåœ¨è¿™ä¸€æ­¥ï¼Œæ“ä½œç³»ç»Ÿå°†åˆå§‹çš„æ–‡ä»¶ç³»ç»Ÿæ•°æ®ç»“æ„å­˜å‚¨åˆ°ç£ç›˜ä¸Šï¼ŒåŒ…æ‹¬åˆ›å»ºæ–‡ä»¶ç³»ç»Ÿçš„æ ¹ç›®å½•ï¼Œå¯¹ç©ºé—²ç£ç›˜å—è¿›è¡Œç®¡ç†çš„æ•°æ®ç»“æ„è¿›è¡Œåˆå§‹åŒ–ï¼ˆå¦‚ä½ç¤ºå›¾ã€ç©ºé—²åˆ†åŒºè¡¨ã€iç»“ç‚¹åŒºï¼‰ åˆ’åˆ†æ‰‡åŒºä¸ç­‰äºç£ç›˜åˆ†åŒºã€‚\nMACå¸§çš„åœ°å€ â€œæ¥åŒ–å‘â€\næ»‘åŠ¨çª—å£çš„çª—å£å°ºå¯¸åŠåºå· 18å¹´ è¡Œåœ°å€ä½æ•°å’Œåˆ—åœ°å€ä½æ•°çš„å¤§å°å…³ç³» åœ¨é‡‡ç”¨å¼•è„šå¤ç”¨æ—¶ï¼Œä¸ºäº†æé«˜DRAMçš„æ€§ä»·æ¯”ï¼Œé€šå¸¸è®¾ç½®è¡Œåœ°å€ä½æ•°$r$å’Œåˆ—åœ°å€ä½æ•°$c$æ»¡è¶³$r\\leq c$ä¸”$|r-c|$æœ€å°ã€‚\nå¯ä»¥æé«˜æ–‡ä»¶è®¿é—®é€Ÿåº¦çš„æªæ–½ æå‰è¯»ï¼šæå‰è¯»æ˜¯æŒ‡è¯»å½“å‰ç›˜å—æ—¶ï¼Œå°†ä¸‹ä¸ªå¯èƒ½è¦è®¿é—®çš„ç›˜å—æ•°æ®è¯»å…¥ç¼“å†²åŒºï¼Œä»¥ä¾¿éœ€è¦æ—¶ç›´æ¥ä»ç¼“å†²åŒºä¸­è¯»å–ï¼Œæé«˜äº†æ–‡ä»¶çš„è®¿é—®é€Ÿåº¦ï¼› ä¸ºæ–‡ä»¶åˆ†é…è¿ç»­çš„ç°‡ï¼› å»¶è¿Ÿå†™ï¼šå»¶è¿Ÿå†™æ˜¯å…ˆå°†å†™æ•°æ®å†™å…¥ç¼“å†²åŒºï¼Œå¹¶ç½®ä¸Šâ€œå»¶è¿Ÿå†™â€æ ‡å¿—ï¼Œä»¥å¤‡ä¸ä¹…ä¹‹åã€é—®ï¼Œå½“ç¼“å†²åŒºéœ€è¦å†æ¬¡è¢«åˆ†é…å‡ºå»æ—¶æ‰å°†ç¼“å†²åŒºæ•°æ®å†™å…¥ç£ç›˜ï¼Œå‡å°‘äº†è®¿é—®ç£ç›˜çš„æ¬¡æ•°ï¼Œé«˜äº†æ–‡ä»¶çš„è®¿é—®é€Ÿåº¦ï¼› é‡‡ç”¨ç£ç›˜é«˜é€Ÿç¼“å­˜ï¼› åˆ†ç”¨å¤ç”¨ å‘é€æ–¹çš„æŸäº›åº”ç”¨è¿›ç¨‹æ‰€å‘é€çš„ä¸åŒçš„åº”ç”¨æŠ¥æ–‡ï¼Œåœ¨ä¼ è¾“å±‚ä½¿ç”¨UDPåè®®è¿›è¡Œå°è£…ï¼Œç§°ä¸ºUDPå¤ç”¨ï¼ŒTCPå¤ç”¨æ¦‚å¿µç±»ä¼¼ã€‚ä¼ è¾“å±‚å‘é€ç«¯ä½¿ç”¨æºç«¯å£å·æ¥åŒºåˆ†ä¸åŒçš„åº”ç”¨è¿›ç¨‹ï¼› ä¸ç®¡æ˜¯UDPå°è£…çš„UDPç”¨æˆ·æ•°æ®æŠ¥è¿˜æ˜¯TCPåè®®å°è£…çš„TCPæŠ¥æ–‡æ®µï¼Œåœ¨ç½‘ç»œå±‚éƒ½éœ€è¦ä½¿ç”¨IPåè®®æ¥å°è£…æˆIPæ•°æ®æŠ¥ï¼Œç§°ä¸ºIPå¤ç”¨ï¼ŒIPæ•°æ®æŠ¥é¦–éƒ¨çš„åè®®å­—æ®µçš„å€¼ç”¨æ¥è¡¨æ˜å°è£…çš„æ˜¯ä½•ç§åè®®æ•°æ®å•å…ƒï¼Œå¦‚å–å€¼ä¸º6è¡¨ç¤ºå°è£…çš„æ˜¯TCPæŠ¥æ–‡æ®µï¼Œå–å€¼ä¸º17è¡¨ç¤ºå°è£…çš„æ˜¯UDPç”¨æˆ·æ•°æ®æŠ¥ï¼› æ¥æ”¶æ–¹ç½‘ç»œå±‚æ”¶åˆ°IPæ•°æ®æŠ¥åè¿›è¡ŒIPåˆ†ç”¨ï¼Œæ ¹æ®IPé¦–éƒ¨çš„åè®®å­—æ®µæ¥å‘ä¸Šäº¤ä»˜ç»™ä¼ è¾“å±‚å¯¹åº”çš„åè®®ã€‚ æ¥æ”¶æ–¹ä¼ è¾“å±‚æ ¹æ®UDPæ•°æ®æŠ¥æˆ–TCPæŠ¥æ–‡æ®µé¦–éƒ¨çš„ç›®çš„ç«¯å£å·ï¼Œå‘ä¸Šäº¤ä»˜ç»™åº”ç”¨å±‚çš„ç›¸åº”åº”ç”¨è¿›ç¨‹ã€‚ 19å¹´ æ£®æ—çš„éå†ã€å¤šå‰æ ‘çš„éå† æ ‘ æ£®æ— äºŒå‰æ ‘ å…ˆæ ¹éå† å…ˆåºéå† å…ˆåºéå† åæ ¹éå† ä¸­åºéå† ä¸­åºéå† æ£®æ—çš„å…ˆåºéå†ä¹Ÿç§°ä¸ºå…ˆæ ¹éå†ï¼Œä¸­åºéå†ä¹Ÿç§°ä¸ºä¸­æ ¹éå†ã€åæ ¹éå†ã€‚\næ ¹æ®è™šæ‹Ÿåœ°å€è®¿å­˜è¿‡ç¨‹ ç»“åˆäº†cacheå’Œè™šæ‹Ÿå­˜å‚¨å™¨çš„CPUè®¿å­˜è¿‡ç¨‹ cacheç¼ºå¤±ç”±ç¡¬ä»¶å®Œæˆï¼›ç¼ºé¡µå¤„ç†ç”±è½¯ä»¶å®Œæˆï¼Œæ“ä½œç³»ç»Ÿé€šè¿‡ç¼ºé¡µå¼‚å¸¸å¤„ç†ç¨‹åºæ¥å®ç°ï¼›TLBç¼ºå¤±æ—¢å¯ä»¥ç”±ç¡¬ä»¶æ¥å¤„ç†ä¹Ÿå¯ä»¥è½¯ä»¶æ¥å¤„ç†ã€‚ç”¨è½¯ä»¶å¤„ç†æ—¶ï¼ŒOSé€šè¿‡ä¸“é—¨çš„TLBç¼ºå¤±å¼‚å¸¸å¤„ç†ç¨‹åºæ¥å®ç°ã€‚\nDMAçš„ä¸€äº›ç»†èŠ‚ DMAçš„æ•°æ®ä¼ é€åˆ†ä¸ºé¢„å¤„ç†ã€æ•°æ®ä¼ é€å’Œåå¤„ç†3ä¸ªé˜¶æ®µã€‚\nDMAé¢„å¤„ç†é˜¶æ®µéœ€è¦CPUå‚ä¸ï¼Œç”±CPUå®Œæˆå¿…è¦çš„å‡†å¤‡å·¥ä½œï¼Œç”±è®¾å¤‡é©±åŠ¨ç¨‹åºè®¾ç½®ä¼ é€å‚æ•°**ã€‚æ¯ç±»è®¾å¤‡éƒ½é…ç½®ä¸€ä¸ªè®¾å¤‡é©±åŠ¨ç¨‹åºï¼Œè®¾å¤‡é©±åŠ¨ç¨‹åºå‘ä¸Šå±‚ç”¨æˆ·ç¨‹åºæä¾›ä¸€ç»„æ ‡å‡†æ¥å£ï¼Œè´Ÿè´£å®ç°å¯¹è®¾å¤‡å‘å‡ºå„ç§å…·ä½“æ“ä½œæŒ‡ä»¤ï¼Œ**ç”¨æˆ·ç¨‹åºä¸èƒ½ç›´æ¥å’Œ DMA æ‰“äº¤é“ã€‚ åœ¨DMAä¼ é€è¿‡ç¨‹ä¸­ï¼ŒDMAæ§åˆ¶å™¨ç›´æ¥æ§åˆ¶æ€»çº¿ä¼ è¾“ã€‚æ¯æ¬¡å°†ä¸€ä¸ªæ•°æ®å—é€åˆ°ä¸»å­˜ä¸­åï¼Œåœ¨ä¸‹æ¬¡æ•°æ®ä¼ é€å‰ï¼ŒDMAæ§åˆ¶å™¨ä¼šå†æ¬¡è¯·æ±‚æ€»çº¿ä½¿ç”¨æƒï¼ˆå³DMAè¯·æ±‚ï¼‰ï¼Œè¯¥è¯·æ±‚çš„å“åº”æ— éœ€CPUå¹²é¢„ï¼› åœ¨æ‰€æœ‰æ‰€éœ€çš„å—ä¼ é€å®Œæˆåï¼ŒDMAä¼ é€ç»“æŸï¼Œè¿›å…¥åå¤„ç†é˜¶æ®µï¼ŒDMAæ§åˆ¶å™¨å‘å‡ºDMAä¸­æ–­ï¼ŒCPUå‚ä¸ä¸­æ–­çš„å¤„ç†ã€‚ ç”¨æˆ·çº§çº¿ç¨‹ã€å†…æ ¸çº§çº¿ç¨‹ å„ç§åŠ¨æ€åˆ†åŒºç®¡ç†æ–¹å¼ç‰¹ç‚¹ é¦–æ¬¡é€‚åº”ï¼ˆ First Fit ï¼‰ç®—æ³•ã€‚ç©ºé—²åˆ†åŒºä»¥åœ°å€é€’å¢çš„æ¬¡åºé“¾æ¥ã€‚åˆ†é…å†…å­˜æ—¶ï¼Œä»é“¾é¦–å¼€å§‹é¡ºåºæŸ¥æ‰¾ï¼Œæ‰¾åˆ°å¤§å°èƒ½æ»¡è¶³è¦æ±‚çš„ç¬¬ä¸€ä¸ªç©ºé—²åˆ†åŒºåˆ†é…ç»™ä½œä¸šã€‚ é‚»è¿‘é€‚åº”ï¼ˆ Next Fit) ç®—æ³•ã€‚åˆç§°å¾ªç¯é¦–æ¬¡é€‚åº”ç®—æ³•ï¼Œç”±é¦–æ¬¡é€‚åº”ç®—æ³•æ¼”å˜è€Œæˆã€‚ä¸åŒä¹‹å¤„æ˜¯ï¼Œåˆ†é…å†…å­˜æ—¶ä»ä¸Šæ¬¡æŸ¥æ‰¾ç»“æŸçš„ä½ç½®å¼€å§‹ç»§ç»­æŸ¥æ‰¾ã€‚ æœ€ä½³é€‚åº”ï¼ˆ Best Fit ï¼‰ç®—æ³•ã€‚ç©ºé—²åˆ†åŒºæŒ‰å®¹é‡é€’å¢çš„æ¬¡åºå½¢æˆç©ºé—²åˆ†åŒºé“¾ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªèƒ½æ»¡è¶³è¦æ±‚ä¸”æœ€å°çš„ç©ºé—²åˆ†åŒºåˆ†é…ç»™ä½œä¸šï¼Œé¿å…â€œå¤§æå°ç”¨â€ã€‚ æœ€åé€‚åº” (Worst Fit ï¼‰ç®—æ³•ã€‚ç©ºé—²åˆ†åŒºä»¥å®¹é‡é€’å‡çš„æ¬¡åºé“¾æ¥ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªèƒ½æ»¡è¶³è¦æ±‚çš„ï¼Œå³æœ€å¤§çš„åˆ†åŒºï¼Œä»ä¸­åˆ†å‰²ä¸€éƒ¨åˆ†å­˜å‚¨ç©ºé—´ç»™ä½œä¸šã€‚ é¦–æ¬¡é€‚åº”ç®—æ³•æœ€ç®€å•ï¼Œé€šå¸¸ä¹Ÿæ˜¯æœ€å¥½å’Œæœ€å¿«çš„ã€‚ä¸è¿‡ï¼Œé¦–æ¬¡é€‚åº”ç®—æ³•ä¼šä½¿å¾—å†…å­˜çš„ä½åœ°å€éƒ¨åˆ†å‡ºç°å¾ˆå¤šå°çš„ç©ºé—²åˆ†åŒºï¼Œè€Œæ¯æ¬¡åˆ†é…æŸ¥æ‰¾æ—¶éƒ½è¦ç»è¿‡è¿™äº›åˆ†åŒºï¼Œå› æ­¤å¢åŠ äº†å¼€é”€ã€‚\né‚»è¿‘é€‚åº”ç®—æ³•è¯•å›¾è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä½†å®ƒå¸¸å¸¸å¯¼è‡´åœ¨å†…å­˜ç©ºé—´çš„å°¾éƒ¨ï¼ˆå› ä¸ºåœ¨ä¸€éæ‰«æä¸­ï¼Œå†…å­˜å‰é¢éƒ¨åˆ†ä½¿ç”¨åå†é‡Šæ”¾æ—¶ï¼Œä¸ä¼šå‚ä¸åˆ†é…ï¼‰åˆ†è£‚æˆå°ç¢ç‰‡ã€‚é€šå¸¸æ¯”é¦–æ¬¡é€‚åº”ç®—æ³•è¦å·®ã€‚\næœ€ä½³é€‚åº”ç®—æ³•è™½ç„¶ç§°ä¸ºâ€œæœ€ä½³â€ï¼Œä½†æ˜¯æ€§èƒ½é€šå¸¸å¾ˆå·®ï¼Œå› ä¸ºæ¯æ¬¡æœ€ä½³çš„åˆ†é…ä¼šç•™ä¸‹å¾ˆå°çš„éš¾ä»¥åˆ©ç”¨çš„å†…å­˜å—ï¼Œä¼šäº§ç”Ÿæœ€å¤šçš„å¤–éƒ¨ç¢ç‰‡ã€‚\næœ€åé€‚åº”ç®—æ³•ä¸æœ€ä½³é€‚åº”ç®—æ³•ç›¸åï¼Œå®ƒé€‰æ‹©æœ€å¤§çš„å¯ç”¨å—ï¼Œè¿™çœ‹èµ·æ¥æœ€ä¸å®¹æ˜“äº§ç”Ÿç¢ç‰‡ï¼Œä½†æ˜¯å´æŠŠæœ€å¤§çš„è¿ç»­å†…å­˜åˆ’åˆ†å¼€ï¼Œä¼šå¾ˆå¿«å¯¼è‡´æ²¡æœ‰å¯ç”¨çš„å¤§å†…å­˜å—ï¼Œå› æ­¤æ€§èƒ½ä¹Ÿéå¸¸å·®ã€‚\nç‰©ç†å±‚ä»‹è´¨æ€»ç»“ åŒè½´ç”µç¼†ï¼šcoaxial cable\nåŒç»çº¿ï¼šTwisted pairï¼ˆTï¼‰\nç»åˆçš„ä½œç”¨ï¼š\nå‡å°‘ç›¸é‚»å¯¼çº¿é—´çš„ç”µç£å¹²æ‰° æŠµå¾¡éƒ¨åˆ†æ¥è‡ªå¤–ç•Œçš„ç”µç£å¹²æ‰° å…‰çº¤ï¼šOptical fiberï¼ˆFï¼‰\nå…‰çº¤çš„ä¼˜ç‚¹ï¼š\né€šä¿¡å®¹é‡éå¸¸å¤§ æŠ—é›·ç”µå’Œç”µç£åƒæ‰° æ€§èƒ½å¥½ï¼Œä¼ è¾“æŸè€—å°ï¼Œä¸­ç»§è·ç¦»é•¿ æ— ä¸²éŸ³ï¼Œå¹²æ‰°ä¿å¯†æ€§å¥½ ä½“ç§¯å°ï¼Œé‡é‡è½» å…‰çº¿çš„ç¼ºç‚¹ï¼š\nåˆ‡å‰²å…‰çº¤éœ€è¦è¾ƒè´µçš„ä¸“ç”¨è®¾å¤‡ ç›®å‰å…‰ç”µæ¥å£è¿˜æ¯”è¾ƒæ˜‚è´µ GBNç¡®è®¤å·ã€TCPç¡®è®¤å· åœ¨GBNä¸­ï¼Œè‹¥æœ¬æ¬¡Aå‘é€ç»™Bçš„å¸§åºå·ä¸ºnï¼ŒBå‘é€ç»™Açš„ç¡®è®¤åºå·ä¸ºnï¼Œè¯´æ˜å·²ç»æ”¶åˆ°äº†å‰nä¸ªå¸§ï¼›\nåœ¨TCPä¸­ï¼Œè‹¥æœ¬æ¬¡Bå‘é€çš„ç¡®è®¤æŠ¥æ–‡æ®µä¸­çš„ç¡®è®¤å·ä¸ºn+1ï¼Œè¯´æ˜å·²ç»æ”¶åˆ°äº†Aå‘é€ç»™Bçš„å‰nä¸ªæŠ¥æ–‡æ®µï¼ŒæœŸå¾…æ”¶åˆ°ç¬¬n+1ä¸ªæŠ¥æ–‡æ®µï¼›\n","permalink":"https://fireflyyh.top/posts/408/%E7%9C%9F%E9%A2%98%E6%80%BB%E7%BB%932/","summary":"16å¹´ å•å‘¨æœŸæ•°æ®é€šè·¯ å•å‘¨æœŸæ•°æ®é€šè·¯æ˜¯ä¸€ç§ç®€å•çš„æ•°æ®é€šè·¯è®¾è®¡ï¼Œæ¯ä¸ªæ—¶é’Ÿå‘¨æœŸæ‰§è¡Œä¸€æ¡å®Œæ•´çš„æŒ‡ä»¤ï¼Œå³æ¯æ¡æŒ‡ä»¤çš„CPIä¸º1ï¼Œè¦è€ƒè™‘æ¯”è¾ƒæ…¢çš„æŒ‡ä»¤ï¼Œæ‰€ä»¥å¤„ç†å™¨çš„æ—¶é’Ÿé¢‘ç‡è¾ƒä½ã€‚ è¿™æ„å‘³ç€æ¯æ¡æŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ä¸­ä»»ä½•æ•°æ®é€šè·¯å•å…ƒéƒ½åªèƒ½è¢«ç”¨ä¸€æ¬¡ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨å¤šæ¬¡åˆ™å¿…é¡»å°†è¯¥æ•°æ®é€šè·¯å•å…ƒå¤åˆ¶å¤šä»½ã€‚\næ§åˆ¶ä¿¡å·æ˜¯CUæ ¹æ®æŒ‡ä»¤æ“ä½œç å‘å‡ºçš„ä¿¡å·ï¼Œå¯¹äºå•å‘¨æœŸå¤„ç†å™¨æ¥è¯´ï¼Œæ¯æ¡æŒ‡ä»¤çš„æ‰§è¡Œåªæœ‰ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸï¼Œè€Œåœ¨ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸå†…æ§åˆ¶ä¿¡å·å¹¶ä¸ä¼šå˜åŒ–ã€‚\nå•å‘¨æœŸæ•°æ®é€šè·¯å¿…é¡»æœ‰ç‹¬ç«‹çš„æŒ‡ä»¤å­˜å‚¨å™¨å’Œæ•°æ®å­˜å‚¨å™¨ï¼Œå› ä¸ºå¤„ç†å™¨åœ¨ä¸€ä¸ªå‘¨æœŸå†…åªèƒ½æ“ä½œæ¯ä¸ªéƒ¨ä»¶ä¸€æ¬¡ï¼Œè€Œåœ¨ä¸€ä¸ªå‘¨æœŸå†…ä¸å¯èƒ½å¯¹ä¸€ä¸ªå•ç«¯å£å­˜å‚¨å™¨è¿›è¡Œä¸¤æ¬¡å­˜å–ã€‚ä¸”æ— æ³•ä½¿ç”¨å•æ€»çº¿æ•°æ®é€šè·¯ï¼Œå› ä¸ºå•æ€»çº¿æ•°æ®é€šè·¯å°†æ‰€æœ‰å¯„å­˜å™¨çš„è¾“å…¥å‡ºç«¯éƒ½è¿æ¥åœ¨ä¸€æ¡å…¬å…±é€šè·¯ä¸Šï¼Œä¸€ä¸ªæ—¶é’Ÿå†…åªå…è®¸ä¸€æ¬¡æ“ä½œï¼Œæ— æ³•å®ŒæˆæŒ‡ä»¤çš„æ‰€æœ‰æ“ä½œã€‚\nTSLæŒ‡ä»¤å®ç°äº’æ–¥ 1 2 3 4 5 6 do { while (TSL(\u0026amp;lock)); critical section; lock = FALSE; ...... } while (TRUE); é€€å‡ºä¸´ç•ŒåŒºçš„è¿›ç¨‹è´Ÿè´£å”¤é†’å°±ç»ªæ€è¿›ç¨‹ï¼Ÿï¼Ÿï¼Ÿ\nå› ä¸ºåœ¨TSLæ–¹æ³•ä¸‹ï¼Œä¸€ä¸ªè¿›ç¨‹åªæœ‰ä¸¤ç§çŠ¶æ€ï¼š\nè¿è¡Œæ€ï¼šç”¨æˆ·å¤„äºäº†do{ }ä¸­ï¼Œé‚£ä¹ˆä¸ç®¡æ˜¯æ˜¯åœ¨å…¶ä¸­çš„while (TSL(\u0026amp;lock))ä¸æ–­åœ°å¾ªç¯ï¼Œè¿˜æ˜¯åœ¨è®¿é—®ä¸´ç•Œèµ„æºï¼Œéƒ½æ˜¯å ç”¨ç€CPUçš„ï¼Œä¹Ÿå°±æ˜¯å¤„äºè¿è¡Œæ€ï¼› å°±ç»ªæ€ï¼šè‹¥æ˜¯åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ç”±äºå¹¶å‘æ‰€éœ€è¦ï¼ˆå¦‚æ—¶é—´ç‰‡åˆ°äº†ï¼‰ï¼Œè¢«å…¶ä»–è¿›ç¨‹å ç”¨äº†CPUï¼Œå°±å˜æˆäº†å°±ç»ªæ€ï¼› ä½†æ˜¯ä¸ä¼šå¤„äºé˜»å¡æ€ï¼Œå› ä¸ºè‹¥æ˜¯åœ¨ç­‰å¾…ä¸´ç•Œèµ„æºï¼Œåˆ™ä¼šä¸€ç›´å¤„äºwhile (TSL(\u0026amp;lock));ä¸­ï¼Œè€Œä¸”ä¸ä¼šä¸»åŠ¨æ”¾å¼ƒCPUå˜æˆé˜»å¡æ€ï¼ˆé˜»å¡æ˜¯ä¸€ä¸ªä¸»åŠ¨çš„è¿‡ç¨‹ï¼‰ã€‚æ•…ä¸å­˜åœ¨é˜»å¡æ€çš„è¿›åŸæ¥ç»™é€€å‡ºä¸´ç•ŒåŒºçš„è¿›ç¨‹å”¤é†’ã€‚\nç­‰å¾…è¿›å…¥ä¸´ç•ŒåŒºçš„è¿›ç¨‹ä¸ä¼šä¸»åŠ¨æ”¾å¼ƒCPUï¼Œæ•…ä¸Šè¿°ä»£ç ä¸æ»¡è¶³â€œè®©æƒç­‰å¾…â€çš„åŒæ­¥å‡†åˆ™ã€‚å› ä¸ºä¼šä¸€ç›´åœç•™åœ¨æ‰§è¡Œwhile(TSL(\u0026amp;lock))çš„å¾ªç¯ä¸­ï¼Œè¯¥è¯­å¥åº”åœ¨å¼€ä¸­æ–­ä¸‹è¿›è¡Œï¼Œå¦åˆ™ä¸€ç›´å¤„äºè¯¥å¾ªç¯ä¸”ä¸è¢«å…¶ä»–è¿›ç¨‹ä¸­æ–­å¯èƒ½ä¼šå¯¼è‡´ç³»ç»Ÿç»ˆæ­¢ã€‚\næ“ä½œç³»ç»Ÿçš„å‘å±• æ‰‹å·¥å‘å±•é˜¶æ®µï¼ˆæ— æ“ä½œç³»ç»Ÿï¼‰ï¼š\næ‰€æœ‰å·¥ä½œéƒ½è¦äººå¹²é¢„ï¼Œç”¨æˆ·ç‹¬å å…¨æœºã€‚\nç‰¹ç‚¹ï¼šç”¨æˆ·ç‹¬å å…¨æœºã€CPUç­‰å¾…æ‰‹å·¥æ“ä½œï¼›\nç¼ºç‚¹ï¼šäººæœºçŸ›ç›¾åŠ CPU å’Œ I/O è®¾å¤‡ä¹‹é—´é€Ÿåº¦ä¸åŒ¹é…çš„çŸ›ç›¾ï¼Œå› æ­¤å‘å±•å‡ºäº†æ‰¹å¤„ç†ç³»ç»Ÿã€‚\næ‰¹å¤„ç†é˜¶æ®µï¼ˆå¼€å§‹å‡ºç°æ“ä½œç³»ç»Ÿï¼‰ï¼š\nå•é“æ‰¹å¤„ç†ï¼šç³»ç»Ÿå¯¹ä½œä¸šçš„å¤„ç†æ˜¯æˆæ‰¹è¿›è¡Œçš„ï¼Œä½†å†…å­˜ä¸­å§‹ç»ˆä¿æŒä¸€é“ä½œä¸šã€‚\nç‰¹ç‚¹ï¼šå•é“æ€§ã€è‡ªåŠ¨æ€§ã€é¡ºåºæ€§ã€‚\nç¼ºç‚¹ï¼šæ¯æ¬¡ä¸»æœºå†…å­˜ä¸­ä»…å­˜æ”¾ä¸€é“ä½œä¸šï¼Œæ¯å½“å®ƒåœ¨è¿è¡Œæ—¶å‘å‡ºI/Oè¯·æ±‚åï¼Œé«˜é€Ÿçš„ CPU ä¾¿å¤„äºç­‰å¾…ä½é€Ÿçš„ I/O å®Œæˆçš„çŠ¶æ€ã€‚\nä¸ºäº†è¿›ä¸€æ­¥æé«˜èµ„æºçš„åˆ©ç”¨ç‡å’Œç³»ç»Ÿçš„ååé‡ï¼Œå¼•å…¥äº†å¤šé“ç¨‹åºæŠ€æœ¯ã€‚ å¤šé“æ‰¹å¤„ç†ï¼šå¤šé“ç¨‹åºè®¾è®¡æŠ€æœ¯å…è®¸å¤šä¸ªç¨‹åºåŒæ—¶è¿›å…¥å†…å­˜å¹¶å…è®¸å®ƒä»¬åœ¨ CPU ä¸­äº¤æ›¿åœ°è¿è¡Œã€‚\nç‰¹ç‚¹ï¼šå¤šé“ã€å®è§‚ä¸Šå¹¶è¡Œã€å¾®è§‚ä¸Šä¸²è¡Œã€‚\nä¼˜ç‚¹ï¼šèµ„æºåˆ©ç”¨ç‡é«˜ï¼Œå¤šé“ç¨‹åºå…±äº«è®¡ç®—æœºèµ„æºï¼Œä»è€Œä½¿å„ç§èµ„æºå¾—åˆ°å……åˆ†åˆ©ç”¨ï¼›ç³»ç»Ÿååé‡å¤§ï¼Œ CPU å’Œå…¶ä»–èµ„æºä¿æŒâ€œå¿™ç¢Œâ€çŠ¶æ€ã€‚ ç¼ºç‚¹ï¼šç”¨æˆ·å“åº”çš„æ—¶é—´è¾ƒé•¿ï¼›ä¸æä¾›äººæœºäº¤äº’èƒ½åŠ›ï¼Œç”¨æˆ·æ—¢ä¸èƒ½äº†è§£è‡ªå·±çš„ç¨‹åºçš„è¿è¡Œæƒ…å†µï¼Œåˆä¸èƒ½æ§åˆ¶è®¡ç®—æœºã€‚ å› æ­¤å‘å±•å‡ºäº†åˆ†æ—¶æ“ä½œç³»ç»Ÿã€‚ åˆ†æ—¶æ“ä½œç³»ç»Ÿï¼š\nåˆ†æ—¶æ“ä½œç³»ç»Ÿæ˜¯æŒ‡å¤šä¸ªç”¨æˆ·é€šè¿‡ç»ˆç«¯åŒæ—¶å…±äº«ä¸€å°ä¸»æœºï¼Œè¿™äº›ç»ˆç«¯è¿æ¥åœ¨ä¸»æœºä¸Šï¼Œç”¨æˆ·å¯ä»¥åŒæ—¶ï¼ˆåŒæ—¶æ€§ï¼‰ä¸ä¸»æœºè¿›è¡Œäº¤äº’ï¼ˆäº¤äº’æ€§ï¼‰æ“ä½œè€Œäº’ä¸å¹²æ‰°ï¼ˆç‹¬ç«‹æ€§ï¼‰ã€‚åˆ†æ—¶ç³»ç»Ÿé‡‡ç”¨æ—¶é—´ç‰‡è½®è½¬æ–¹å¼ä½¿ä¸€å°è®¡ç®—æœºåŒæ—¶ä¸ºå¤šä¸ªç»ˆç«¯æœåŠ¡ï¼Œä½¿ç”¨æˆ·èƒ½å¤Ÿå¯¹ç³»ç»Ÿçš„åŠæ—¶å“åº”æ„Ÿåˆ°æ»¡æ„ï¼ˆåŠæ—¶æ€§ï¼‰ã€‚åˆ†æ—¶ç³»ç»Ÿä¹Ÿæ˜¯æ”¯æŒå¤šé“ç¨‹åºè®¾è®¡çš„ç³»ç»Ÿï¼Œä½†å®ƒä¸åŒäºå¤šé“æ‰¹å¤„ç†ç³»ç»Ÿã€‚å¤šé“æ‰¹å¤„ç†æ˜¯å®ç°ä½œä¸šè‡ªåŠ¨æ§åˆ¶è€Œæ— é¡»äººå·¥å¹²é¢„çš„ç³»ç»Ÿï¼Œè€Œåˆ†æ—¶ç³»ç»Ÿæ˜¯å®ç°äººæœºäº¤äº’çš„ç³»ç»Ÿã€‚\nç‰¹ç‚¹ï¼šåŒæ—¶æ€§ã€äº¤äº’æ€§ã€ç‹¬ç«‹æ€§ã€åŠæ—¶æ€§ã€‚\nä¼˜ç‚¹ï¼šè¾ƒå¥½åœ°è§£å†³äº†äººæœºäº¤äº’é—®é¢˜ã€‚\nç¼ºç‚¹ï¼šåœ¨ä¸€äº›åº”ç”¨åœºåˆï¼Œéœ€è¦ç³»ç»Ÿèƒ½å¯¹å¤–éƒ¨çš„ä¿¡æ¯åœ¨è§„å®šçš„æ—¶é—´ï¼ˆæ¯”æ—¶é—´ç‰‡çš„æ—¶é—´è¿˜çŸ­ï¼‰å†…åšå‡ºå¤„ç†ï¼ˆæ¯”å¦‚é£æœºè®¢ç¥¨ç³»ç»Ÿæˆ–å¯¼å¼¹åˆ¶å¯¼ç³»ç»Ÿï¼‰ï¼Œå› æ­¤ï¼Œå®æ—¶æ“ä½œç³»ç»Ÿåº”è¿è€Œç”Ÿã€‚\næè¿° ç‰¹ç‚¹ ä¼˜ç‚¹ ç¼ºç‚¹ æ‰‹å·¥æ“ä½œé˜¶æ®µ æ‰€æœ‰å·¥ä½œéƒ½è¦äººå¹²é¢„ ç”¨æˆ·ç‹¬å å…¨æœºã€CPUç­‰å¾…æ‰‹å·¥æ“ä½œï¼› ä¸ä¼šå‡ºç°å› èµ„æºå·±è¢«å…¶ä»–ç”¨æˆ·å ç”¨è€Œç­‰å¾…çš„æƒ…å†µ èµ„æºåˆ©ç”¨ç‡ä½ï¼ŒäººæœºçŸ›ç›¾åŠ CPU å’Œ I/O è®¾å¤‡ä¹‹é—´é€Ÿåº¦ä¸åŒ¹é…çš„çŸ›ç›¾ï¼Œå› æ­¤å‘å±•å‡ºäº†æ‰¹å¤„ç†ç³»ç»Ÿã€‚ å•é“æ‰¹å¤„ç† ç³»ç»Ÿå¯¹ä½œä¸šçš„å¤„ç†æ˜¯æˆæ‰¹è¿›è¡Œçš„ï¼Œä½†å†…å­˜ä¸­å§‹ç»ˆä¿æŒä¸€é“ä½œä¸šã€‚ å•é“æ€§ã€è‡ªåŠ¨æ€§ã€é¡ºåºæ€§ã€‚ ï¼ˆå¼€å§‹å‡ºç°æ“ä½œç³»ç»Ÿï¼‰ æ¯æ¬¡ä¸»æœºå†…å­˜ä¸­ä»…å­˜æ”¾ä¸€é“ä½œä¸šï¼Œæ¯å½“å®ƒåœ¨è¿è¡Œæ—¶å‘å‡ºI/Oè¯·æ±‚åï¼Œé«˜é€Ÿçš„ CPU ä¾¿å¤„äºç­‰å¾…ä½é€Ÿçš„ I/O å®Œæˆçš„çŠ¶æ€ã€‚ ä¸ºäº†è¿›ä¸€æ­¥æé«˜èµ„æºçš„åˆ©ç”¨ç‡å’Œç³»ç»Ÿçš„ååé‡ï¼Œå¼•å…¥äº†å¤šé“ç¨‹åºæŠ€æœ¯ã€‚ å¤šé“æ‰¹å¤„ç† å¤šé“ç¨‹åºè®¾è®¡æŠ€æœ¯å…è®¸å¤šä¸ªç¨‹åºåŒæ—¶è¿›å…¥å†…å­˜å¹¶å…è®¸å®ƒä»¬åœ¨ CPU ä¸­äº¤æ›¿åœ°è¿è¡Œã€‚ å¤šé“æ€§ã€å®è§‚ä¸Šå¹¶è¡Œã€å¾®è§‚ä¸Šä¸²è¡Œã€‚ èµ„æºåˆ©ç”¨ç‡é«˜ï¼Œå¤šé“ç¨‹åºå…±äº«è®¡ç®—æœºèµ„æºï¼Œä»è€Œä½¿å„ç§èµ„æºå¾—åˆ°å……åˆ†åˆ©ç”¨ï¼›ç³»ç»Ÿååé‡å¤§ï¼Œ CPU å’Œå…¶ä»–èµ„æºä¿æŒâ€œå¿™ç¢Œâ€çŠ¶æ€ã€‚ ç”¨æˆ·å“åº”çš„æ—¶é—´è¾ƒé•¿ï¼›ä¸æä¾›äººæœºäº¤äº’èƒ½åŠ›ï¼Œç”¨æˆ·æ—¢ä¸èƒ½äº†è§£è‡ªå·±çš„ç¨‹åºçš„è¿è¡Œæƒ…å†µï¼Œåˆä¸èƒ½æ§åˆ¶è®¡ç®—æœºã€‚ å› æ­¤å‘å±•å‡ºäº†åˆ†æ—¶æ“ä½œç³»ç»Ÿã€‚ åˆ†æ—¶æ“ä½œç³»ç»Ÿ ç”¨æˆ·å¯ä»¥åŒæ—¶ï¼ˆåŒæ—¶æ€§ï¼‰ä¸ä¸»æœºè¿›è¡Œäº¤äº’ï¼ˆäº¤äº’æ€§ï¼‰æ“ä½œè€Œäº’ä¸å¹²æ‰°ï¼ˆç‹¬ç«‹æ€§ï¼‰ã€‚åˆ†æ—¶ç³»ç»Ÿé‡‡ç”¨æ—¶é—´ç‰‡è½®è½¬æ–¹å¼ä½¿ä¸€å°è®¡ç®—æœºåŒæ—¶ä¸ºå¤šä¸ªç»ˆç«¯æœåŠ¡ï¼Œä½¿ç”¨æˆ·èƒ½å¤Ÿå¯¹ç³»ç»Ÿçš„åŠæ—¶å“åº”æ„Ÿåˆ°æ»¡æ„ï¼ˆåŠæ—¶æ€§ï¼‰ã€‚ åŒæ—¶æ€§ã€äº¤äº’æ€§ã€ç‹¬ç«‹æ€§ã€åŠæ—¶æ€§ã€‚ è¾ƒå¥½åœ°è§£å†³äº†äººæœºäº¤äº’é—®é¢˜ã€‚ åœ¨ä¸€äº›åº”ç”¨åœºåˆï¼Œéœ€è¦ç³»ç»Ÿèƒ½å¯¹å¤–éƒ¨çš„ä¿¡æ¯åœ¨è§„å®šçš„æ—¶é—´ï¼ˆæ¯”æ—¶é—´ç‰‡çš„æ—¶é—´è¿˜çŸ­ï¼‰å†…åšå‡ºå¤„ç†ï¼ˆæ¯”å¦‚é£æœºè®¢ç¥¨ç³»ç»Ÿæˆ–å¯¼å¼¹åˆ¶å¯¼ç³»ç»Ÿï¼‰ï¼Œå› æ­¤ï¼Œå®æ—¶æ“ä½œç³»ç»Ÿåº”è¿è€Œç”Ÿã€‚ å®æ—¶æ“ä½œç³»ç»Ÿ ä¸ºäº†èƒ½åœ¨æŸä¸ªæ—¶é—´é™åˆ¶å†…å®ŒæˆæŸäº›ç´§æ€¥ä»»åŠ¡è€Œä¸éœ€è¦æ—¶é—´ç‰‡æ’é˜Ÿï¼Œè¯ç”Ÿäº†å®æ—¶æ“ä½œç³»ç»Ÿã€‚èµ„æºåˆ©ç”¨ç‡ä¸æ˜¯å…¶ä¸»è¦è¿½æ±‚ç›®æ ‡ã€‚ åŠæ—¶æ€§ã€å¯é æ€§ ç®¡ç¨‹ ç®¡ç¨‹æ˜¯ç”±ä¸€ç»„æ•°æ®ä»¥åŠå®šä¹‰åœ¨è¿™ç»„æ•°æ®ä¹‹ä¸Šçš„å¯¹è¿™ç»„æ•°æ®çš„æ“ä½œç»„æˆçš„è½¯ä»¶æ¨¡å—ï¼Œè¿™ç»„æ“ä½œèƒ½åˆå§‹åŒ–å¹¶æ”¹å˜ç®¡ç¨‹ä¸­çš„æ•°æ®å’ŒåŒæ­¥è¿›ç¨‹ã€‚ç®¡ç¨‹ä¸ä»…èƒ½å®ç°è¿›ç¨‹é—´çš„äº’æ–¥ï¼Œè€Œä¸”èƒ½å®ç°è¿›ç¨‹é—´çš„åŒæ­¥ã€‚","title":"çœŸé¢˜æ€»ç»“2"},{"content":"10å¹´ å¹³è¡¡äºŒå‰æ ‘çš„è°ƒæ•´ LLè°ƒæ•´ RRè°ƒæ•´ RLè°ƒæ•´ ä¾‹å¦‚ï¼ˆåŸè°…æˆ‘å›¾ç”»çš„éš¾çœ‹ğŸ˜‚ï¼‰ï¼š\nLRè°ƒæ•´ äºŒåˆ†æŸ¥æ‰¾çš„æ¬¡æ•°ï¼ˆæˆåŠŸå¤±è´¥ï¼‰ã€æŠ˜åŠæŸ¥æ‰¾åˆ¤å®šæ ‘ä¸äºŒå‰æœç´¢æ ‘çš„å…³ç³» å¹³è¡¡äºŒå‰æ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œå®ƒè¦æ±‚ä»»ä½•èŠ‚ç‚¹çš„ä¸¤æ£µå­æ ‘çš„é«˜åº¦å·®ä¸è¶…è¿‡1ï¼ˆåŒä¸€æ£µæ ‘çš„ä¸åŒèŠ‚ç‚¹çš„å­æ ‘é«˜åº¦å·®å¯ä»¥ä¸º1ã€0ã€-1ï¼‰ã€‚å¹³è¡¡äºŒå‰æ ‘é€šè¿‡åœ¨æ’å…¥å’Œåˆ é™¤èŠ‚ç‚¹æ—¶åšæ—‹è½¬æ¥ç»´æŒæ ‘çš„å¹³è¡¡ã€‚\næŠ˜åŠæŸ¥æ‰¾åˆ¤å®šæ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„å¹³è¡¡äºŒå‰æ ‘ï¼Œå®ƒè¦æ±‚æ›´åŠ ä¸¥æ ¼ã€‚åŒä¸€æ£µæ ‘èŠ‚ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘çš„å·®ä¸èƒ½åŒæ—¶å­˜åœ¨1å’Œ-1ï¼ˆå³ä¸ºç»Ÿä¸€å‘ä¸Šå–æ•´æˆ–ç»Ÿä¸€å‘ä¸‹å–æ•´ï¼‰ã€‚æŸ¥æ‰¾æ—¶ï¼Œæ ¹æ®æ¯”è¾ƒçš„ç»“æœæŠ˜åŠæ’é™¤ä¸€è¾¹çš„æ ‘ã€‚æŠ˜åŠæŸ¥æ‰¾åˆ¤å®šæ ‘ä¸­ï¼Œåªæœ‰æœ€ä¸‹é¢ä¸€å±‚æ‰å¯ä»¥ä¸æ»¡ã€‚ æ ¹æ®å®Œå…¨äºŒå‰æ ‘çš„é«˜åº¦è®¡ç®—å…¬å¼ï¼Œå…ƒç´ ä¸ªæ•°ä¸ºnæ—¶ï¼Œæ ‘é«˜ $h=\\lceil log_2(n+1)\\rceil$ æˆ– $h=\\lfloor log_2(n)\\rfloor+1$ ã€‚åœ¨æŠ˜åŠæŸ¥æ‰¾ä¸­ï¼Œ\næŸ¥æ‰¾æˆåŠŸçš„æœ€å°æ¯”è¾ƒæ¬¡æ•°ä¸º1ï¼Œæœ€å¤§æ¯”è¾ƒæ¬¡æ•°ä¸º$h$ï¼› æŸ¥æ‰¾å¤±è´¥çš„æœ€å°æ¯”è¾ƒæ¬¡æ•°ä¸ºï¼šè‹¥$n=2^h-1$ï¼Œåˆ™ä¸º$h$ï¼Œå¦åˆ™ä¸º$h-1$ï¼Œæœ€å¤§æ¯”è¾ƒæ¬¡æ•°ï¼š$h$ã€‚ æ•°æ®ç±»å‹è½¬æ¢é€ æˆçš„ç²¾åº¦ä¸¢å¤±ç­‰é—®é¢˜ å°†é«˜ç²¾åº¦æ•°è½¬æ¢ä¸ºä½ç²¾åº¦æ•°å¯èƒ½ä¼šå¼•èµ·ï¼š\nç²¾åº¦ä¸¢å¤±ï¼šé«˜ç²¾åº¦æ•°é€šå¸¸èƒ½å¤Ÿè¡¨ç¤ºæ›´å¤§èŒƒå›´å’Œæ›´é«˜ç²¾åº¦çš„æ•°å­—ï¼Œä½†å½“å°†å…¶è½¬æ¢ä¸ºä½ç²¾åº¦æ•°æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´å°æ•°éƒ¨åˆ†è¢«æˆªæ–­æˆ–ä¸¢å¤±ï¼Œä»è€Œå¼•èµ·ç²¾åº¦ä¸§å¤±ã€‚ æº¢å‡ºï¼šå¦‚æœé«˜ç²¾åº¦æ•°çš„å€¼è¶…å‡ºäº†ä½ç²¾åº¦æ•°æ‰€èƒ½è¡¨ç¤ºçš„èŒƒå›´ï¼Œä¼šå¯¼è‡´æº¢å‡ºã€‚ å°†æ•´å‹æ•°è½¬æ¢ä¸ºæµ®ç‚¹æ•°ä¸€èˆ¬ä¸ä¼šå‡ºç°é—®é¢˜ï¼Œä½†ç‰¹æ®Šæƒ…å†µä¸‹ä¼šå¯¼è‡´ç²¾åº¦ä¸¢å¤±ï¼Œå¯¹äºéå¸¸å¤§æˆ–éå¸¸å°çš„æ•´æ•°ï¼Œå¯èƒ½æ— æ³•ç²¾ç¡®è¡¨ç¤ºã€‚å¦‚intç±»å‹æ•°æ®äºŒè¿›åˆ¶è¡¨ç¤ºæœ‰32ä½ï¼Œä½†æ˜¯å¯¹äºfloatç±»å‹ï¼Œåœ¨IEEE 754æ ¼å¼ä¸‹ï¼Œå°¾æ•°éƒ¨åˆ†åªæœ‰23ä½ï¼Œå¯èƒ½æ— æ³•å®Œå…¨è¡¨ç¤ºæŸä¸€ä¸ªintç±»å‹æ•°ï¼Œé€ æˆç²¾åº¦çš„ä¸¢å¤±ã€‚\nå•ç²¾åº¦ä¸åŒç²¾åº¦æµ®ç‚¹æ•°çš„è¿ç®—ä¹Ÿæœ‰å¯èƒ½ä¼šæœ‰ä¸€äº›é—®é¢˜ï¼Œä¾‹å¦‚10å¹´çœŸé¢˜$T_{14}$ï¼Œ$f=1.5678e3,d=1.5e100$ï¼Œè¿›è¡Œ$(d+f)-d$è¿ç®—ï¼Œåœ¨$d+f$æ—¶ï¼Œéœ€è¦å…ˆè¿›è¡Œå¯¹é˜¶ï¼ˆå°é˜¶å‘å¤§é˜¶å¯¹é½ï¼‰ï¼Œç”±äºæ ¼å¼ä¸­çš„å°¾æ•°é™åˆ¶ï¼Œå¯¹é˜¶åï¼Œ$f$çš„å°¾æ•°è¢«èˆå»è€Œå˜æˆäº†0ï¼Œæ•…$d+f$ä»ç„¶ä¸º$d$ï¼Œå†å‡å»$d$ç»“æœä¸º0ï¼Œè€Œä¸æ˜¯$f$ã€‚\nå­—æ‰©å±•ã€ä½æ‰©å±•ä¸ç›¸å…³çš„èŠ¯ç‰‡æœ€ä½åœ°å€é—®é¢˜ ä½æ‰©å±•\nä½æ‰©å±•æ˜¯æŒ‡ç”¨è‹¥å¹²ç‰‡ä½æ•°è¾ƒå°‘çš„å­˜å‚¨å™¨èŠ¯ç‰‡æ„æˆç»™å®šå­—é•¿çš„å­˜å‚¨å™¨ï¼Œå®¹é‡æ”¹å˜ï¼Œä½æ•°æ”¹å˜ï¼Œåœ°å€å•å…ƒä¸ªæ•°ä¸å˜ã€‚\nåœ¨è¢æ˜¥é£è€å¸ˆçš„ã€Šè®¡ç®—æœºç³»ç»ŸåŸºç¡€ã€‹ä¸­çš„ä¸€ä¸ªä¾‹å­å¦‚ä¸‹ï¼š\næ³¨æ„åˆ°8ä¸ª$16M\\times8bit$çš„èŠ¯ç‰‡æ‰©å±•æ„æˆä¸€ä¸ª128Må†…å­˜æ¡ã€‚åœ¨è¿›è¡Œæ‰©å±•ä¹‹å‰ï¼Œå¯¹äºå•ä¸ªèŠ¯ç‰‡ï¼Œåœ°å€ä½æ•°ä¸º24bitã€‚å³åœ°å€å•å…ƒä¸ªæ•°ä¸º$16M=2^{24}$ ã€‚æ¯ä¸ªåœ°å€å•å…ƒå­˜å‚¨8bitã€‚\nåœ¨è¿›è¡Œæ‰©å±•ä¹‹åï¼Œ$128M=2^{27}$ï¼Œè€Œè¡Œåˆ—åœ°å€ä½æ•°åŠ èµ·æ¥ä¸€å…±$24bit$ï¼Œ$2^{24}=16M$ï¼Œåˆ™è¯´æ˜æ­¤æ¬¡æ‰©å±•ä¸ºä½æ‰©å±•ã€‚ä¸€ä¸ªåœ°å€å•å…ƒä¸­çš„æ•°æ®ä½æ•°å¢åŠ ï¼Œä½†æ˜¯æ€»çš„åœ°å€å•å…ƒä¸ªæ•°å¹¶æœªæ”¹å˜ã€‚\n12ä½è¡Œåœ°å€$i$å’Œ12ä½åˆ—åœ°å€$j$åˆ†åˆ«é€åˆ°DRAMèŠ¯ç‰‡å†…éƒ¨çš„è¡Œåœ°å€è¯‘ç å™¨å’Œåˆ—åœ°å€è¯‘ç å™¨ï¼Œé€‰æ‹©è¡Œåˆ—åœ°å€äº¤å‰ç‚¹$(i,j)$çš„8ä½æ•°æ®åŒæ—¶è¿›è¡Œè¯»å†™ï¼Œ8ä¸ªèŠ¯ç‰‡å°±å¯ä»¥åŒæ—¶è¯»å–64bitï¼Œç»„åˆæˆæ€»çº¿æ‰€éœ€è¦çš„64ä½ä¼ è¾“å®½åº¦ï¼Œå†é€šè¿‡å­˜å‚¨å™¨æ€»çº¿è¿›è¡Œä¼ è¾“ã€‚\nå­—æ‰©å±•\nå­—æ‰©å±•ï¼Œå®¹é‡æ”¹å˜ï¼Œåœ°å€å•å…ƒä¸ªæ•°æ”¹å˜ï¼Œå³åœ°å€ä½æ•°ä¼šæ”¹å˜ï¼Œä½æ•°ä¸ä¼šæ”¹å˜ã€‚\nå¦å¤–ï¼Œå¯¹äºæŸä¸€å­˜å‚¨å™¨ï¼Œç”±å¤šä¸ªDRAMç»è¿‡å­—æ‰©å±•è€Œæˆï¼Œé‚£ä¹ˆå¯¹äºå•ä¸ªDRAMèŠ¯ç‰‡æ¥è¯´ï¼Œå…¶è¡Œåœ°å€RASä½æ•°ã€åˆ—åœ°å€CASä½æ•°ä¹Ÿä¸ä¼šå˜ï¼Œä½†æ˜¯æ•´ä½“å­˜å‚¨å™¨çš„æ€»åœ°å€ä½æ•°ä¼šå˜ï¼Œä¼šå¢åŠ ç‰‡é€‰ä¿¡å·ä½æ•°ã€‚ æ­¤æ—¶ï¼Œå¯¹äºä¸€ä¸ªä¸»å­˜åœ°å€ï¼Œå¯ä»¥ç†è§£ä¸ºèŠ¯ç‰‡åºå·+èŠ¯ç‰‡å†…çš„ä½ç½® ã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œæ— è®ºæ˜¯ä½æ‰©å±•è¿˜æ˜¯å­—æ‰©å±•ï¼Œå¯¹äºå•ä¸€çš„DRAMèŠ¯ç‰‡ï¼Œå…¶è¡Œåˆ—åœ°å€ä½æ•°å‡ä¸å«ä¼šæ”¹å˜ã€‚ï¼ˆ14å¹´T15ï¼‰\nå¼•èµ·è¿›ç¨‹çŠ¶æ€æ”¹å˜çš„ä¸€äº›å…¸å‹äº‹ä»¶ è¿›ç¨‹çŠ¶æ€å¯ä»¥åœ¨ä»¥ä¸‹æƒ…å†µä¸‹å‘ç”Ÿæ”¹å˜ï¼š\nåˆ›å»ºæ–°è¿›ç¨‹ï¼šå½“æ“ä½œç³»ç»Ÿå¯åŠ¨ä¸€ä¸ªæ–°çš„ç¨‹åºæ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œå¹¶å°†å…¶çŠ¶æ€è®¾ç½®ä¸ºå°±ç»ªçŠ¶æ€ã€‚\nè¿›ç¨‹ç­‰å¾…ï¼šå½“ä¸€ä¸ªè¿›ç¨‹ç­‰å¾…æŸäº›äº‹ä»¶å‘ç”Ÿï¼Œä¾‹å¦‚ç­‰å¾…ç”¨æˆ·è¾“å…¥ã€ç­‰å¾…æŸä¸ªæ–‡ä»¶å°±ç»ªç­‰ï¼Œå®ƒçš„çŠ¶æ€ä¼šä»è¿è¡ŒçŠ¶æ€å˜ä¸ºé˜»å¡çŠ¶æ€ã€‚\næ—¶é—´ç‰‡ç”¨å®Œï¼šå¦‚æœä¸€ä¸ªè¿›ç¨‹åœ¨åˆ†é…ç»™å®ƒçš„æ—¶é—´ç‰‡ç”¨å®Œä¹‹åï¼Œè°ƒåº¦å™¨ä¼šå°†å…¶çŠ¶æ€ä»è¿è¡ŒçŠ¶æ€å˜ä¸ºå°±ç»ªçŠ¶æ€ï¼Œé™ä½å…¶è¿›ç¨‹ä¼˜å…ˆçº§ï¼Œç„¶åé€‰æ‹©ä¸‹ä¸€ä¸ªè¦æ‰§è¡Œçš„è¿›ç¨‹ã€‚\nI/Oæ“ä½œå®Œæˆï¼šå½“ä¸€ä¸ªè¿›ç¨‹ç­‰å¾…çš„I/Oæ“ä½œå®Œæˆåï¼Œå®ƒçš„çŠ¶æ€ä¼šä»é˜»å¡çŠ¶æ€å˜ä¸ºå°±ç»ªçŠ¶æ€ã€‚\nè¿›ç¨‹ç»ˆæ­¢ï¼šå½“ä¸€ä¸ªè¿›ç¨‹å®Œæˆäº†å®ƒçš„ä»»åŠ¡ï¼Œæˆ–è€…ç”±äºæŸç§åŸå› éœ€è¦è¢«ç»ˆæ­¢ï¼Œå®ƒçš„çŠ¶æ€ä¼šä»è¿è¡ŒçŠ¶æ€å˜ä¸ºç»ˆæ­¢çŠ¶æ€ã€‚\nè¿›ç¨‹è¢«é˜»å¡çš„èµ„æºå¯ç”¨ï¼šå½“ä¸€ä¸ªè¿›ç¨‹ç­‰å¾…çš„èµ„æºï¼ˆå¦‚é”æˆ–ä¿¡å·é‡ï¼‰å˜ä¸ºå¯ç”¨æ—¶ï¼Œå®ƒçš„çŠ¶æ€ä¼šä»é˜»å¡çŠ¶æ€å˜ä¸ºå°±ç»ªçŠ¶æ€ã€‚è®¾å¤‡åˆ†é…æ˜¯åœ¨ä¸€ä¸ªå·²ç»å­˜åœ¨çš„è¿›ç¨‹ä¸­è¿›è¡Œçš„ï¼Œä¸ä¼šå¯¼è‡´åˆ›å»ºæ–°è¿›ç¨‹ã€‚\nè¿›ç¨‹è¢«å”¤é†’ï¼šåœ¨å¤šä»»åŠ¡ç¯å¢ƒä¸­ï¼Œä¸€ä¸ªè¿›ç¨‹å¯èƒ½ä¼šè¢«å¦ä¸€ä¸ªè¿›ç¨‹å”¤é†’ï¼Œä½¿å¾—å®ƒä»é˜»å¡çŠ¶æ€å˜ä¸ºå°±ç»ªçŠ¶æ€ã€‚\nè¿›ç¨‹è¢«æŒ‚èµ·æˆ–æ¢å¤ï¼šæ“ä½œç³»ç»Ÿå¯ä»¥å°†ä¸€ä¸ªè¿›ç¨‹ä»å†…å­˜ä¸­æŒ‚èµ·ï¼ˆæš‚æ—¶ç§»å‡ºå†…å­˜ï¼‰æˆ–è€…ä»æŒ‚èµ·çŠ¶æ€æ¢å¤ï¼ˆé‡æ–°åŠ è½½åˆ°å†…å­˜ä¸­ï¼‰ã€‚\nçˆ¶è¿›ç¨‹ç­‰å¾…å­è¿›ç¨‹ï¼šå½“ä¸€ä¸ªçˆ¶è¿›ç¨‹ç­‰å¾…å…¶å­è¿›ç¨‹ç»“æŸæ—¶ï¼Œå®ƒçš„çŠ¶æ€å¯èƒ½ä¼šä»è¿è¡ŒçŠ¶æ€å˜ä¸ºé˜»å¡çŠ¶æ€ã€‚\nå‘ç”Ÿé”™è¯¯æˆ–å¼‚å¸¸ï¼šå½“ä¸€ä¸ªè¿›ç¨‹é‡åˆ°é”™è¯¯æˆ–å¼‚å¸¸æƒ…å†µæ—¶ï¼Œå®ƒçš„çŠ¶æ€å¯èƒ½ä¼šä»è¿è¡ŒçŠ¶æ€å˜ä¸ºç»ˆæ­¢çŠ¶æ€æˆ–è€…é˜»å¡çŠ¶æ€ï¼ˆå¦‚æœå®ƒåœ¨ç­‰å¾…æŸäº›äº‹ä»¶å‘ç”Ÿæ—¶å‘ç”Ÿäº†é”™è¯¯ï¼‰ã€‚\nå››ç§åŠ¨æ€åˆ†åŒºç®¡ç†æ–¹å¼ IOç³»ç»Ÿçš„åˆ†å±‚ç»“æ„ æœ€å¤§å¸§é•¿ã€æœ€å°å¸§é•¿ã€æ•°æ®æŠ¥é•¿åº¦ RIPåè®® ç¢°æ’åŸŸã€å¹¿æ’­åŸŸ å†²çªåŸŸï¼šåœ¨åŒä¸€ä¸ªå†²çªåŸŸä¸­ï¼Œæ¯ä¸€ä¸ªç»“ç‚¹éƒ½èƒ½æ”¶åˆ°æ‰€æœ‰å…¶ä»–ç»“ç‚¹å‘é€çš„å¸§ã€‚ç®€å•åœ°è¯´ï¼Œå†²çªåŸŸä¸ºåŒä¸€æ—¶é—´å†…åªèƒ½æœ‰ä¸€å°è®¾å¤‡å‘é€ä¿¡æ¯çš„èŒƒå›´ã€‚ å¹¿æ’­åŸŸï¼šç½‘ç»œä¸­èƒ½æ¥æ”¶ä»»æ„è®¾å¤‡å‘å‡ºçš„å¹¿æ’­å¸§çš„æ‰€æœ‰è®¾å¤‡çš„é›†åˆã€‚å³ï¼Œå¦‚æœç«™ç‚¹å‘å‡ºä¸€ä¸ªå¹¿æ’­ä¿¡å·ï¼Œæ‰€æœ‰èƒ½æ¥æ”¶åˆ°è¿™ä¸ªä¿¡å·çš„è®¾å¤‡èŒƒå›´è¢«ç§°ä¸ºä¸€ä¸ªå¹¿æ’­åŸŸã€‚ é€šå¸¸ä¸€ä¸ªç½‘æ®µä¸ºä¸€ä¸ªå†²çªåŸŸï¼Œä¸€ä¸ªå±€åŸŸç½‘ä¸ºä¸€ä¸ªå¹¿æ’­åŸŸã€‚\nç£ç›˜çš„è°ƒåº¦ç­–ç•¥ ç£ç›˜è°ƒåº¦ç®—æ³•æ˜¯æ“ä½œç³»ç»Ÿä¸­ç”¨äºç®¡ç†ç£ç›˜ä¸Šçš„I/Oè¯·æ±‚çš„ä¸€ç§ç­–ç•¥ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„ç£ç›˜è°ƒåº¦ç®—æ³•ï¼š\nå…ˆæ¥å…ˆæœåŠ¡ï¼ˆFCFSï¼‰ï¼šæœ€ç®€å•çš„ç£ç›˜è°ƒåº¦ç®—æ³•ï¼ŒæŒ‰ç…§è¯·æ±‚çš„åˆ°è¾¾é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚ä½†å¯èƒ½ä¼šå‡ºç°â€œæ—©æ¥çš„è¯·æ±‚ç­‰å¾…æ—¶é—´é•¿â€çš„é—®é¢˜ã€‚ æœ€çŸ­å¯»é“æ—¶é—´ä¼˜å…ˆï¼ˆSSTFï¼‰ï¼šé€‰æ‹©å½“å‰ç£å¤´ä½ç½®æœ€è¿‘çš„è¯·æ±‚è¿›è¡ŒæœåŠ¡ï¼Œä»¥æœ€å°åŒ–å¯»é“æ—¶é—´ã€‚ä½†å¯èƒ½ä¼šå¯¼è‡´æŸäº›è¯·æ±‚é•¿æ—¶é—´ç­‰å¾…ã€‚ SCANç®—æ³•ï¼šæ‰«æç®—æ³•ï¼Œä¹Ÿç§°ä¸ºç”µæ¢¯ç®—æ³•ï¼Œç±»ä¼¼äºç”µæ¢¯çš„è¿è¡Œæ–¹å¼ï¼Œç£å¤´æŒ‰ä¸€ä¸ªæ–¹å‘ç§»åŠ¨ï¼Œç›´åˆ°æœ€åä¸€ä¸ªç£é“åå†æ”¹å˜æ–¹å‘ã€‚ C-SCANç®—æ³•ï¼šå¾ªç¯æ‰«æç®—æ³•ï¼Œç£å¤´æŒ‰åŒä¸€ä¸ªæ–¹å‘ç§»åŠ¨ï¼Œç›´åˆ°åˆ°è¾¾æœ€åä¸€ä¸ªç£é“åï¼Œç«‹å³ç›´æ¥è¿”å›åˆ°ç£é“0å¤„ï¼Œå†ç»§ç»­æ‰«æã€‚ LOOK ç®—æ³•ï¼šç±»ä¼¼äºæ‰«æç®—æ³•ï¼Œä½†åœ¨åˆ°è¾¾æœ€è¿œçš„è¯·æ±‚åä¸ä¼šç«‹å³è¿”å›ï¼Œè€Œæ˜¯æ ¹æ®å½“å‰è¯·æ±‚çš„æ–¹å‘å†³å®šä¸‹ä¸€ä¸ªæœåŠ¡çš„ç£é“ã€‚åœ¨æœä¸€ä¸ªç»™å®šæ–¹å‘ç§»åŠ¨å‰æŸ¥çœ‹æ˜¯å¦æœ‰è¯·æ±‚ã€‚ C-LOOK ç®—æ³•ï¼šç±»ä¼¼äº C-SCAN ç®—æ³•ï¼Œä½†åœ¨åˆ°è¾¾æœ€è¿œçš„è¯·æ±‚åä¸ä¼šç«‹å³è¿”å›ï¼Œè€Œæ˜¯ç›´æ¥è¿”å›åˆ°æœ€è¿œç«¯çš„æœ‰è¯·æ±‚çš„ç£é“ã€‚ æ³¨æ„ï¼Œåœ¨åšé¢˜æ—¶ï¼Œè‹¥æ— ç‰¹åˆ«è¯´æ˜ï¼Œä¹Ÿå¯ä»¥é»˜è®¤SCANç®—æ³•å’ŒC-SCANç®—æ³•ä¸ºLOOKå’ŒC-LOOKè°ƒåº¦ã€‚\nç£ç›˜å—ç©ºé—²çŠ¶æ€çš„ç®¡ç† FAT\nä½ç¤ºå›¾\n09å¹´ Bæ ‘ä¸B+æ ‘çš„å¼‚åŒ Bæ ‘å’ŒB+æ ‘éƒ½æ˜¯ä¸€ç§å¸¸ç”¨çš„å¤šè·¯æœç´¢æ ‘æ•°æ®ç»“æ„ï¼Œç”¨äºå­˜å‚¨æœ‰åºçš„æ•°æ®é›†åˆï¼Œç‰¹åˆ«æ˜¯åœ¨ç£ç›˜å­˜å‚¨å’Œæ•°æ®åº“ç³»ç»Ÿä¸­åº”ç”¨å¹¿æ³›ã€‚\næ•°æ®å­˜å‚¨ï¼š Bæ ‘ï¼šBæ ‘çš„å¶å­èŠ‚ç‚¹å’Œéå¶å­èŠ‚ç‚¹çš„ç»“æ„åŸºæœ¬ç›¸åŒï¼Œéƒ½å¯ä»¥å­˜å‚¨æ•°æ®ã€‚ B+æ ‘ï¼šåœ¨B+æ ‘ä¸­ï¼Œåªæœ‰å¶å­èŠ‚ç‚¹å­˜å‚¨æ•°æ®ï¼Œéå¶å­èŠ‚ç‚¹åªå­˜å‚¨ç´¢å¼•ï¼ˆæœ‰ç‚¹åƒæ–‡ä»¶ç®¡ç†ä¸­çš„ç´¢å¼•é¡ºåºæ–‡ä»¶ï¼‰ï¼Œå¶å­èŠ‚ç‚¹ä¹‹é—´é€šè¿‡æŒ‡é’ˆè¿æ¥ï¼Œå½¢æˆä¸€ä¸ªæœ‰åºçš„é“¾è¡¨ã€‚ èŒƒå›´æŸ¥è¯¢æ•ˆç‡ï¼š Bæ ‘ï¼šç”±äºBæ ‘çš„å¶å­èŠ‚ç‚¹ä¹Ÿå­˜å‚¨æ•°æ®ï¼Œå› æ­¤å¯ä»¥ç›´æ¥è¿›è¡ŒèŒƒå›´æŸ¥è¯¢ã€‚ B+æ ‘ï¼šç”±äºB+æ ‘çš„éå¶å­èŠ‚ç‚¹ä¸å­˜å‚¨æ•°æ®ï¼Œåªæœ‰å¶å­èŠ‚ç‚¹å­˜å‚¨æ•°æ®ï¼Œå› æ­¤èŒƒå›´æŸ¥è¯¢éœ€è¦åœ¨å¶å­èŠ‚ç‚¹æ„æˆçš„é“¾è¡¨ä¸Šè¿›è¡Œã€‚ æŸ¥è¯¢æ€§èƒ½ï¼š Bæ ‘ï¼šç”±äºBæ ‘çš„éå¶å­èŠ‚ç‚¹ä¹Ÿå­˜å‚¨æ•°æ®ï¼Œå•æ¬¡æŸ¥è¯¢å¯èƒ½ç›´æ¥åœ¨éå¶å­èŠ‚ç‚¹æ‰¾åˆ°ç»“æœï¼Œå› æ­¤æŸ¥è¯¢æ€§èƒ½ç›¸å¯¹äºB+æ ‘å¯èƒ½æ›´å¿«ã€‚ B+æ ‘ï¼šB+æ ‘çš„æŸ¥è¯¢æ€§èƒ½ç›¸å¯¹äºBæ ‘å¯èƒ½ç¨æ…¢ï¼Œå› ä¸ºæ¯æ¬¡æŸ¥è¯¢éƒ½éœ€è¦åœ¨å¶å­èŠ‚ç‚¹é“¾è¡¨ä¸Šè¿›è¡Œã€‚ æµ®ç‚¹æ•°åŠ å‡çš„æ­¥éª¤ï¼ˆIEEE 754ï¼‰ æ­£å¸¸æ–¹æ³•ï¼šå¯¹é˜¶ï¼ˆå°é˜¶å‘å¤§é˜¶å¯¹é½ï¼‰ã€å°¾æ•°è¿ç®—ã€è§„æ ¼åŒ–ï¼ˆå·¦è§„ã€å³è§„ï¼‰ã€èˆå…¥ã€åˆ¤æ–­æº¢å‡ºï¼ˆåˆ¤æ–­èˆå…¥åçš„é˜¶æ•°æ˜¯å¦è¶…è¿‡äº†æ‰€èƒ½è¡¨ç¤ºçš„èŒƒå›´ï¼‰ï¼›\nå·æ‡’æ–¹æ³•ï¼šç›´æ¥è®¡ç®—ï¼ˆæŒ‰ç…§å¤§çš„é˜¶æ•°ï¼‰ã€åœ¨è§„æ ¼åŒ–ååˆ¤æ–­æ˜¯å¦æº¢å‡ºï¼ˆåˆ¤æ–­é˜¶æ•°æ˜¯å¦è¶…è¿‡äº†æ‰€èƒ½è¡¨ç¤ºçš„èŒƒå›´ï¼‰ï¼ˆå¦‚10å¹´T13ï¼‰\nCISCä¸RISCçš„åŒºåˆ« CISC æŒ‡ä»¤ç³»ç»Ÿè®¾è®¡çš„ä¸»è¦ç‰¹ç‚¹å¦‚ä¸‹ï¼š\næŒ‡ä»¤ç³»ç»Ÿå¤æ‚ä¸”å¤šã€‚æŒ‡ä»¤æ¡æ•°å¤šï¼Œå¯»å€æ–¹å¼å¤šï¼ŒæŒ‡ä»¤æ ¼å¼å¤šè€Œå¤æ‚ï¼ŒæŒ‡ä»¤é•¿åº¦å¯å˜ï¼Œæ“ä½œç é•¿åº¦å¯å˜ã€‚ å„ç§æŒ‡ä»¤éƒ½èƒ½è®¿é—®å­˜å‚¨å™¨ï¼Œæœ‰äº›æŒ‡ä»¤è¿˜éœ€è¦å¤šæ¬¡è®¿é—®å­˜å‚¨å™¨ã€‚ ä¸åˆ©äºå®ç°æµæ°´çº¿ã€‚å› ä¸ºæŒ‡ä»¤å‘¨æœŸé•¿ä¸”å·®è·å¤§ã€‚ç»å¤§å¤šæ•°æŒ‡ä»¤éœ€è¦å¤šä¸ªæ—¶é’Ÿå‘¨æœŸæ‰èƒ½å®Œæˆï¼Œç®€å•æŒ‡ä»¤å’Œå¤æ‚æŒ‡ä»¤æ‰€ç”¨çš„æ—¶é’Ÿå‘¨æœŸæ•°ç›¸å·®å¾ˆå¤§ã€‚ å¤æ‚æŒ‡ä»¤ç³»ç»Ÿä½¿å¾—å…¶å®ç°è¶Šæ¥è¶Šå¤æ‚ï¼Œä¸ä»…å¢åŠ äº†ç ”åˆ¶å‘¨æœŸå’Œæˆæœ¬ï¼Œè€Œä¸”éš¾ä»¥ä¿è¯æ­£ç¡®æ€§ï¼Œç”šè‡³å› ä¸ºæŒ‡ä»¤å¤ªå¤æ‚è€Œæ— æ³•é‡‡ç”¨ç¡¬è¿çº¿è·¯æ§åˆ¶å™¨ï¼Œå¯¼è‡´å¤§å¤šæ•°ç³»ç»Ÿåªèƒ½é‡‡ç”¨æ…¢é€Ÿçš„å¾®ç¨‹åºæ§åˆ¶å™¨ã€‚ éš¾ä»¥è¿›è¡Œç¼–è¯‘ä¼˜åŒ–ã€‚ç”±äºç¼–è¯‘å™¨å¯é€‰æŒ‡ä»¤åºåˆ—å¢å¤šï¼Œä½¿å¾—ç›®æ ‡ä»£ç ç»„åˆå¢åŠ ï¼Œä»è€Œå¢åŠ äº†ç›®æ ‡ä»£ç ä¼˜åŒ–çš„éš¾åº¦ã€‚ ç›¸å…³æŒ‡ä»¤ä¼šäº§ç”Ÿæ˜¾å¼çš„æ¡ä»¶ç ï¼Œå­˜æ”¾åœ¨ä¸“é—¨çš„æ ‡å¿—å¯„å­˜å™¨ï¼ˆæˆ–ç§°çŠ¶æ€å¯„å­˜å™¨ï¼‰ä¸­ï¼Œå¯ç”¨äºæ¡ä»¶è½¬ç§»å’Œæ¡ä»¶ä¼ é€ç­‰æŒ‡ä»¤ã€‚ ç›¸è¾ƒäºCISCï¼ŒRISC æŒ‡ä»¤ç³»ç»Ÿè®¾è®¡çš„ä¸»è¦ç‰¹ç‚¹å¦‚ä¸‹ï¼š\n**æŒ‡ä»¤æ•°ç›®å°‘ä¸”è§„æ•´ã€‚**åªåŒ…å«ä½¿ç”¨é¢‘åº¦é«˜çš„ç®€å•æŒ‡ä»¤ï¼Œå¯»å€æ–¹å¼å°‘ï¼ŒæŒ‡ä»¤æ ¼å¼å°‘ï¼ŒæŒ‡ä»¤é•¿åº¦ä¸€è‡´ï¼ŒæŒ‡ä»¤ä¸­æ“ä½œç å’Œå¯„å­˜å™¨ç¼–å·ç­‰ä½ç½®å›ºå®šï¼Œä¾¿äºå–æŒ‡ä»¤ã€æŒ‡ä»¤è¯‘ç ä»¥åŠæå‰è¯»å–å¯„å­˜å™¨ä¸­æ“ä½œæ•°ç­‰ã€‚ é‡‡ç”¨ load/store å‹æŒ‡ä»¤è®¾è®¡é£æ ¼ã€‚ä¸€æ¡æŒ‡ä»¤çš„æ‰§è¡Œé˜¶æ®µæœ€å¤šåªæœ‰ä¸€æ¬¡å­˜å‚¨å™¨è®¿é—®æ“ä½œã€‚ é‡‡ç”¨æµæ°´çº¿æ–¹å¼æ‰§è¡ŒæŒ‡ä»¤ã€‚è§„æ•´çš„æŒ‡ä»¤æ ¼å¼æœ‰åˆ©äºé‡‡ç”¨æµæ°´çº¿æ–¹å¼æ‰§è¡Œï¼Œé™¤ load/storeæŒ‡ä»¤å¤–ï¼Œå…¶ä»–æŒ‡ä»¤éƒ½åªéœ€ä¸€ä¸ªæˆ–å°äºä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸå°±å¯å®Œæˆï¼ŒæŒ‡ä»¤å‘¨æœŸçŸ­ã€‚ é‡‡ç”¨ç¡¬è¿çº¿è·¯æ§åˆ¶å™¨ã€‚æŒ‡ä»¤å°‘è€Œè§„æ•´ä½¿å¾—æ§åˆ¶å™¨çš„å®ç°å˜å¾—ç®€å•ï¼Œå¯ä»¥ä¸ç”¨æˆ–å°‘ç”¨å¾®ç¨‹åºæ§åˆ¶å™¨ã€‚ æŒ‡ä»¤æ•°é‡å°‘ï¼Œå›ºç„¶ä½¿ç¼–è¯‘å·¥ä½œé‡åŠ å¤§ï¼Œä½†ç”±äºæŒ‡ä»¤ç³»ç»Ÿä¸­çš„æŒ‡ä»¤éƒ½æ˜¯ç²¾é€‰çš„ï¼Œç¼–è¯‘æ—¶é—´å°‘ï¼Œåè¿‡æ¥å¯¹ç¼–è¯‘ç¨‹åºçš„ä¼˜åŒ–åˆæ˜¯æœ‰åˆ©çš„ã€‚ é‡‡ç”¨å¤§é‡é€šç”¨å¯„å­˜å™¨ã€‚ç¼–è¯‘å™¨å¯å°†æ›´å¤šçš„å±€éƒ¨å˜é‡åˆ†é…åˆ°å¯„å­˜å™¨ä¸­ï¼Œå¹¶ä¸”åœ¨è¿‡ç¨‹è°ƒç”¨æ—¶é€šè¿‡å¯„å­˜å™¨è¿›è¡Œå‚æ•°ä¼ é€’è€Œä¸æ˜¯é€šè¿‡æ ˆè¿›è¡Œä¼ é€’ï¼Œä»¥å‡å°‘è®¿å­˜æ¬¡æ•°ã€‚ ç¡¬å¸ƒçº¿æ§åˆ¶å™¨ä¸å¾®ç¨‹åºæ§åˆ¶å™¨çš„å¯¹æ¯” ç¡¬å¸ƒçº¿æ§åˆ¶å™¨ å¾®ç¨‹åºæ§åˆ¶å™¨ å®ç°æ–¹å¼ é€šè¿‡ç¡¬ä»¶ç”µè·¯æ¥å®ç°çš„ï¼Œé€šå¸¸æ˜¯ç”±é€»è¾‘é—¨ã€å¯„å­˜å™¨å’Œè§¦å‘å™¨ç­‰ç»„ä»¶ç»„æˆã€‚ ä½¿ç”¨ä¸€ç»„å­˜å‚¨åœ¨æ§åˆ¶å­˜å‚¨å™¨ä¸­çš„å¾®æŒ‡ä»¤åºåˆ—æ¥å®ç°ã€‚ æ€§èƒ½ ç¡¬ä»¶å®ç°ï¼Œå› æ­¤æ‰§è¡Œé€Ÿåº¦é€šå¸¸éå¸¸å¿« ç•¥æ…¢ä¸€äº›ï¼Œæ¯ä¸ªå¾®æŒ‡ä»¤çš„æ‰§è¡Œéœ€è¦é¢å¤–çš„æ—¶é’Ÿå‘¨æœŸã€‚ å¤æ‚æ€§ è¾ƒé«˜ ç›¸å¯¹æ›´ä¸ºç®€å• çµæ´»æ€§ æ§åˆ¶é€»è¾‘å›ºå®šåœ¨ç¡¬ä»¶ä¸­ï¼Œä¸å®¹æ˜“è¿›è¡Œä¿®æ”¹æˆ–å‡çº§ï¼Œç¼ºä¹çµæ´»æ€§ã€‚ å¯ä»¥é€šè¿‡ä¿®æ”¹æ§åˆ¶å­˜å‚¨å™¨ä¸­çš„å¾®æŒ‡ä»¤æ¥æ”¹å˜æ§åˆ¶é€»è¾‘ï¼Œçµæ´»æ€§è¾ƒé«˜ã€‚ å†…å­˜ç®¡ç†çš„ä¸»è¦ä¿æŠ¤æªæ–½ æ–‡ä»¶è®¿é—®æ§åˆ¶ å£ä»¤ä¿æŠ¤ ä¸ºæ–‡ä»¶è®¾ç½®ä¸€ä¸ªâ€œå£ä»¤â€œï¼Œç”¨æˆ·æƒ³è¦è®¿é—®æ–‡ä»¶æ—¶éœ€è¦æä¾›å£ä»¤ï¼Œç”±ç³»ç»ŸéªŒè¯å£ä»¤æ˜¯å¦æ­£ç¡®ã€‚ å®ç°å¼€é”€å°ï¼Œä½†â€œå£ä»¤â€œä¸€èˆ¬å­˜æ”¾åœ¨FCBæˆ–ç´¢å¼•ç»“ç‚¹ä¸­ï¼ˆä¹Ÿå°±æ˜¯å­˜æ”¾åœ¨ç³»ç»Ÿä¸­ï¼‰å› æ­¤ä¸å¤ªå®‰å…¨ã€‚ åŠ å¯†ä¿æŠ¤ ç”¨ä¸€ä¸ªâ€œå¯†ç â€œå¯¹æ–‡ä»¶åŠ å¯†ï¼Œç”¨æˆ·æƒ³è¦è®¿é—®æ–‡ä»¶æ—¶ï¼Œéœ€è¦æä¾›ç›¸åŒçš„â€œå¯†ç â€œæ‰èƒ½æ­£ç¡®çš„è§£å¯†ã€‚ å®‰å…¨æ€§é«˜ï¼Œå³ä½¿æ–‡ä»¶è¢«éæ³•è·å–ï¼Œæ²¡æœ‰å¯†ç ä¹Ÿæ— æ³•æ­£ç¡®è¯»å–å…¶ä¸­çš„å†…å®¹ã€‚ä½†åŠ å¯†/è§£å¯†éœ€è¦è€—è´¹ä¸€å®šçš„æ—¶é—´ã€‚ è®¿é—®æ§åˆ¶ ç”¨ä¸€ä¸ªè®¿é—®æ§åˆ¶è¡¨ (ACL) è®°å½•å„ä¸ªç”¨æˆ·ï¼ˆæˆ–å„ç»„ç”¨æˆ·ï¼‰å¯¹æ–‡ä»¶çš„è®¿é—®æƒé™ï¼Œå¯¹æ–‡ä»¶çš„è®¿é—®ç±»å‹å¯ä»¥åˆ†ä¸ºï¼Œè¯»å†™/æ‰§è¡Œ/åˆ é™¤ç­‰ã€‚ å®ç°çµæ´»ï¼Œå¯ä»¥å®ç°å¤æ‚çš„æ–‡ä»¶ä¿æŠ¤åŠŸèƒ½ï¼Œå­˜æ”¾æ–‡ä»¶è®¿é—®æ§åˆ¶ä¿¡æ¯çš„åˆç†ä½ç½®ä¸ºFCBæˆ–ç´¢å¼•èŠ‚ç‚¹ã€‚ è½¯ç¡¬é“¾æ¥çš„åŒºåˆ« ç¡¬é“¾æ¥ ç¡¬é“¾æ¥çš„å®ç°åªæ˜¯åœ¨è¦åˆ›å»ºé“¾æ¥çš„ç›®å½•ä¸­åˆ›å»ºäº†å¦ä¸€ä¸ªåç§°ï¼Œå¹¶å°†å…¶æŒ‡å‘åŸæœ‰æ–‡ä»¶çš„ç›¸åŒinodeå·ï¼ˆå³ä½çº§åˆ«åç§°ï¼‰ã€‚è¯¥æ–‡ä»¶ä¸ä»¥ä»»ä½•æ–¹å¼å¤åˆ¶ã€‚åœ¨åˆ›å»ºæ–‡ä»¶çš„ç¡¬é“¾æ¥ä¹‹åï¼Œåœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ï¼ŒåŸæœ‰æ–‡ä»¶åï¼ˆfileï¼‰å’Œæ–°åˆ›å»ºçš„æ–‡ä»¶åï¼ˆfile2ï¼‰ä¹‹é—´æ²¡æœ‰åŒºåˆ«ã€‚å®é™…ä¸Šï¼Œå®ƒä»¬éƒ½åªæ˜¯æŒ‡å‘æ–‡ä»¶åº•å±‚å…ƒæ•°æ®çš„é“¾æ¥ï¼Œå¯ä»¥åœ¨åŒä¸€ä¸ªinodeä¸­æ‰¾åˆ°ã€‚\nç¡¬é“¾æ¥æœ‰ä¸ªå±€é™åœ¨äºï¼šä¸èƒ½åˆ›å»ºç›®å½•çš„ç¡¬é“¾æ¥ï¼ˆå› ä¸ºæ‹…å¿ƒä¼šåœ¨ç›®å½•æ ‘ä¸­åˆ›å»ºä¸€ä¸ªç¯ï¼‰ã€‚ä¸èƒ½ç¡¬é“¾æ¥åˆ°å…¶ä»–ç£ç›˜åˆ†åŒºæˆ–æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶ï¼ˆå› ä¸º inode å·åœ¨ç‰¹å®šæ–‡ä»¶ç³»ç»Ÿä¸­æ˜¯å”¯ä¸€çš„ï¼Œè€Œä¸æ˜¯è·¨æ–‡ä»¶ç³»ç»Ÿï¼‰ç­‰ç­‰ã€‚æ³¨æ„ï¼šåœ¨Windowsæ“ä½œç³»ç»Ÿä¸­ï¼Œç£ç›˜åˆ†åŒºé€šå¸¸æ˜¯ä»¥ç›˜ç¬¦ï¼ˆå¦‚Cç›˜ã€Dç›˜ç­‰ï¼‰æ¥è¡¨ç¤ºçš„ï¼Œä½†è¿™å¹¶ä¸ç­‰åŒäºUnixæˆ–ç±»Unixç³»ç»Ÿä¸­çš„æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ¦‚å¿µã€‚å¦‚æœCç›˜å’ŒDç›˜å±äºåŒä¸€ç‰©ç†ç£ç›˜ï¼ˆç¡¬ç›˜ï¼‰ï¼Œå¯ä»¥åœ¨å®ƒä»¬ä¹‹é—´åˆ›å»ºç¡¬é“¾æ¥ã€‚ç„¶è€Œï¼Œå¦‚æœå®ƒä»¬ä»£è¡¨äº†ä¸¤ä¸ªä¸åŒçš„ç‰©ç†ç£ç›˜ï¼Œé‚£ä¹ˆåœ¨å®ƒä»¬ä¹‹é—´åˆ›å»ºç¡¬é“¾æ¥é€šå¸¸æ˜¯ä¸å¯èƒ½çš„ã€‚ ç¬¦å·é“¾æ¥ï¼ˆè½¯é“¾æ¥ï¼‰ å› æ­¤ï¼Œäººä»¬åˆ›å»ºäº†ä¸€ç§ç§°ä¸ºç¬¦å·é“¾æ¥ï¼ˆè½¯é“¾æ¥ï¼‰çš„æ–°å‹é“¾æ¥ã€‚ç¬¦å·é“¾æ¥æœ¬èº«å®é™…ä¸Šæ˜¯ä¸€ä¸ªä¸åŒç±»å‹çš„æ–‡ä»¶ã€‚é™¤äº†å¸¸è§„æ–‡ä»¶å’Œç›®å½•ä¹‹å¤–ï¼Œç¬¦å·é“¾æ¥æ˜¯æ–‡ä»¶ç³»ç»ŸçŸ¥é“çš„ç¬¬ä¸‰ç§ç±»å‹ã€‚å› ä¸ºå½¢æˆç¬¦å·é“¾æ¥çš„æ–¹å¼æ˜¯æŒ‡å‘æ–‡ä»¶çš„è·¯å¾„åä½œä¸ºé“¾æ¥æ–‡ä»¶çš„æ•°æ®ï¼Œæ‰€ä»¥ç¬¦å·é“¾æ¥æ–‡ä»¶çš„å¤§å°äºæ‰€æŒ‡å‘çš„æ–‡ä»¶çš„è·¯å¾„åçš„é•¿åº¦æœ‰å…³ç³»ï¼Œä¸”æœ‰å¯èƒ½é€ æˆæ‰€è°“çš„æ‚¬ç©ºå¼•ç”¨ã€‚ å¥ˆå¥æ–¯ç‰¹å®šç†å’Œé¦™å†œå®šç† å¥ˆå¥æ–¯ç‰¹å®šç†è§„å®šï¼Œä¸ºäº†é¿å…ä¿¡å·åœ¨æ•°å­—åŒ–è¿‡ç¨‹ä¸­äº§ç”Ÿå¤±çœŸï¼Œéœ€è¦ä»¥è‡³å°‘ä¸¤å€äºä¿¡å·æœ€é«˜é¢‘ç‡çš„é‡‡æ ·ç‡å¯¹ä¿¡å·è¿›è¡Œé‡‡æ ·ã€‚\nFTP åœ¨FTPä¸­ï¼Œæ•°æ®ä¼ è¾“å¯ä»¥é‡‡ç”¨ä¸¤ç§æ¨¡å¼ï¼šä¸»åŠ¨æ¨¡å¼å’Œè¢«åŠ¨æ¨¡å¼ã€‚\nä¸»åŠ¨æ¨¡å¼ï¼š\nå®¢æˆ·ç«¯å‘FTPæœåŠ¡å™¨çš„é»˜è®¤æ•°æ®ç«¯å£ï¼ˆé€šå¸¸æ˜¯ç«¯å£20ï¼‰å‘èµ·è¿æ¥è¯·æ±‚ï¼Œè¯·æ±‚å»ºç«‹æ•°æ®è¿æ¥ã€‚ æœåŠ¡å™¨åœ¨æ¥æ”¶åˆ°å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚åï¼Œä¼šä»è‡ªå·±çš„æ•°æ®ç«¯å£ï¼ˆé€šå¸¸æ˜¯ç«¯å£20ï¼‰å‘å®¢æˆ·ç«¯çš„éšæœºç«¯å£å‘èµ·è¿æ¥è¯·æ±‚ï¼Œè¯·æ±‚å»ºç«‹æ•°æ®è¿æ¥ã€‚ï¼ˆæœåŠ¡å™¨å‘èµ·æ•°æ®è¿æ¥è¯·æ±‚ï¼‰ è¢«åŠ¨æ¨¡å¼ï¼š\nå®¢æˆ·ç«¯å‘FTPæœåŠ¡å™¨çš„å‘½ä»¤ç«¯å£ï¼ˆé€šå¸¸æ˜¯ç«¯å£21ï¼‰å‘é€PASVå‘½ä»¤ï¼Œè¯·æ±‚è¿›å…¥è¢«åŠ¨æ¨¡å¼ã€‚ æœåŠ¡å™¨æ”¶åˆ°PASVå‘½ä»¤åï¼Œä¼šæ‰“å¼€ä¸€ä¸ªéšæœºçš„ç«¯å£ï¼Œç›‘å¬å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚ï¼ŒåŒæ—¶å°†è¯¥ç«¯å£å·å‘é€ç»™å®¢æˆ·ç«¯ã€‚ å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨è¿”å›çš„ç«¯å£å·åï¼Œä¼šä»è‡ªå·±çš„ç«¯å£å‘æœåŠ¡å™¨çš„æŒ‡å®šç«¯å£å‘èµ·è¿æ¥è¯·æ±‚ï¼Œè¯·æ±‚å»ºç«‹æ•°æ®è¿æ¥ã€‚ï¼ˆå®¢æˆ·ç«¯å‘èµ·æ•°æ®è¿æ¥è¯·æ±‚ï¼‰ 11å¹´ è®¡ç®—æœºæ€§èƒ½è¯„ä»·ç›¸å…³è¯æ¡ IEEE 754æ ¼å¼åŒ– IEEE 754å•ç²¾åº¦æµ®ç‚¹æ•°çš„è§£é‡Š\nå€¼çš„ç±»å‹ ç¬¦å· é˜¶ç  å°¾æ•° å€¼ æ­£é›¶ $0$ $0$ $0$ $0$ è´Ÿé›¶ $1$ $0$ $0$ $-0$ æ­£æ— ç©·å¤§ $0$ $255(å…¨1)$ $0$ $\\infty$ è´Ÿæ— ç©·å¤§ $1$ $255(å…¨1)$ $0$ $-\\infty$ æ— å®šä¹‰æ•°ï¼ˆéæ•°ï¼‰ $0æˆ–1$ $255(å…¨1)$ $\\ne0$ $\\text{NaN}$ è§„æ ¼åŒ–éé›¶æ­£æ•° $0$ $0\u0026lt;e\u0026lt;255$ $f$ $2^{e-127}(1.f)$ è§„æ ¼åŒ–éé›¶è´Ÿæ•° $1$ $0\u0026lt;e\u0026lt;255$ $f$ $-2^{e-127}(1.f)$ éè§„æ ¼åŒ–æ­£æ•° $0$ $0$ $f\\ne0$ $2^{126}(0.f)$ éè§„æ ¼åŒ–è´Ÿæ•° $1$ $0$ $f\\ne0$ $-2^{126}(0.f)$ IEEE 754çš„èŒƒå›´\næ ¼å¼ æœ€å°å€¼ æœ€å¤§å€¼ å•ç²¾åº¦ $E=1,M=0$$1.0\\times2^{1-127}=2^{-126}$ $E=254,M=.111\\cdots,1.111\\cdots1\\times2^{254-127}=2^{127}\\times(2-2^{-23})=2^{128}-2^{104}$ åŒç²¾åº¦ $E=1,M=0$$1.0\\times2^{1-1023}=2^{-1022}$ $E=2046,M=.111\\cdots,1.111\\cdots1\\times2^{2046-1023}=2^{1023}\\times(2-2^{-52})=2^{1024}-2^{971}$ åŠ å‡æ³•æ³•ç”µè·¯ ç”µè·¯\næ ‡å¿—ä½\nåˆ¤æ–­æº¢å‡º\nç³»ç»Ÿæ€»çº¿çš„å„æ¡çº¿ä¼ è¾“çš„æ˜¯ä»€ä¹ˆ åœ¨å–æŒ‡ä»¤æ—¶ï¼ŒæŒ‡ä»¤ä¾¿æ˜¯åœ¨æ•°æ®çº¿ä¸Šä¼ è¾“çš„ã€‚æ“ä½œæ•°æ˜¾ç„¶åœ¨æ•°æ®çº¿ä¸Šä¼ è¾“ã€‚ä¸­æ–­ç±»å‹å·ç”¨ä»¥æŒ‡å‡ºä¸­æ–­å‘é‡çš„åœ°å€ï¼ŒCPUå“åº”ä¸­æ–­è¯·æ±‚åï¼Œå°†ä¸­æ–­åº”ç­”ä¿¡å· (INTR) å‘å›åˆ°æ•°æ®æ€»çº¿ä¸Šï¼ŒCPUä»æ•°æ®æ€»çº¿ä¸Šè¯»å–ä¸­æ–­ç±»å‹å·åï¼ŒæŸ¥æ‰¾ä¸­æ–­å‘é‡è¡¨ï¼Œæ‰¾åˆ°ç›¸åº”çš„ä¸­æ–­å¤„ç†ç¨‹åºå…¥å£ã€‚è€Œæ¡æ‰‹ï¼ˆåº”ç­”ï¼‰ä¿¡å·å±äºé€šä¿¡è”ç»œæ§åˆ¶ä¿¡å·ï¼Œåº”åœ¨é€šä¿¡æ€»çº¿ä¸Šä¼ è¾“ã€‚\næŠ–åŠ¨ OSIæ¨¡å‹ä¸TCP/IPæ¨¡å‹å„å±‚çš„åŠŸèƒ½åŒºåˆ« OSIæ¨¡å‹ï¼š\nç‰©ç†å±‚ï¼šè§£å†³ä½¿ç”¨ä½•ç§ä¿¡å·æ¥ä¼ è¾“æ¯”ç‰¹0å’Œ1çš„é—®é¢˜ã€‚è´Ÿè´£å®šä¹‰ç‰©ç†åª’ä»‹ã€ä¼ è¾“é€Ÿç‡ã€ç¼–ç æ–¹æ³•ç­‰ï¼Œæä¾›äº†ç‰©ç†ä»‹è´¨ä¸Šçš„åŸå§‹æ•°æ®ä¼ è¾“ã€‚ æ•°æ®é“¾è·¯å±‚ï¼šè§£å†³å¸§åœ¨ä¸€ä¸ªç½‘ç»œï¼ˆæˆ–ä¸€æ®µé“¾è·¯ï¼‰ä¸Šä¼ è¾“çš„é—®é¢˜ã€‚è´Ÿè´£æ•°æ®å¸§çš„ä¼ è¾“ã€æ¥æ”¶ã€é”™è¯¯æ£€æµ‹å’Œçº æ­£ï¼Œç¡®ä¿æ•°æ®åœ¨ç‰©ç†å±‚ä¸Šå¯é åœ°ä¼ è¾“ã€‚ ç½‘ç»œå±‚ï¼šè§£å†³åˆ†ç»„åœ¨å¤šä¸ªç½‘ç»œä¹‹é—´ä¼ è¾“ï¼ˆè·¯ç”±ï¼‰çš„é—®é¢˜ã€‚è´Ÿè´£åœ¨ä¸åŒç½‘ç»œä¹‹é—´è¿›è¡Œè·¯ç”±é€‰æ‹©ï¼Œè¿›è¡Œåˆ†ç»„çš„è½¬å‘å’Œå¯»å€ï¼Œä»¥åŠå®šä¹‰å­ç½‘ç­‰ç½‘ç»œå±‚é¢çš„é€»è¾‘ç»“æ„ã€‚ ä¼ è¾“å±‚ï¼šè§£å†³è¿›ç¨‹ä¹‹é—´åŸºäºç½‘ç»œçš„é€šä¿¡é—®é¢˜ã€‚æä¾›ç«¯åˆ°ç«¯çš„é€šä¿¡ï¼Œä¿è¯æ•°æ®çš„å¯é ä¼ è¾“ï¼Œå¤„ç†æ•°æ®çš„åˆ†æ®µå’Œé‡ç»„ï¼Œä»¥åŠæµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶ã€‚ ä¼šè¯å±‚ï¼šè§£å†³è¿›ç¨‹ä¹‹é—´è¿›è¡Œä¼šè¯çš„é—®é¢˜ã€‚å»ºç«‹ã€ç®¡ç†å’Œç»ˆæ­¢ä¼šè¯è¿æ¥ï¼Œæä¾›äº†é€šä¿¡ä¼šè¯çš„æ§åˆ¶å’ŒåŒæ­¥åŠŸèƒ½ã€‚ è¡¨ç¤ºå±‚ï¼šè§£å†³é€šä¿¡åŒæ–¹äº¤æ¢ä¿¡æ¯çš„è¡¨ç¤ºé—®é¢˜ã€‚è´Ÿè´£æ•°æ®çš„æ ¼å¼è½¬æ¢ã€åŠ å¯†è§£å¯†ã€å‹ç¼©è§£å‹ç¼©ç­‰ï¼Œä¿è¯æ•°æ®çš„å¯é ä¼ è¾“ã€‚ åº”ç”¨å±‚ï¼šè§£å†³é€šè¿‡åº”ç”¨è¿›ç¨‹ä¹‹é—´çš„äº¤äº’æ¥å®ç°ç‰¹å®šç½‘ç»œåº”ç”¨çš„é—®é¢˜ã€‚ä¸ºç”¨æˆ·æä¾›å„ç§ç½‘ç»œåº”ç”¨æœåŠ¡ï¼Œå¦‚æ–‡ä»¶ä¼ è¾“ã€ç”µå­é‚®ä»¶ã€è¿œç¨‹ç™»å½•ç­‰ã€‚ TCP/IPæ¨¡å‹ï¼š\nåº”ç”¨å±‚ï¼šä¸OSIæ¨¡å‹çš„åº”ç”¨å±‚ç±»ä¼¼ï¼Œæä¾›ç½‘ç»œåº”ç”¨æœåŠ¡ã€‚\nä¼ è¾“å±‚ï¼šä¸OSIæ¨¡å‹çš„ä¼ è¾“å±‚ç±»ä¼¼ï¼Œè´Ÿè´£æä¾›ç«¯åˆ°ç«¯çš„é€šä¿¡æœåŠ¡ã€‚\nç½‘ç»œå±‚ï¼šä¸OSIæ¨¡å‹çš„ç½‘ç»œå±‚ç±»ä¼¼ï¼Œè´Ÿè´£åœ¨ä¸åŒç½‘ç»œä¹‹é—´è¿›è¡Œè·¯ç”±é€‰æ‹©ã€‚\né“¾è·¯å±‚ï¼šåŒ…æ‹¬äº†OSIæ¨¡å‹çš„ç‰©ç†å±‚å’Œæ•°æ®é“¾è·¯å±‚çš„åŠŸèƒ½ï¼Œè´Ÿè´£åœ¨ç›¸é‚»èŠ‚ç‚¹é—´æä¾›å¯é çš„æ•°æ®ä¼ è¾“ã€‚\nåœ¨å®é™…åº”ç”¨ä¸­ï¼ŒTCP/IPæ¨¡å‹æ˜¯ç›®å‰å¹¿æ³›ä½¿ç”¨çš„ç½‘ç»œæ¨¡å‹ï¼Œè€ŒOSIæ¨¡å‹åœ¨ç†è®ºä¸Šç”¨äºæè¿°é€šä¿¡ç³»ç»Ÿçš„åŠŸèƒ½ã€‚\nå¯¹æ­£ç¡®æ¥æ”¶åˆ°çš„æ•°æ®å¸§è¿›è¡Œç¡®è®¤çš„MACåè®® ä¸ºä»€ä¹ˆæ˜¯CSMA/CAåè®®ï¼Ÿ\nCSMA/CAåè®®ï¼Œæ˜¯ä¸€ç§ç”¨äºåœ¨æ— çº¿ç½‘ç»œä¸­è¿›è¡Œæ•°æ®é€šä¿¡çš„åè®®ï¼Œé’ˆå¯¹æ— çº¿ç¯å¢ƒä¸­ä¿¡é“å®¹é‡æœ‰é™ã€æ˜“å—å¹²æ‰°çš„ç‰¹ç‚¹è€Œè®¾è®¡ã€‚å®ƒé‡‡ç”¨äº†ä¸€äº›æœºåˆ¶æ¥é¿å…ç¢°æ’å¹¶æé«˜æ•°æ®ä¼ è¾“çš„å¯é æ€§ï¼š\nç›‘å¬ä¿¡é“ï¼šå‘é€æ–¹åœ¨å‘é€æ•°æ®å‰ä¼šå…ˆç›‘å¬ä¿¡é“ï¼Œç¡®ä¿ä¿¡é“æ˜¯ç©ºé—²çš„ï¼Œé¿å…å‘ç”Ÿç¢°æ’ï¼ˆå‡å°‘æ¦‚ç‡ï¼Œä¸èƒ½ä¸€å®šé¿å…ï¼‰ã€‚\nRTS/CTSå¸§ï¼šåœ¨CSMA/CAä¸­ï¼Œè¿˜å¼•å…¥äº†è¯·æ±‚å‘é€ï¼ˆRequest to Sendï¼ŒRTSï¼‰å’Œæ¸…é™¤å‘é€ï¼ˆClear to Sendï¼ŒCTSï¼‰å¸§çš„æ¦‚å¿µã€‚å‘é€æ–¹åœ¨å‘é€æ•°æ®å‰ä¼šå…ˆå‘é€ä¸€ä¸ªRTSå¸§ï¼Œæ¥æ”¶æ–¹å¦‚æœæ”¶åˆ°å¹¶ç¡®è®¤äº†RTSå¸§ï¼Œå°±ä¼šå‘é€ä¸€ä¸ªCTSå¸§ç»™å‘é€æ–¹ï¼Œè¡¨ç¤ºä¿¡é“å·²ç»ä¸ºå‘é€æ–¹ä¿ç•™ã€‚è¿™ä¸ªè¿‡ç¨‹å¯ä»¥æœ‰æ•ˆé¿å…éšè—èŠ‚ç‚¹é—®é¢˜å’Œå‡å°‘ç¢°æ’çš„å‘ç”Ÿã€‚\nç­‰å¾…ç¡®è®¤ï¼šå‘é€æ–¹åœ¨å‘é€æ•°æ®åä¼šç­‰å¾…æ¥æ”¶æ–¹çš„ç¡®è®¤ï¼Œåªæœ‰åœ¨æ”¶åˆ°ç¡®è®¤åæ‰ä¼šå‘é€ä¸‹ä¸€ä¸ªæ•°æ®å¸§ã€‚\né‡ä¼ æœºåˆ¶ï¼šå¦‚æœå‘é€æ–¹æ²¡æœ‰æ”¶åˆ°ç¡®è®¤ï¼Œä¼šè®¤ä¸ºæ•°æ®å¸§å¯èƒ½ä¸¢å¤±ï¼Œä¼šè¿›è¡Œé‡ä¼ ã€‚\nç‰¹æ®Šçš„IPåŠå…¶ä½œç”¨ã€ä½¿ç”¨æ–¹æ³• ä»¥ä¸‹æ˜¯RFCæ–‡æ¡£ä¸­çš„å†…å®¹Special-Use IPv4 Addresses RFC 3330\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 Address Block Present Use Reference --------------------------------------------------------------------- 0.0.0.0/8 \u0026#34;This\u0026#34; Network [RFC1700, page 4] 10.0.0.0/8 Private-Use Networks [RFC1918] 14.0.0.0/8 Public-Data Networks [RFC1700, page 181] 24.0.0.0/8 Cable Television Networks -- 39.0.0.0/8 Reserved but subject to allocation [RFC1797] 127.0.0.0/8 Loopback [RFC1700, page 5] 128.0.0.0/16 Reserved but subject to allocation -- 169.254.0.0/16 Link Local -- 172.16.0.0/12 Private-Use Networks [RFC1918] 191.255.0.0/16 Reserved but subject to allocation -- 192.0.0.0/24 Reserved but subject to allocation -- 192.0.2.0/24 Test-Net 192.88.99.0/24 6to4 Relay Anycast [RFC3068] 192.168.0.0/16 Private-Use Networks [RFC1918] 198.18.0.0/15 Network Interconnect Device Benchmark Testing [RFC2544] 223.255.255.0/24 Reserved but subject to allocation -- 224.0.0.0/4 Multicast [RFC3171] 240.0.0.0/4 Reserved for Future Use [RFC1700, page 4] TCPå¤´éƒ¨å„å­—æ®µæ„ä¹‰ 12å¹´ å›¾åœ¨é‚»æ¥è¡¨ã€é‚»æ¥çŸ©é˜µä¸‹çš„ï¼ˆç©ºé—´ï¼‰æ—¶é—´å¤æ‚åº¦ é‚»æ¥çŸ©é˜µ é‚»æ¥è¡¨ BFS $ O( V ) $$O( DFS $O( V )$$O( Prim $O( Kruskal $O(log Dijkstra $O( V ^2)$ Floyd $O( æ‹“æ‰‘æ’åº $O( V ^2)$ ä¸Šä¸‰è§’çŸ©é˜µå’Œæ‹“æ‰‘æ’åº è‹¥ç”¨é‚»æ¥çŸ©é˜µå­˜å‚¨æœ‰å‘å›¾ï¼ŒçŸ©é˜µä¸­ä¸»å¯¹è§’çº¿åŠä»¥ä¸‹çš„å…ƒç´ å‡ä¸ºé›¶ï¼ˆæˆ–ä¸»å¯¹è§’çº¿åŠä»¥ä¸Šçš„å…ƒç´ å‡ä¸ºé›¶ï¼‰ï¼Œåˆ™è¯¥å›¾çš„æ‹“æ‰‘åºåˆ—ä¸€å®šå­˜åœ¨ï¼Œä½†ä¸ä¸€å®šå”¯ä¸€ã€‚\nä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªæœ‰å‘å›¾ä½¿ç”¨é‚»æ¥çŸ©é˜µè¿›è¡Œå­˜å‚¨ï¼Œå¹¶ä¸”çŸ©é˜µä¸­ä¸»å¯¹è§’çº¿åŠä»¥ä¸‹çš„å…ƒç´ å‡ä¸ºé›¶ï¼Œé‚£ä¹ˆè¿™ä¸ªå›¾çš„æ‹“æ‰‘åºåˆ—ä¸€å®šå­˜åœ¨ã€‚å› ä¸ºæ‹“æ‰‘åºåˆ—æ˜¯ä¸€ä¸ªå›¾ä¸­æ‰€æœ‰é¡¶ç‚¹çš„çº¿æ€§æ’åºï¼Œä½¿å¾—å¯¹äºæ¯ä¸€æ¡æœ‰å‘è¾¹ \u0026lt;u,v\u0026gt;ï¼Œé¡¶ç‚¹ u åœ¨åºåˆ—ä¸­éƒ½å‡ºç°åœ¨é¡¶ç‚¹ v ä¹‹å‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç”±äºä¸»å¯¹è§’çº¿ä»¥ä¸‹çš„å…ƒç´ éƒ½æ˜¯é›¶ï¼Œè¡¨æ˜æ²¡æœ‰é¡¶ç‚¹æŒ‡å‘è‡ªå·±ï¼Œä¹Ÿå°±ä¸å­˜åœ¨ç¯è·¯ï¼Œå› æ­¤å¿…ç„¶å­˜åœ¨æ‹“æ‰‘æ’åºã€‚\nç„¶è€Œï¼Œæ‹“æ‰‘åºåˆ—å¯èƒ½ä¸æ˜¯å”¯ä¸€çš„ã€‚è¿™æ˜¯å› ä¸ºåœ¨ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ä¸­ï¼Œå¯èƒ½å­˜åœ¨å¤šä¸ªé¡¶ç‚¹æ²¡æœ‰å‰é©±ï¼ˆå³å…¥åº¦ä¸ºé›¶ï¼‰ï¼Œè¿™äº›é¡¶ç‚¹çš„ç›¸å¯¹é¡ºåºå¯ä»¥ä»»æ„æ’åˆ—ï¼Œåªè¦å®ƒä»¬åœ¨æ‹“æ‰‘æ’åºä¸­æ’åœ¨å…¶ä»–é¡¶ç‚¹ä¹‹å‰å³å¯ã€‚å› æ­¤ï¼Œå¯èƒ½å­˜åœ¨å¤šä¸ªåˆæ³•çš„æ‹“æ‰‘åºåˆ—ã€‚\nåä¹‹ï¼Œå¦‚æœå­˜åœ¨æ‹“æ‰‘åºåˆ—ï¼Œé‚»æ¥çŸ©é˜µä¸ä¸€å®šæ»¡è¶³ä¸»å¯¹è§’çº¿åŠä»¥ä¸‹çš„å…ƒç´ å‡ä¸ºé›¶ï¼ˆæˆ–ä¸»å¯¹è§’çº¿åŠä»¥ä¸Šçš„å…ƒç´ å‡ä¸ºé›¶ï¼‰ã€‚\né—ªå­˜ æ•°æ®çº¿ã€åœ°å€çº¿ã€æ§åˆ¶çº¿ å‚è€ƒã€ç»„æˆåŸç†Â·æ€»çº¿ã€‘æ€»çº¿çš„æ¦‚å¿µå’Œè®¡ç®—\nåœ¨å•æ€»çº¿ç»“æ„ä¸­ï¼š\næ•°æ®çº¿ï¼šç”¨äºåœ¨å„ä¸ªè®¾å¤‡ï¼ˆåŒ…æ‹¬CPUã€ä¸»å­˜ã€å¤–è®¾ï¼‰ä¹‹é—´ä¼ é€’æ•°æ®ã€‚\nåœ°å€çº¿ï¼šä¼ è¾“åœ°å€ä¿¡æ¯ï¼Œç”¨äºæŒ‡ç¤ºè¦è®¿é—®çš„ç‰¹å®šå†…å­˜å•å…ƒæˆ–å¤–è®¾çš„åœ°å€ã€‚åœ°å€çº¿çš„æ•°é‡å†³å®šäº†æ€»çº¿çš„å¯»å€èƒ½åŠ›ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥å¯»å€çš„å†…å­˜æˆ–è®¾å¤‡æ•°é‡ã€‚\næ§åˆ¶çº¿ï¼šä¼ è¾“å„ç§æ§åˆ¶ä¿¡å·ï¼Œå¦‚è¯»å–ã€å†™å…¥ã€ä½¿èƒ½ç­‰ä¿¡å·ï¼Œä»¥æ§åˆ¶æ•°æ®çš„æµåŠ¨å’Œæ“ä½œã€‚æ§åˆ¶çº¿è¿˜å¯èƒ½åŒ…æ‹¬æ—¶é’Ÿä¿¡å·ç­‰ã€‚ä¹Ÿå¯ä»¥ä¼ è¾“ä¸»å­˜è¿”å› CPU çš„åé¦ˆä¿¡å·ã€‚\nåœ¨IOæ¥å£ä¸­ï¼š\næ•°æ®çº¿ï¼šå¯ä»¥ä¼ è¾“IOæ¥å£ä¸­çš„å‘½ä»¤å­—ã€çŠ¶æ€å­—ã€ä¸­æ–­ç±»å‹å·ï¼Œåœ¨æ¥å£ä¸­çš„æ•°æ®ç¼“å†²å¯„å­˜å™¨ã€å†…å­˜ã€CPUä¸­çš„å¯„å­˜å™¨ä¹‹é—´è¿›è¡Œæ•°æ®ä¼ é€ã€‚**ï¼ˆå¯åŒå‘ä¼ è¾“ï¼‰**åŒæ—¶æ¥å£å’Œè®¾å¤‡çš„çŠ¶æ€ä¿¡æ¯è¢«è®°å½•åœ¨çŠ¶æ€å¯„å­˜å™¨ä¸­ï¼Œé€šè¿‡æ•°æ®çº¿å°†çŠ¶æ€ä¿¡æ¯é€åˆ° CPUã€‚CPU å¯¹å¤–è®¾çš„æ§åˆ¶å‘½ä»¤ä¹Ÿé€šè¿‡æ•°æ®çº¿ä¼ é€ã€‚ åœ°å€çº¿ï¼šæ¥å£ä¸­çš„åœ°å€çº¿ç”¨äºç»™å‡ºè¦è®¿é—®çš„ I/O æ¥å£ä¸­çš„å¯„å­˜å™¨çš„åœ°å€ï¼Œå®ƒå’Œè¯»/å†™æ§åˆ¶ä¿¡å·ä¸€èµ·è¢«é€åˆ° I/O æ¥å£çš„æ§åˆ¶é€»è¾‘éƒ¨ä»¶ã€‚(åªèƒ½å•å‘) æ§åˆ¶çº¿ï¼šé€šè¿‡æ§åˆ¶çº¿ä¼ é€æ¥çš„è¯»/å†™ä¿¡å·ç¡®è®¤æ˜¯è¯»å¯„å­˜å™¨è¿˜æ˜¯å†™å¯„å­˜å™¨ï¼Œæ­¤å¤–æ§åˆ¶çº¿è¿˜ä¼šä¼ é€ä¸€äº›ä»²è£ä¿¡å·å’Œæ¡æ‰‹ä¿¡å·ã€‚ï¼ˆåªèƒ½å•å‘ï¼‰ ä¸­æ–­å¤„ç†å’Œå­ç¨‹åºè°ƒç”¨çš„åŒºåˆ« è§¦å‘æ–¹å¼ï¼š\nä¸­æ–­å¤„ç†ï¼šä¸­æ–­æ˜¯ç”±ç¡¬ä»¶æˆ–å¤–éƒ¨äº‹ä»¶è§¦å‘çš„ã€‚å½“å‘ç”Ÿäº†æŸä¸ªé¢„å®šä¹‰çš„äº‹ä»¶ï¼ˆå¦‚è®¾å¤‡è¾“å…¥ã€æ—¶é’Ÿå‘¨æœŸç­‰ï¼‰ï¼Œç¡¬ä»¶ä¼šæš‚åœå½“å‰ç¨‹åºçš„æ‰§è¡Œï¼Œå¹¶è·³è½¬åˆ°ç›¸åº”çš„ä¸­æ–­å¤„ç†ç¨‹åºä¸­æ‰§è¡Œã€‚\nå­ç¨‹åºè°ƒç”¨ï¼šå­ç¨‹åºè°ƒç”¨æ˜¯ç”±ç¨‹åºå†…éƒ¨é€šè¿‡è½¯ä»¶æŒ‡ä»¤æ¥è§¦å‘çš„ã€‚ç¨‹åºä¼šé€šè¿‡è°ƒç”¨æŒ‡ä»¤è·³è½¬åˆ°æŒ‡å®šçš„å­ç¨‹åºä¸­æ‰§è¡Œï¼Œæ‰§è¡Œå®Œåå†è¿”å›åˆ°åŸæ¥çš„ç¨‹åºã€‚\nä¸Šä¸‹æ–‡åˆ‡æ¢ï¼š\nä¸­æ–­å¤„ç†ï¼šä¸­æ–­å¤„ç†æ¶‰åŠåˆ°ä»ç”¨æˆ·æ€åˆ‡æ¢åˆ°å†…æ ¸æ€ï¼Œç„¶åå†è¿”å›ç”¨æˆ·æ€çš„è¿‡ç¨‹ã€‚è¿™æ¶‰åŠåˆ°ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿçš„æ”¯æŒï¼Œéœ€è¦ä¿å­˜å’Œæ¢å¤ç›¸åº”çš„å¯„å­˜å™¨å’ŒçŠ¶æ€ï¼Œå¦‚æ–­ç‚¹ï¼ˆPCï¼‰ã€ç¨‹åºçŠ¶æ€å­—å¯„å­˜å™¨ï¼ˆPSWï¼‰ã€‚ï¼ˆä¸­æ–­å¤„ç†ä¸­æœ€é‡è¦çš„ä¸¤ä¸ªå¯„å­˜å™¨ï¼‰\nå­ç¨‹åºè°ƒç”¨ï¼šå­ç¨‹åºè°ƒç”¨æ˜¯åœ¨åŒä¸€ç¨‹åºæ‰§è¡Œæµä¸­å®Œæˆçš„ï¼Œæ²¡æœ‰æ¶‰åŠåˆ°ä»ç”¨æˆ·æ€åˆ°å†…æ ¸æ€çš„åˆ‡æ¢ã€‚å› æ­¤ï¼Œå®ƒæ¯”ä¸­æ–­å¤„ç†çš„ä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€è¦å°ï¼Œåªéœ€è¦ä¿å­˜ç¨‹åºæ–­ç‚¹ã€‚\nå¼‚æ­¥æ€§è´¨ï¼š\nä¸­æ–­å¤„ç†ï¼šä¸­æ–­æ˜¯å¼‚æ­¥çš„ï¼Œå®ƒå¯ä»¥éšæ—¶å‘ç”Ÿå¹¶æ‰“æ–­å½“å‰çš„ç¨‹åºæ‰§è¡Œã€‚å› æ­¤ï¼Œä¸­æ–­å¤„ç†å¿…é¡»èƒ½å¤Ÿå¤„ç†ä¸å¯é¢„çŸ¥çš„äº‹ä»¶ã€‚\nå­ç¨‹åºè°ƒç”¨ï¼šå­ç¨‹åºè°ƒç”¨æ˜¯åŒæ­¥çš„ï¼Œå®ƒæ˜¯ç”±ç¨‹åºå†…éƒ¨æ˜ç¡®åœ°å‘èµ·çš„ï¼Œæ‰§è¡Œå®Œå­ç¨‹åºåä¼šç»§ç»­æ‰§è¡Œåç»­çš„æŒ‡ä»¤ã€‚\næƒé™çº§åˆ«ï¼š\nä¸­æ–­å¤„ç†ï¼šä¸­æ–­å¤„ç†é€šå¸¸éœ€è¦åœ¨å†…æ ¸æ€æ‰§è¡Œã€‚\nå­ç¨‹åºè°ƒç”¨ï¼šå­ç¨‹åºå¯ä»¥åœ¨ç”¨æˆ·æ€æˆ–å†…æ ¸æ€ä¸­æ‰§è¡Œï¼Œå…·ä½“å–å†³äºç¨‹åºçš„æƒé™å’Œéœ€è¦ã€‚\nç‰©ç†æ¥å£å„ä¸ªç‰¹æ€§çš„åŠŸèƒ½ æœºæ¢°ç‰¹æ€§ï¼šæŒ‡æ˜æ¥å£æ‰€ç”¨æ¥çº¿å™¨çš„å½¢çŠ¶å’Œå°ºå¯¸ã€å¼•è„šæ•°ç›®å’Œæ’åˆ—ã€å›ºå®šå’Œé”å®šè£…ç½®ç­‰ã€‚ ç”µæ°”ç‰¹æ€§ï¼šæŒ‡æ˜åœ¨æ¥å£ç”µç¼†çš„å„æ¡çº¿ä¸Šå‡ºç°çš„ç”µå‹çš„èŒƒå›´ã€‚ åŠŸèƒ½ç‰¹æ€§ï¼šæŒ‡æ˜æŸæ¡çº¿ä¸Šå‡ºç°çš„æŸä¸€ç”µå¹³çš„ç”µå‹è¡¨ç¤ºä½•ç§æ„ä¹‰ã€‚ è¿‡ç¨‹ç‰¹æ€§ï¼šæˆ–ç§°è§„ç¨‹ç‰¹æ€§ã€‚æŒ‡æ˜å¯¹äºä¸åŒåŠŸèƒ½çš„å„ç§å¯èƒ½äº‹ä»¶çš„å‡ºç°é¡ºåºã€‚ åè®®çš„ä¸‰éƒ¨åˆ† åè®®ç”±è¯­æ³•ã€è¯­ä¹‰å’ŒåŒæ­¥ä¸‰éƒ¨åˆ†ç»„æˆã€‚\nè¯­æ³•è§„å®šäº†ä¼ è¾“æ•°æ®çš„æ ¼å¼ï¼› è¯­ä¹‰è§„å®šäº†æ‰€è¦å®Œæˆçš„åŠŸèƒ½ï¼Œå³éœ€è¦å‘å‡ºä½•ç§æ§åˆ¶ä¿¡æ¯ã€å®Œæˆä½•ç§åŠ¨ä½œåŠåšå‡ºä½•ç§åº”ç­”ï¼› åŒæ­¥è§„å®šäº†æ‰§è¡Œå„ç§æ“ä½œçš„æ¡ä»¶ã€æ—¶åºå…³ç³»ç­‰ï¼Œå³äº‹ä»¶å®ç°é¡ºåºçš„è¯¦ç»†è¯´æ˜ã€‚ ä¸€ä¸ªå®Œæ•´çš„åè®®é€šå¸¸åº”å…·æœ‰çº¿è·¯ç®¡ç†ï¼ˆå»ºç«‹ã€é‡Šæ”¾è¿æ¥ï¼‰ã€å·®é”™æ§åˆ¶ã€æ•°æ®è½¬æ¢ç­‰åŠŸèƒ½ã€‚åè®®å¹¶ä¸å…³å¿ƒå…·ä½“å¦‚ä½•å®ç°ï¼Œåªè¦æ±‚å®ç°ä»€ä¹ˆåŠŸèƒ½ã€‚\nè·¯ç”±å™¨çš„åŠŸèƒ½ å„å±‚åè®®æœ‰æ— è¿æ¥ã€å¯ä¸å¯é ï¼Ÿ æ•°æ®é“¾è·¯å±‚ï¼š\nä»¥å¤ªç½‘çš„MACåè®®æä¾›çš„æ˜¯æ— è¿æ¥ä¸å¯é æœåŠ¡ï¼šè€ƒè™‘åˆ°å±€åŸŸç½‘ä¿¡é“è´¨é‡å¥½ï¼Œä»¥å¤ªç½‘é‡‡å–äº†ä¸¤é¡¹é‡è¦çš„æªæ–½ä»¥ä½¿é€šä¿¡æ›´ç®€ä¾¿ï¼šé‡‡ç”¨æ— è¿æ¥çš„å·¥ä½œæ–¹å¼ï¼›ä¸å¯¹å‘é€çš„æ•°æ®å¸§è¿›è¡Œç¼–å·ï¼Œä¹Ÿä¸è¦æ±‚å¯¹æ–¹å‘å›ç¡®è®¤ã€‚å› æ­¤ï¼Œä»¥å¤ªç½‘æä¾›çš„æœåŠ¡æ˜¯ä¸å¯é çš„æœåŠ¡ï¼Œå³å°½æœ€å¤§åŠªåŠ›çš„äº¤ä»˜ã€‚å·®é”™çš„çº æ­£ç”±é«˜å±‚å®Œæˆã€‚ æ— çº¿å±€åŸŸç½‘çš„MACåè®®æä¾›çš„æ˜¯æ— è¿æ¥å¯é æœåŠ¡ï¼šå¹¶æ²¡æœ‰â€œæ¡æ‰‹â€çš„è¿‡ç¨‹ï¼Œå³ä¼ è¾“æ•°æ®ä¹‹å‰å¹¶æ²¡æœ‰è¿æ¥ã€‚ ç½‘ç»œå±‚ï¼š\nIPåè®®æä¾›çš„æ˜¯æ— è¿æ¥ä¸å¯é æœåŠ¡ï¼šIPåè®®ä¸éœ€è¦åœ¨ä¼ è¾“æ•°æ®å‰å»ºç«‹è¿æ¥ï¼Œä¹Ÿä¸éœ€è¦åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¿æŒè¿æ¥çŠ¶æ€ã€‚æ¯ä¸ªIPæ•°æ®åŒ…éƒ½æ˜¯ç‹¬ç«‹ä¼ è¾“çš„ï¼Œå®ƒä»¬ä¹‹é—´æ²¡æœ‰ç›´æ¥çš„å…³è”ã€‚IPæ•°æ®åŒ…çš„ä¼ è¾“æ˜¯ä¸å¯é çš„ï¼Œè¿™æ„å‘³ç€å®ƒä»¬å¯èƒ½ä¼šä¸¢å¤±ã€å»¶è¿Ÿã€é‡å¤æˆ–è€…ä¹±åºã€‚IPåè®®ä¸æä¾›ä»»ä½•æœºåˆ¶æ¥ä¿è¯æ•°æ®çš„å¯é æ€§ï¼Œä¹Ÿä¸è´Ÿè´£å¤„ç†ä¸¢å¤±çš„æ•°æ®åŒ…ã€‚ ä¼ è¾“å±‚ï¼š\nTCPåè®®æä¾›çš„æ˜¯æœ‰è¿æ¥å¯é æœåŠ¡ï¼šé€šè¿‡åºå·ã€ç¡®è®¤ã€é‡ä¼ ç­‰æœºåˆ¶æ¥ä¿è¯æ•°æ®çš„å®Œæ•´æ€§å’Œæœ‰åºæ€§ã€‚ UDPåè®®æä¾›çš„æ˜¯æ— è¿æ¥ä¸å¯é æœåŠ¡ï¼šå°†æ•°æ®åˆ†å‰²æˆæŠ¥æ–‡æ®µï¼Œå¹¶å°†æŠ¥æ–‡æ®µå‘é€åˆ°ç›®æ ‡ï¼Œæ— éœ€å»ºç«‹è¿æ¥æˆ–ç»´æŠ¤ä¼šè¯çŠ¶æ€ã€‚ä½†æ˜¯å¯ä»¥é€šè¿‡åœ¨åº”ç”¨å±‚å®ç°è‡ªå®šä¹‰çš„å¯é æ€§æœºåˆ¶ï¼Œä½¿å¾—UDPçš„é€šä¿¡å˜å¾—å¯é ã€‚ IPé¦–éƒ¨å„å­—æ®µæ„ä¹‰ åè®®Aç›´æ¥ä¸ºåè®®Bæä¾›æœåŠ¡ åè®®A åè®®B TCP BGP IP OSPF UDP RIP IP ICMP IP TCP IP UDP UDP DNS TCP HTTP TCP SMTP TCP POP3 IP IGMP TCP FTP 13å¹´ æœ€ä½³å½’å¹¶æ ‘ æœ‰nä¸ªåˆå§‹å½’å¹¶æ®µï¼Œéœ€è¦åškè·¯å¹³è¡¡å½’å¹¶æ’åºï¼Œå¯ä»¥æ ¹æ®å“ˆå¤«æ›¼æ ‘çš„æ€æƒ³æ¥ä¼˜åŒ–WPLã€‚\nRAIDç›¸å…³çŸ¥è¯† RAID0æ–¹æ¡ˆæ˜¯æ— å†—ä½™å’Œæ— æ ¡éªŒçš„ç£ç›˜é˜µåˆ—ï¼Œè€ŒRAID1-5æ–¹æ¡ˆå‡æ˜¯åŠ å…¥äº†å†—ä½™ï¼ˆé•œåƒï¼‰æˆ–æ ¡éªŒçš„ç£ç›˜é˜µåˆ—ã€‚èƒ½å¤Ÿæé«˜ RAID å¯é æ€§çš„æªæ–½ä¸»è¦æ˜¯å¯¹ç£ç›˜è¿›è¡Œé•œåƒå¤„ç†å’Œå¥‡å¶æ ¡éªŒã€‚\næ¡å¸¦åŒ–æŠ€æœ¯æ˜¯ä¸€ç§è‡ªåŠ¨åœ°å°†I/Oçš„è´Ÿè½½å‡è¡¡åˆ°å¤šä¸ªç‰©ç†ç£ç›˜ä¸Šçš„æŠ€æœ¯ã€‚æ¡å¸¦åŒ–æŠ€æœ¯å°±æ˜¯å°†ä¸€å—è¿ç»­çš„æ•°æ®åˆ†æˆå¾ˆå¤šå°éƒ¨åˆ†å¹¶æŠŠå®ƒä»¬åˆ†åˆ«å­˜å‚¨åˆ°ä¸åŒç£ç›˜ä¸Šå»ã€‚è¿™å°±èƒ½ä½¿å¤šä¸ªè¿›ç¨‹åŒæ—¶è®¿é—®æ•°æ®çš„å¤šä¸ªä¸åŒéƒ¨åˆ†ä½†ä¸ä¼šé€ æˆç£ç›˜å†²çªï¼Œè€Œä¸”åœ¨éœ€è¦å¯¹è¿™ç§æ•°æ®è¿›è¡Œé¡ºåºè®¿é—®çš„æ—¶å€™å¯ä»¥è·å¾—æœ€å¤§ç¨‹åº¦ä¸Šçš„I/Oå¹¶è¡Œèƒ½åŠ›ï¼Œä»è€Œè·å¾—éå¸¸å¥½çš„æ€§èƒ½ã€‚\nä¸­æ–­I/Oæ–¹å¼å’ŒDMAæ–¹å¼çš„æ¯”è¾ƒ ä¸­æ–­å¤„ç†æ–¹å¼ï¼š åœ¨è®¾å¤‡è¾“å…¥æ¯ä¸ªæ•°æ®çš„è¿‡ç¨‹ä¸­ï¼Œç”±äºæ— é¡» CPU å¹²é¢„ï¼Œå› è€Œå¯ä½¿CPUä¸I/Oè®¾å¤‡å¹¶è¡Œå·¥ä½œã€‚ä»…å½“è¾“å®Œä¸€ä¸ªæ•°æ®æ—¶ï¼Œæ‰éœ€ CPU èŠ±è´¹æçŸ­çš„æ—¶é—´å»åšäº›ä¸­æ–­å¤„ç†ï¼Œå› æ­¤ä¸­æ–­ç”³è¯·ä½¿ç”¨çš„æ˜¯ CPU å¤„ç†æ—¶é—´ï¼› ä¸­æ–­å“åº”å‘ç”Ÿçš„æ—¶é—´æ˜¯åœ¨ä¸€æ¡æŒ‡ä»¤æ‰§è¡Œç»“æŸä¹‹åï¼› æ•°æ®æ˜¯åœ¨è½¯ä»¶ï¼ˆä¸­æ–­æœåŠ¡ç¨‹åºï¼‰çš„æ§åˆ¶ä¸‹å®Œæˆä¼ é€çš„ã€‚ DMAæ–¹å¼ï¼š æ•°æ®ä¼ è¾“çš„åŸºæœ¬å•ä½æ˜¯æ•°æ®å—ï¼› æ¯ä¸ªæ•°æ®å—ä¼ é€å®Œæ¯•æ—¶ï¼Œéƒ½ä¼šå‘ç”ŸDMAè¯·æ±‚ï¼ŒDMAè¯·æ±‚æ¯æ¬¡ç”³è¯·çš„æ˜¯æ€»çº¿çš„ä½¿ç”¨æƒï¼Œæ‰€ä¼ é€çš„æ•°æ®æ˜¯ä»è®¾å¤‡ç›´æ¥é€å…¥å†…å­˜çš„ï¼Œæˆ–è€…ç›¸åï¼› ä»…åœ¨ä¼ é€ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®å—çš„å¼€å§‹å’Œç»“æŸæ—¶ï¼Œæ‰éœ€ CPU å¹²é¢„ï¼Œæ•´å—æ•°æ®çš„ä¼ é€æ˜¯åœ¨ç¡¬ä»¶ï¼ˆDMAæ§åˆ¶å™¨ï¼‰çš„æ§åˆ¶ä¸‹å®Œæˆçš„ã€‚ IOå¯†é›†å‹çš„è¿›ç¨‹å’Œè®¡ç®—å¯†é›†å‹çš„è¿›ç¨‹ä¼˜å…ˆçº§ å½“ç³»ç»Ÿä¸­å­˜åœ¨å¤§é‡IOå¯†é›†å‹ä»»åŠ¡æ—¶ï¼Œä¼˜å…ˆå¤„ç†è¿™ç±»ä»»åŠ¡å¯ä»¥å‡å°‘IOç­‰å¾…æ—¶é—´ï¼Œæé«˜IOè®¾å¤‡çš„åˆ©ç”¨ç‡ï¼ŒåŒæ—¶å¯ä»¥å……åˆ†åˆ©ç”¨CPUèµ„æºç­‰å¾…IOæ“ä½œå®Œæˆã€‚\næ“ä½œç³»ç»Ÿçš„åŠ è½½ æ“ä½œç³»ç»Ÿæœ€ç»ˆè¢«åŠ è½½åˆ°RAMä¸­ã€‚\né¢„é˜²æ­»é”ã€é¿å…æ­»é”çš„åŒºåˆ« é¢„é˜²æ­»é”ï¼šé¢„é˜²æ­»é”çš„æ–¹æ³•æ˜¯åœ¨è®¾è®¡é˜¶æ®µå°±é‡‡å–æªæ–½ï¼Œä½¿å¾—ç³»ç»Ÿä¸ä¼šå‘ç”Ÿæ­»é”ã€‚è¿™ç§æ–¹æ³•ä¸»è¦é€šè¿‡ç ´åæ­»é”äº§ç”Ÿçš„å››ä¸ªå¿…è¦æ¡ä»¶ï¼ˆäº’æ–¥è®¿é—®ã€ä¸å¯å‰¥å¤ºã€è¯·æ±‚å’Œä¿æŒã€å¾ªç¯ç­‰å¾…ï¼‰æ¥å®ç°ã€‚é¢„é˜²æ­»é”æ˜¯ä¸€ç§é™æ€çš„ã€å…¨å±€çš„ç­–ç•¥ï¼Œéœ€è¦åœ¨ç³»ç»Ÿè®¾è®¡å’Œå®æ–½é˜¶æ®µè¿›è¡Œè€ƒè™‘å’Œå®æ–½ã€‚ é¿å…æ­»é”ï¼šé¿å…æ­»é”æ˜¯åœ¨ç³»ç»Ÿè¿è¡Œæ—¶æ ¹æ®è¿›ç¨‹çš„åŠ¨æ€è¡Œä¸ºæ¥é¿å…æ­»é”çš„å‘ç”Ÿã€‚è¿™ç§æ–¹æ³•ä¼šé€šè¿‡å¯¹èµ„æºçš„åˆç†åˆ†é…å’Œé‡Šæ”¾ï¼ˆå¦‚é“¶è¡Œå®¶ç®—æ³•ï¼‰æ¥é¿å…è¿›å…¥æ­»é”çŠ¶æ€ã€‚é¿å…æ­»é”æ˜¯ä¸€ç§åŠ¨æ€çš„ã€å±€éƒ¨çš„ç­–ç•¥ï¼Œæ ¹æ®å½“å‰ç³»ç»ŸçŠ¶æ€æ¥è¿›è¡Œåˆ¤æ–­å’Œå¤„ç†ã€‚ ç‰©ç†å±‚åŸºå¸¦ä¼ è¾“ä¿¡å· å›¾æºã€Šé€šä¿¡åŸç†ã€‹ï¼ˆæ¨Šæ˜Œä¿¡\u0026ndash;ç¬¬å…­ç‰ˆï¼‰\n(a) å•ææ€§éå½’é›¶ç¼–ç \n(b) åŒææ€§éå½’é›¶ç¼–ç \n(c) å•ææ€§å½’é›¶ç¼–ç \n(d) åŒææ€§å½’é›¶ç¼–ç \n(e) å·®åˆ†ç¼–ç \nå›¾æºç‹é“ã€Šè®¡ç®—æœºç½‘ç»œè€ƒç ”å¤ä¹ æŒ‡å¯¼ã€‹\nä»¥å¤ªç½‘ä½¿ç”¨çš„ç¼–ç æ–¹å¼å°±æ˜¯æ›¼å½»æ–¯ç‰¹ç¼–ç \nSMTPåè®® 14å¹´ æŒ‡ä»¤cacheä¸æ•°æ®cacheåˆ†ç¦»çš„ä¸»è¦ç›®çš„ å¯ä»¥å‡å°‘æŒ‡ä»¤æµæ°´çº¿èµ„æºå†²çªã€‚å¦‚ä¸€ä¸ªè¿›ç¨‹åœ¨å–æŒ‡ä»¤æ—¶ï¼Œå¦ä¸€æ¡æŒ‡ä»¤å¯ä»¥åŒæ—¶å–æ•°æ®ã€‚\nç®¡é“é€šä¿¡çš„å®šä¹‰ã€ç‰¹ç‚¹ **ç®¡é“æ˜¯é©»ç•™åœ¨å†…å­˜ä¸­çš„ä¼ªæ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨æ ‡å‡†æ–‡ä»¶å‡½æ•°å¯¹å…¶è¿›è¡Œè®¿é—®ã€‚**ä¸ç£ç›˜æ–‡ä»¶ä¸åŒï¼Œå®ƒæ˜¯ä¸´æ—¶çš„ï¼Œä¸”å¹¶ä¸å ç”¨ç£ç›˜æˆ–è€…å…¶ä»–å¤–éƒ¨å­˜å‚¨çš„ç©ºé—´ï¼Œè€Œæ˜¯å ç”¨å†…å­˜ç©ºé—´ã€‚Linuxç³»ç»Ÿç›´æ¥æŠŠç®¡é“å®ç°æˆäº†ä¸€ç§æ–‡ä»¶ç³»ç»Ÿï¼Œå€ŸåŠ©VFSç»™åº”ç”¨ç¨‹åºæä¾›æ“ä½œæ¥å£ã€‚æ‰€ä»¥ï¼ŒLinuxä¸Šçš„ç®¡é“å°±æ˜¯ä¸€ä¸ªæ“ä½œæ–¹å¼ä¸ºæ–‡ä»¶çš„å†…å­˜ç¼“å†²åŒºã€‚ ç®¡é“çš„å®¹é‡å¤§å°é€šå¸¸ä¸ºå†…å­˜ä¸Šçš„ä¸€é¡µï¼Œå®ƒçš„å¤§å°å¹¶ä¸æ˜¯å—ç£ç›˜å®¹é‡å¤§å°çš„é™åˆ¶ã€‚ å®ƒå¸¸ç”¨äºçˆ¶å­è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ã€‚ç±»ä¼¼äºé€šä¿¡ä¸­åŠåŒå·¥ä¿¡é“çš„è¿›ç¨‹é€šä¿¡æœºåˆ¶ï¼Œä¸€ä¸ªç®¡é“åŒä¸€ä¸ªæ—¶åˆ»åªèƒ½æœ€å¤šæœ‰ä¸€ä¸ªæ–¹å‘çš„ä¼ è¾“ï¼Œä¸èƒ½ä¸¤ä¸ªæ–¹å‘åŒæ—¶è¿›è¡Œã€‚è‹¥è¦å®ç°çˆ¶å­è¿›ç¨‹åŒå‘é€šä¿¡ï¼Œåˆ™éœ€è¦å®šä¹‰ä¸¤ä¸ªç®¡é“ã€‚ ä¸€ä¸ªè¿›ç¨‹å¯ä»¥å‘ç®¡é“å†™å…¥æ•°æ®ï¼Œå¦ä¸€ä¸ªè¿›ç¨‹å¯ä»¥åŒæ—¶ä»ç®¡é“è¯»å–æ•°æ®ã€‚å½“ç®¡é“æ»¡æ—¶ï¼Œè¿›ç¨‹åœ¨å†™ç®¡é“ä¼šè¢«é˜»å¡ï¼Œè€Œå½“ç®¡é“ç©ºæ—¶ï¼Œè¿›ç¨‹åœ¨è¯»ç®¡é“ä¼šè¢«é˜»å¡ã€‚ ä»ç®¡é“è¯»æ•°æ®æ˜¯ä¸€æ¬¡æ€§æ“ä½œï¼Œæ•°æ®ä¸€æ—¦è¢«è¯»å–ï¼Œå°±é‡Šæ”¾ç©ºé—´ä»¥ä¾¿å†™æ›´å¤šæ•°æ®ã€‚ å…³äºç®¡é“ä¸æ˜¯æ–‡ä»¶è¿™ä¸€ç‚¹ï¼Œå‚è€ƒçŸ¥ä¹æ–‡ç« Linux çš„è¿›ç¨‹é—´é€šä¿¡ï¼šç®¡é“ä»¥åŠWindowsåº”ç”¨å¼€å‘\näº¤æ¢åŒºå’Œå†…å­˜æ˜ å°„ å†…å­˜æ˜ å°„å’Œäº¤æ¢åŒºï¼ˆSwapï¼‰éƒ½æ˜¯æ“ä½œç³»ç»Ÿä¸­ç”¨äºç®¡ç†å†…å­˜çš„é‡è¦æœºåˆ¶ï¼Œä½†å®ƒä»¬æœ‰ç€ä¸åŒçš„ä½œç”¨å’Œå®ç°æ–¹å¼ã€‚\nå†…å­˜æ˜ å°„ï¼š\nä½œç”¨ï¼šå†…å­˜æ˜ å°„æ˜¯ä¸€ç§å°†ç£ç›˜ä¸Šçš„æ–‡ä»¶æˆ–è®¾å¤‡æ˜ å°„åˆ°è¿›ç¨‹çš„åœ°å€ç©ºé—´ä¸­çš„æœºåˆ¶ã€‚å®ƒå…è®¸ç¨‹åºç›´æ¥è®¿é—®ç£ç›˜ä¸Šçš„æ–‡ä»¶ï¼Œè€Œæ— éœ€é€šè¿‡å¸¸è§„çš„æ–‡ä»¶è¯»å†™æ“ä½œã€‚é€šè¿‡å†…å­˜æ˜ å°„ï¼Œç¨‹åºå¯ä»¥å°†æ–‡ä»¶çš„å†…å®¹è§†ä¸ºå†…å­˜ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œä»è€Œå®ç°å¯¹æ–‡ä»¶çš„é«˜æ•ˆè®¿é—®ã€‚\nå®ç°ï¼šå†…å­˜æ˜ å°„æ˜¯é€šè¿‡å°†ç£ç›˜æ–‡ä»¶çš„æŸä¸ªåŒºåŸŸæ˜ å°„åˆ°è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´ä¸­ï¼Œä»è€Œè®©ç¨‹åºå¯ä»¥ç›´æ¥è¯»å†™è¿™å—åŒºåŸŸçš„å†…å®¹ã€‚åœ¨æŸç§ç¨‹åº¦ä¸Šï¼Œå†…å­˜æ˜ å°„å¯ä»¥çœ‹ä½œæ˜¯æ–‡ä»¶å’Œå†…å­˜ä¹‹é—´çš„ä¸€ä¸ªé€æ˜çš„æ¥å£ã€‚\näº¤æ¢åŒºï¼š\nä½œç”¨ï¼šäº¤æ¢åŒºæ˜¯ä¸€å—ç¡¬ç›˜ç©ºé—´ï¼Œç”¨äºæš‚æ—¶å­˜å‚¨åœ¨ç‰©ç†å†…å­˜ä¸­æš‚æ—¶ä¸æ´»è·ƒçš„æ•°æ®å’Œç¨‹åºã€‚å½“ç‰©ç†å†…å­˜ä¸è¶³ä»¥å®¹çº³å½“å‰è¿è¡Œçš„ç¨‹åºå’Œæ•°æ®æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šå°†ä¸€éƒ¨åˆ†æ•°æ®ç§»åˆ°äº¤æ¢åŒºä¸­ï¼Œä»è€Œé‡Šæ”¾å‡ºç‰©ç†å†…å­˜ã€‚\nå®ç°ï¼šäº¤æ¢åŒºæ˜¯ä¸€å—ç¡¬ç›˜æˆ–è€…å›ºæ€ç¡¬ç›˜çš„ç©ºé—´ï¼Œå®ƒç”¨äºä½œä¸ºç‰©ç†å†…å­˜çš„æ‰©å±•ã€‚å½“ç³»ç»Ÿéœ€è¦é‡Šæ”¾ç‰©ç†å†…å­˜æ—¶ï¼Œå®ƒä¼šå°†éƒ¨åˆ†ä¸æ´»åŠ¨çš„æ•°æ®å’Œç¨‹åºå†™å…¥åˆ°äº¤æ¢åŒºä¸­ã€‚å½“éœ€è¦æ—¶ï¼Œå¯ä»¥å°†äº¤æ¢åŒºä¸­çš„æ•°æ®é‡æ–°è¯»å–åˆ°ç‰©ç†å†…å­˜ä¸­ã€‚\nåŒºåˆ«ï¼š\nä½œç”¨ä¸åŒï¼šå†…å­˜æ˜ å°„ä¸»è¦ç”¨äºå®ç°æ–‡ä»¶å’Œå†…å­˜ä¹‹é—´çš„é«˜æ•ˆè®¿é—®ï¼Œè€Œäº¤æ¢åŒºç”¨äºåœ¨ç‰©ç†å†…å­˜ä¸è¶³æ—¶æš‚å­˜æ•°æ®ã€‚\nå®ç°æ–¹å¼ä¸åŒï¼šå†…å­˜æ˜ å°„æ˜¯é€šè¿‡å°†æ–‡ä»¶æˆ–è®¾å¤‡æ˜ å°„åˆ°è¿›ç¨‹çš„åœ°å€ç©ºé—´ä¸­å®ç°çš„ï¼Œè€Œäº¤æ¢åŒºæ˜¯é€šè¿‡å°†éƒ¨åˆ†ä¸æ´»åŠ¨çš„æ•°æ®å†™å…¥åˆ°ç¡¬ç›˜ç©ºé—´ä¸­å®ç°çš„ã€‚\né€‚ç”¨åœºæ™¯ä¸åŒï¼šå†…å­˜æ˜ å°„é€‚ç”¨äºéœ€è¦é¢‘ç¹è®¿é—®æ–‡ä»¶å†…å®¹çš„åœºæ™¯ï¼Œè€Œäº¤æ¢åŒºæ˜¯ç”¨äºè§£å†³ç‰©ç†å†…å­˜ä¸è¶³çš„é—®é¢˜ã€‚\nè™šæ‹Ÿå†…å­˜ = ç‰©ç†å†…å­˜ + äº¤æ¢åŒºå¤§å° + å†…å­˜æ˜ å°„\nç ç‰‡ UDPåè®®çš„ç‰¹ç‚¹ 15å¹´ å¡ç‰¹å…°æ•° $\\frac{1}{n+1}C^n_{2n}$\nä¾‹å¦‚ï¼Œnä¸ªä¸åŒçš„å…ƒç´ è¿›æ ˆï¼Œå‡ºæ ˆå…ƒç´ ä¸åŒæ’åˆ—çš„ä¸ªæ•°ä¸º$\\frac{1}{n+1}C^n_{2n}$\nä¾‹å¦‚ï¼Œæ±‚å…ˆåºåºåˆ—ä¸ºabcdçš„ä¸åŒäºŒå‰æ ‘çš„ä¸ªæ•°ä¹Ÿå¯ä»¥åˆ©ç”¨æ­¤è§£æ³•ï¼š\næ ¹æ®äºŒå‰æ ‘å‰åºéå†å’Œä¸­åºéå†çš„é€’å½’ç®—æ³•ä¸­é€’å½’å·¥ä½œæ ˆçš„çŠ¶æ€å˜åŒ–å¾—å‡ºï¼šå‰åºåºåˆ—å’Œä¸­åºåºåˆ—çš„å…³ç³»ç›¸å½“äºä»¥å‰åºåºåˆ—ä¸ºå…¥æ ˆæ¬¡åºï¼Œä»¥ä¸­åºåºåˆ—ä¸ºå‡ºæ ˆæ¬¡åºã€‚å› ä¸ºå‰åºåºåˆ—å’Œä¸­åºåºåˆ—å¯ä»¥å”¯ä¸€åœ°ç¡®å®šä¸€æ£µäºŒå‰æ ‘ï¼Œæ‰€ä»¥é¢˜æ„ç›¸å½“äºâ€œä»¥åºåˆ—abcdä¸ºå…¥æ ˆæ¬¡åºï¼Œåˆ™å‡ºæ ˆåºåˆ—çš„ä¸ªæ•°ä¸ºå¤šå°‘â€ï¼Œå¯¹äºnä¸ªä¸åŒå…ƒç´ è¿›æ ˆï¼Œå‡ºæ ˆåºåˆ—çš„ä¸ªæ•°ä¸ºå¡ç‰¹å…°æ•°ã€‚\nå †è°ƒæ•´æ—¶çš„æ¯”è¾ƒæ¬¡æ•° ä¾‹å¦‚ï¼Œå¯¹äºå¤§æ ¹å †ï¼š\nè°ƒæ•´ä¹±åºåˆå§‹å †ï¼šä»å…¨éƒ¨ç»“ç‚¹çš„ä¸€åŠå¤„n/2ï¼Œå¼€å§‹è°ƒæ•´ï¼š è°ƒæ•´iåŠå…¶å­æ ‘ï¼šå‘ä¸‹è°ƒæ•´ï¼šéœ€è¦å…ˆä¸¤ä¸ªå­©å­è¿›è¡Œæ¯”è¾ƒï¼Œå†å’Œè¾ƒå¤§è€…è¿›è¡Œäº¤æ¢ï¼› i\u0026ndash;ï¼šå¯¹å·¦å…„å¼Ÿç»“ç‚¹æˆ–çˆ¶ç»“ç‚¹è¿›è¡Œè°ƒæ•´ï¼Œé‡å¤ä¸Šä¸€æ­¥ã€‚ æ’å…¥èŠ‚ç‚¹åï¼šè‡ªåº•å‘ä¸Šæ¯”è¾ƒè°ƒæ•´ï¼Œæ¯æ¬¡å‘ä¸Šè°ƒæ•´ï¼Œåªéœ€è¦å’Œçˆ¶èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœæ¯”çˆ¶èŠ‚ç‚¹å¤§ï¼Œåˆ™ä¸Šç§»ï¼Œå¦åˆ™ä¸åŠ¨ï¼›è€Œä¸æ˜¯å…ˆå’Œå…„å¼ŸèŠ‚ç‚¹æ¯”è¾ƒè°å¤§ï¼Œå› ä¸ºå…„å¼ŸèŠ‚ç‚¹å¿…å®šæ¯”çˆ¶èŠ‚ç‚¹å°ã€‚ åˆ é™¤èŠ‚ç‚¹åï¼šè‡ªé¡¶å‘ä¸‹æ¯”è¾ƒè°ƒæ•´ï¼Œæ¯æ¬¡ä¸Šä¸‹è°ƒæ•´ï¼Œéœ€è¦å…ˆä¸¤ä¸ªå­©å­è¿›è¡Œæ¯”è¾ƒï¼Œå†å’Œè¾ƒå¤§è€…è¿›è¡Œäº¤æ¢ï¼Œå› ä¸ºæœ¬èŠ‚ç‚¹å’Œä¸¤ä¸ªå­©å­çš„å¤§å°å…³ç³»ã€ä¸¤ä¸ªå­©å­ä¹‹é—´çš„å¤§å°éƒ½æœªçŸ¥ã€‚ æµ®ç‚¹æ•°æº¢å‡ºé—®é¢˜ å¯¹é˜¶æ“ä½œä¸ä¼šå¼•èµ·é˜¶ç ä¸Šæº¢æˆ–ä¸‹æº¢ï¼ˆå°é˜¶å‘å¤§é˜¶å¯¹é½ï¼Œè¿™é‡Œå‰ææ˜¯å°é˜¶èƒ½å¯¹é½åˆ°å¤§é˜¶ï¼Œå¦‚æœå¤§çš„é˜¶æ•°è¶…è¿‡äº†å°é˜¶æ•°çš„é˜¶ç æ‰€èƒ½è¡¨ç¤ºçš„èŒƒå›´ï¼Œé‚£ä¹ˆå¯¹é˜¶æ—¶ä¹Ÿä¼šå‘ç”Ÿæº¢å‡ºï¼‰ï¼› å·¦è§„æ—¶å¯èƒ½å¼•èµ·é˜¶ç ä¸‹æº¢ï¼› å³è§„å’Œå°¾æ•°èˆå…¥ï¼ˆ0èˆ1å…¥æ³•ï¼‰éƒ½å¯èƒ½å¼•èµ·é˜¶ç ä¸Šæº¢ï¼› å°¾æ•°æº¢å‡ºæ—¶ï¼Œç»“æœä¸ä¸€å®šæº¢å‡ºï¼Œå› ä¸ºå°¾æ•°æº¢å‡ºå¯ä»¥é€šè¿‡å³è§„æ“ä½œæ¥çº æ­£ï¼Œç»“æœå¯èƒ½äº§ç”Ÿè¯¯å·®ï¼Œä½†ä¸ä¸€å®šä¼šæº¢å‡ºã€‚ DRAMçš„åˆ·æ–° å¯¹äºROMï¼Œå³ä½¿æ–­ç”µä¿¡æ¯ä¹Ÿä¸ä¼šä¸¢å¤±ã€‚\nå¯¹äºSRAMï¼Œå…¶å­˜å‚¨å…ƒï¼ˆåŒºåˆ«äºå­˜å‚¨å•ä½ï¼‰æ˜¯åŒç¨³æ€è§¦å‘å™¨ï¼ˆå…­æ™¶ä½“ç®¡MOSï¼‰ï¼Œå³ä½¿ä¿¡æ¯è¢«è¯»å‡ºåï¼Œä»ä¿æŒåŸçŠ¶æ€è€Œä¸éœ€è¦å†ç”Ÿï¼ˆéç ´åæ€§è¯»å‡ºï¼‰ã€‚ä½†æ˜¯æ–­ç”µåä¿¡æ¯ä¼šä¸¢å¤±ã€‚\nå¯¹äºDRAMï¼Œå…¶å­˜å‚¨å…ƒé€šå¸¸åªä½¿ç”¨ä¸€ä¸ªæ™¶ä½“ç®¡ã€‚DRAMç”µå®¹ä¸Šçš„ç”µè·ä¸€èˆ¬åªèƒ½ç»´æŒ1~2msï¼Œå³ä½¿ç”µæºä¸æ–­ç”µï¼Œä¿¡æ¯ä¹Ÿä¼šè‡ªåŠ¨æ¶ˆå¤±ï¼Œå› æ­¤å¿…é¡»æ¯éš”ä¸€æ®µæ—¶é—´è¿›è¡Œåˆ·æ–°ï¼Œç§°ä¸ºåˆ·æ–°å‘¨æœŸï¼Œå¸¸è§çš„åˆ·æ–°æ–¹å¼æœ‰3ç§ï¼š\né›†ä¸­åˆ·æ–°ï¼šæŒ‡åœ¨ä¸€ä¸ªåˆ·æ–°å‘¨æœŸå†…ï¼Œåˆ©ç”¨ä¸€æ®µå›ºå®šçš„æ—¶é—´ï¼Œä¾æ¬¡å¯¹å­˜å‚¨å™¨çš„æ‰€æœ‰è¡Œè¿›è¡Œé€ä¸€å†ç”Ÿï¼Œåœ¨æ­¤æœŸé—´åœæ­¢å¯¹å­˜å‚¨å™¨çš„è¯»å†™æ“ä½œï¼Œç§°ä¸ºâ€œæ­»æ—¶é—´â€ï¼Œåˆç§°è®¿å­˜â€œæ­»åŒºâ€ã€‚ä¼˜ç‚¹æ˜¯è¯»å†™æ“ä½œæ—¶ä¸å—åˆ·æ–°å·¥ä½œçš„å½±å“ï¼›ç¼ºç‚¹æ˜¯åœ¨é›†ä¸­åˆ·æ–°æœŸé—´ä¸èƒ½è®¿é—®å­˜å‚¨å™¨ã€‚ åˆ†æ•£åˆ·æ–°ï¼šæŠŠå¯¹æ¯è¡Œçš„åˆ·æ–°åˆ†æ•£åˆ°å„ä¸ªå·¥ä½œå‘¨æœŸä¸­ã€‚è¿™æ ·ï¼Œä¸€ä¸ªå­˜å‚¨å™¨çš„ç³»ç»Ÿå·¥ä½œå‘¨æœŸåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šå‰åŠéƒ¨åˆ†ç”¨äºæ­£å¸¸è¯»ã€å†™æˆ–ä¿æŒï¼›ååŠéƒ¨åˆ†ç”¨äºåˆ·æ–°ã€‚ä¼˜ç‚¹æ˜¯æ²¡æœ‰æ­»åŒºï¼›ç¼ºç‚¹æ˜¯åŠ é•¿äº†ç³»ç»Ÿçš„å­˜å–å‘¨æœŸã€‚ å¼‚æ­¥åˆ·æ–°ï¼šå¼‚æ­¥åˆ·æ–°æ˜¯å‰ä¸¤ç§æ–¹æ³•çš„ç»“åˆã€‚å…·ä½“åšæ³•æ˜¯å°†åˆ·æ–°å‘¨æœŸé™¤ä»¥è¡Œæ•°ï¼Œå¾—åˆ°ä¸¤æ¬¡åˆ·æ–°æ“ä½œä¹‹é—´çš„æ—¶é—´é—´éš”tï¼Œåˆ©ç”¨é€»è¾‘ç”µè·¯æ¯éš”æ—¶é—´täº§ç”Ÿä¸€æ¬¡åˆ·æ–°è¯·æ±‚ã€‚è¿™æ ·å¯ä»¥é¿å…ä½¿CPUè¿ç»­ç­‰å¾…è¿‡é•¿çš„æ—¶é—´ï¼Œè€Œä¸”å‡å°‘äº†åˆ·æ–°æ¬¡æ•°ï¼Œä»æ ¹æœ¬ä¸Šæé«˜äº†æ•´æœºçš„å·¥ä½œæ•ˆç‡ã€‚ DRAM çš„åˆ·æ–°éœ€è¦æ³¨æ„ä»¥ä¸‹é—®é¢˜ï¼š\nåˆ·æ–°å¯¹CPUæ˜¯é€æ˜çš„ï¼Œå³åˆ·æ–°ä¸ä¾èµ–äºå¤–éƒ¨çš„è®¿é—®ï¼Œä¸éœ€è¦CPUæ§åˆ¶ï¼› DRAMçš„åˆ·æ–°å•ä½æ˜¯è¡Œï¼Œç”±èŠ¯ç‰‡å†…éƒ¨è‡ªè¡Œç”Ÿæˆè¡Œåœ°å€ï¼› åˆ·æ–°æ“ä½œç±»ä¼¼äºè¯»æ“ä½œï¼Œä½†åˆæœ‰æ‰€ä¸åŒã€‚å¦å¤–ï¼Œåˆ·æ–°æ—¶ä¸éœ€è¦é€‰ç‰‡ï¼Œå³æ•´ä¸ªå­˜å‚¨å™¨ä¸­çš„æ‰€æœ‰èŠ¯ç‰‡åŒæ—¶è¢«åˆ·æ–°ã€‚ æ€»çº¿å®šæ—¶ **åŒæ­¥å®šæ—¶æ–¹å¼ï¼š**ç³»ç»Ÿé‡‡ç”¨ä¸€ä¸ªç»Ÿä¸€çš„æ—¶é’Ÿä¿¡å·æ¥åè°ƒå‘é€å’Œæ¥æ”¶åŒæ–¹çš„ä¼ é€å®šæ—¶å…³ç³»ã€‚\nå¼‚æ­¥å®šæ—¶æ–¹å¼ï¼šæ²¡æœ‰ç»Ÿä¸€çš„æ—¶é’Ÿï¼Œä¹Ÿæ²¡æœ‰å›ºå®šçš„æ—¶é—´é—´éš”ï¼Œå®Œå…¨ä¾é ä¼ é€åŒæ–¹ç›¸äº’åˆ¶çº¦çš„â€œæ¡æ‰‹â€ä¿¡å·æ¥å®ç°å®šæ—¶æ§åˆ¶ã€‚\nä¸äº’é”æ–¹å¼ï¼šä¸»è®¾å¤‡å‘å‡ºâ€œè¯·æ±‚â€ä¿¡å·åï¼Œä¸å¿…ç­‰åˆ°æ¥åˆ°ä»è®¾å¤‡çš„â€œå›ç­”â€ä¿¡å·ï¼Œè€Œæ˜¯ç»è¿‡ä¸€æ®µæ—¶é—´ï¼Œä¾¿æ’¤é”€â€œè¯·æ±‚â€ä¿¡å·ã€‚è€Œä»è®¾å¤‡åœ¨æ¥åˆ°â€œè¯·æ±‚â€ä¿¡å·åï¼Œå‘å‡ºâ€œå›ç­”â€ä¿¡å·ï¼Œå¹¶ç»è¿‡ä¸€æ®µæ—¶é—´ï¼Œè‡ªåŠ¨æ’¤é”€â€œå›ç­”â€ä¿¡å·ã€‚åŒæ–¹ä¸å­˜åœ¨äº’é”å…³ç³»ã€‚é€Ÿåº¦æœ€å¿«ï¼Œå¯é æ€§æœ€å·® åŠäº’é”æ–¹å¼ï¼šä¸»è®¾å¤‡å‘å‡ºâ€œè¯·æ±‚â€ä¿¡å·åï¼Œå¿…é¡»å¾…æ¥åˆ°ä»è®¾å¤‡çš„â€œå›ç­”â€ä¿¡å·åï¼Œæ‰æ’¤é”€â€œè¯·æ±‚â€ä¿¡å·ï¼Œæœ‰äº’é”çš„å…³ç³»ã€‚è€Œä»è®¾å¤‡åœ¨æ¥åˆ°â€œè¯·æ±‚â€ä¿¡å·åï¼Œå‘å‡ºâ€œå›ç­”â€ä¿¡å·ï¼Œä½†ä¸å¿…ç­‰å¾…è·çŸ¥ä¸»è®¾å¤‡çš„â€œè¯·æ±‚â€ä¿¡å·å·²ç»æ’¤é”€ï¼Œè€Œæ˜¯éš”ä¸€æ®µæ—¶é—´åè‡ªåŠ¨æ’¤é”€â€œå›ç­”â€ä¿¡å·ï¼Œä¸å­˜åœ¨äº’é”å…³ç³»ï¼› å…¨äº’é”æ–¹å¼ï¼šä¸»è®¾å¤‡å‘å‡ºâ€œè¯·æ±‚â€ä¿¡å·åï¼Œå¿…é¡»å¾…ä»è®¾å¤‡â€œå›ç­”â€åï¼Œæ‰æ’¤é”€â€œè¯·æ±‚â€ä¿¡å·ï¼›ä»è®¾å¤‡å‘å‡ºâ€œå›ç­”â€ä¿¡å·ï¼Œå¿…é¡»å¾…è·çŸ¥ä¸»è®¾å¤‡â€œè¯·æ±‚â€ä¿¡å·å·²æ’¤é”€åï¼Œå†æ’¤é”€å…¶â€œå›ç­”â€ä¿¡å·ã€‚åŒæ–¹å­˜åœ¨äº’é”å…³ç³»ã€‚é€Ÿåº¦æœ€æ…¢ï¼Œå¯é æ€§æœ€å¥½ ä¼˜ç‚¹ï¼šæ€»çº¿å‘¨æœŸé•¿åº¦å¯å˜ï¼Œèƒ½ä¿è¯ä¸¤ä¸ªå·¥ä½œé€Ÿåº¦ç›¸å·®å¾ˆå¤§çš„éƒ¨ä»¶æˆ–è®¾å¤‡ä¹‹é—´å¯é åœ°è¿›è¡Œä¿¡æ¯äº¤æ¢ï¼Œè‡ªåŠ¨é€‚åº”æ—¶é—´çš„é…åˆã€‚\nç¼ºç‚¹ï¼šæ¯”åŒæ­¥æ§åˆ¶æ–¹å¼ç¨å¤æ‚ä¸€äº›ï¼Œé€Ÿåº¦æ¯”åŒæ­¥å®šæ—¶æ–¹å¼æ…¢\nåŠåŒæ­¥å®šæ—¶æ–¹å¼ï¼šç»Ÿä¸€æ—¶é’Ÿçš„åŸºç¡€ä¸Šï¼Œå¢åŠ ä¸€ä¸ªâ€œç­‰å¾…â€å“åº”ä¿¡å·ï¼›\nåˆ†ç¦»å¼é€šä¿¡ï¼š$\\cdots$\nDHCPæŠ¥æ–‡åœ°å€é—®é¢˜ ARPæŠ¥æ–‡åœ°å€é—®é¢˜ ","permalink":"https://fireflyyh.top/posts/408/%E7%9C%9F%E9%A2%98%E6%80%BB%E7%BB%931/","summary":"10å¹´ å¹³è¡¡äºŒå‰æ ‘çš„è°ƒæ•´ LLè°ƒæ•´ RRè°ƒæ•´ RLè°ƒæ•´ ä¾‹å¦‚ï¼ˆåŸè°…æˆ‘å›¾ç”»çš„éš¾çœ‹ğŸ˜‚ï¼‰ï¼š\nLRè°ƒæ•´ äºŒåˆ†æŸ¥æ‰¾çš„æ¬¡æ•°ï¼ˆæˆåŠŸå¤±è´¥ï¼‰ã€æŠ˜åŠæŸ¥æ‰¾åˆ¤å®šæ ‘ä¸äºŒå‰æœç´¢æ ‘çš„å…³ç³» å¹³è¡¡äºŒå‰æ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œå®ƒè¦æ±‚ä»»ä½•èŠ‚ç‚¹çš„ä¸¤æ£µå­æ ‘çš„é«˜åº¦å·®ä¸è¶…è¿‡1ï¼ˆåŒä¸€æ£µæ ‘çš„ä¸åŒèŠ‚ç‚¹çš„å­æ ‘é«˜åº¦å·®å¯ä»¥ä¸º1ã€0ã€-1ï¼‰ã€‚å¹³è¡¡äºŒå‰æ ‘é€šè¿‡åœ¨æ’å…¥å’Œåˆ é™¤èŠ‚ç‚¹æ—¶åšæ—‹è½¬æ¥ç»´æŒæ ‘çš„å¹³è¡¡ã€‚\næŠ˜åŠæŸ¥æ‰¾åˆ¤å®šæ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„å¹³è¡¡äºŒå‰æ ‘ï¼Œå®ƒè¦æ±‚æ›´åŠ ä¸¥æ ¼ã€‚åŒä¸€æ£µæ ‘èŠ‚ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘çš„å·®ä¸èƒ½åŒæ—¶å­˜åœ¨1å’Œ-1ï¼ˆå³ä¸ºç»Ÿä¸€å‘ä¸Šå–æ•´æˆ–ç»Ÿä¸€å‘ä¸‹å–æ•´ï¼‰ã€‚æŸ¥æ‰¾æ—¶ï¼Œæ ¹æ®æ¯”è¾ƒçš„ç»“æœæŠ˜åŠæ’é™¤ä¸€è¾¹çš„æ ‘ã€‚æŠ˜åŠæŸ¥æ‰¾åˆ¤å®šæ ‘ä¸­ï¼Œåªæœ‰æœ€ä¸‹é¢ä¸€å±‚æ‰å¯ä»¥ä¸æ»¡ã€‚ æ ¹æ®å®Œå…¨äºŒå‰æ ‘çš„é«˜åº¦è®¡ç®—å…¬å¼ï¼Œå…ƒç´ ä¸ªæ•°ä¸ºnæ—¶ï¼Œæ ‘é«˜ $h=\\lceil log_2(n+1)\\rceil$ æˆ– $h=\\lfloor log_2(n)\\rfloor+1$ ã€‚åœ¨æŠ˜åŠæŸ¥æ‰¾ä¸­ï¼Œ\næŸ¥æ‰¾æˆåŠŸçš„æœ€å°æ¯”è¾ƒæ¬¡æ•°ä¸º1ï¼Œæœ€å¤§æ¯”è¾ƒæ¬¡æ•°ä¸º$h$ï¼› æŸ¥æ‰¾å¤±è´¥çš„æœ€å°æ¯”è¾ƒæ¬¡æ•°ä¸ºï¼šè‹¥$n=2^h-1$ï¼Œåˆ™ä¸º$h$ï¼Œå¦åˆ™ä¸º$h-1$ï¼Œæœ€å¤§æ¯”è¾ƒæ¬¡æ•°ï¼š$h$ã€‚ æ•°æ®ç±»å‹è½¬æ¢é€ æˆçš„ç²¾åº¦ä¸¢å¤±ç­‰é—®é¢˜ å°†é«˜ç²¾åº¦æ•°è½¬æ¢ä¸ºä½ç²¾åº¦æ•°å¯èƒ½ä¼šå¼•èµ·ï¼š\nç²¾åº¦ä¸¢å¤±ï¼šé«˜ç²¾åº¦æ•°é€šå¸¸èƒ½å¤Ÿè¡¨ç¤ºæ›´å¤§èŒƒå›´å’Œæ›´é«˜ç²¾åº¦çš„æ•°å­—ï¼Œä½†å½“å°†å…¶è½¬æ¢ä¸ºä½ç²¾åº¦æ•°æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´å°æ•°éƒ¨åˆ†è¢«æˆªæ–­æˆ–ä¸¢å¤±ï¼Œä»è€Œå¼•èµ·ç²¾åº¦ä¸§å¤±ã€‚ æº¢å‡ºï¼šå¦‚æœé«˜ç²¾åº¦æ•°çš„å€¼è¶…å‡ºäº†ä½ç²¾åº¦æ•°æ‰€èƒ½è¡¨ç¤ºçš„èŒƒå›´ï¼Œä¼šå¯¼è‡´æº¢å‡ºã€‚ å°†æ•´å‹æ•°è½¬æ¢ä¸ºæµ®ç‚¹æ•°ä¸€èˆ¬ä¸ä¼šå‡ºç°é—®é¢˜ï¼Œä½†ç‰¹æ®Šæƒ…å†µä¸‹ä¼šå¯¼è‡´ç²¾åº¦ä¸¢å¤±ï¼Œå¯¹äºéå¸¸å¤§æˆ–éå¸¸å°çš„æ•´æ•°ï¼Œå¯èƒ½æ— æ³•ç²¾ç¡®è¡¨ç¤ºã€‚å¦‚intç±»å‹æ•°æ®äºŒè¿›åˆ¶è¡¨ç¤ºæœ‰32ä½ï¼Œä½†æ˜¯å¯¹äºfloatç±»å‹ï¼Œåœ¨IEEE 754æ ¼å¼ä¸‹ï¼Œå°¾æ•°éƒ¨åˆ†åªæœ‰23ä½ï¼Œå¯èƒ½æ— æ³•å®Œå…¨è¡¨ç¤ºæŸä¸€ä¸ªintç±»å‹æ•°ï¼Œé€ æˆç²¾åº¦çš„ä¸¢å¤±ã€‚\nå•ç²¾åº¦ä¸åŒç²¾åº¦æµ®ç‚¹æ•°çš„è¿ç®—ä¹Ÿæœ‰å¯èƒ½ä¼šæœ‰ä¸€äº›é—®é¢˜ï¼Œä¾‹å¦‚10å¹´çœŸé¢˜$T_{14}$ï¼Œ$f=1.5678e3,d=1.5e100$ï¼Œè¿›è¡Œ$(d+f)-d$è¿ç®—ï¼Œåœ¨$d+f$æ—¶ï¼Œéœ€è¦å…ˆè¿›è¡Œå¯¹é˜¶ï¼ˆå°é˜¶å‘å¤§é˜¶å¯¹é½ï¼‰ï¼Œç”±äºæ ¼å¼ä¸­çš„å°¾æ•°é™åˆ¶ï¼Œå¯¹é˜¶åï¼Œ$f$çš„å°¾æ•°è¢«èˆå»è€Œå˜æˆäº†0ï¼Œæ•…$d+f$ä»ç„¶ä¸º$d$ï¼Œå†å‡å»$d$ç»“æœä¸º0ï¼Œè€Œä¸æ˜¯$f$ã€‚\nå­—æ‰©å±•ã€ä½æ‰©å±•ä¸ç›¸å…³çš„èŠ¯ç‰‡æœ€ä½åœ°å€é—®é¢˜ ä½æ‰©å±•\nä½æ‰©å±•æ˜¯æŒ‡ç”¨è‹¥å¹²ç‰‡ä½æ•°è¾ƒå°‘çš„å­˜å‚¨å™¨èŠ¯ç‰‡æ„æˆç»™å®šå­—é•¿çš„å­˜å‚¨å™¨ï¼Œå®¹é‡æ”¹å˜ï¼Œä½æ•°æ”¹å˜ï¼Œåœ°å€å•å…ƒä¸ªæ•°ä¸å˜ã€‚\nåœ¨è¢æ˜¥é£è€å¸ˆçš„ã€Šè®¡ç®—æœºç³»ç»ŸåŸºç¡€ã€‹ä¸­çš„ä¸€ä¸ªä¾‹å­å¦‚ä¸‹ï¼š\næ³¨æ„åˆ°8ä¸ª$16M\\times8bit$çš„èŠ¯ç‰‡æ‰©å±•æ„æˆä¸€ä¸ª128Må†…å­˜æ¡ã€‚åœ¨è¿›è¡Œæ‰©å±•ä¹‹å‰ï¼Œå¯¹äºå•ä¸ªèŠ¯ç‰‡ï¼Œåœ°å€ä½æ•°ä¸º24bitã€‚å³åœ°å€å•å…ƒä¸ªæ•°ä¸º$16M=2^{24}$ ã€‚æ¯ä¸ªåœ°å€å•å…ƒå­˜å‚¨8bitã€‚\nåœ¨è¿›è¡Œæ‰©å±•ä¹‹åï¼Œ$128M=2^{27}$ï¼Œè€Œè¡Œåˆ—åœ°å€ä½æ•°åŠ èµ·æ¥ä¸€å…±$24bit$ï¼Œ$2^{24}=16M$ï¼Œåˆ™è¯´æ˜æ­¤æ¬¡æ‰©å±•ä¸ºä½æ‰©å±•ã€‚ä¸€ä¸ªåœ°å€å•å…ƒä¸­çš„æ•°æ®ä½æ•°å¢åŠ ï¼Œä½†æ˜¯æ€»çš„åœ°å€å•å…ƒä¸ªæ•°å¹¶æœªæ”¹å˜ã€‚\n12ä½è¡Œåœ°å€$i$å’Œ12ä½åˆ—åœ°å€$j$åˆ†åˆ«é€åˆ°DRAMèŠ¯ç‰‡å†…éƒ¨çš„è¡Œåœ°å€è¯‘ç å™¨å’Œåˆ—åœ°å€è¯‘ç å™¨ï¼Œé€‰æ‹©è¡Œåˆ—åœ°å€äº¤å‰ç‚¹$(i,j)$çš„8ä½æ•°æ®åŒæ—¶è¿›è¡Œè¯»å†™ï¼Œ8ä¸ªèŠ¯ç‰‡å°±å¯ä»¥åŒæ—¶è¯»å–64bitï¼Œç»„åˆæˆæ€»çº¿æ‰€éœ€è¦çš„64ä½ä¼ è¾“å®½åº¦ï¼Œå†é€šè¿‡å­˜å‚¨å™¨æ€»çº¿è¿›è¡Œä¼ è¾“ã€‚\nå­—æ‰©å±•\nå­—æ‰©å±•ï¼Œå®¹é‡æ”¹å˜ï¼Œåœ°å€å•å…ƒä¸ªæ•°æ”¹å˜ï¼Œå³åœ°å€ä½æ•°ä¼šæ”¹å˜ï¼Œä½æ•°ä¸ä¼šæ”¹å˜ã€‚\nå¦å¤–ï¼Œå¯¹äºæŸä¸€å­˜å‚¨å™¨ï¼Œç”±å¤šä¸ªDRAMç»è¿‡å­—æ‰©å±•è€Œæˆï¼Œé‚£ä¹ˆå¯¹äºå•ä¸ªDRAMèŠ¯ç‰‡æ¥è¯´ï¼Œå…¶è¡Œåœ°å€RASä½æ•°ã€åˆ—åœ°å€CASä½æ•°ä¹Ÿä¸ä¼šå˜ï¼Œä½†æ˜¯æ•´ä½“å­˜å‚¨å™¨çš„æ€»åœ°å€ä½æ•°ä¼šå˜ï¼Œä¼šå¢åŠ ç‰‡é€‰ä¿¡å·ä½æ•°ã€‚ æ­¤æ—¶ï¼Œå¯¹äºä¸€ä¸ªä¸»å­˜åœ°å€ï¼Œå¯ä»¥ç†è§£ä¸ºèŠ¯ç‰‡åºå·+èŠ¯ç‰‡å†…çš„ä½ç½® ã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œæ— è®ºæ˜¯ä½æ‰©å±•è¿˜æ˜¯å­—æ‰©å±•ï¼Œå¯¹äºå•ä¸€çš„DRAMèŠ¯ç‰‡ï¼Œå…¶è¡Œåˆ—åœ°å€ä½æ•°å‡ä¸å«ä¼šæ”¹å˜ã€‚ï¼ˆ14å¹´T15ï¼‰\nå¼•èµ·è¿›ç¨‹çŠ¶æ€æ”¹å˜çš„ä¸€äº›å…¸å‹äº‹ä»¶ è¿›ç¨‹çŠ¶æ€å¯ä»¥åœ¨ä»¥ä¸‹æƒ…å†µä¸‹å‘ç”Ÿæ”¹å˜ï¼š\nåˆ›å»ºæ–°è¿›ç¨‹ï¼šå½“æ“ä½œç³»ç»Ÿå¯åŠ¨ä¸€ä¸ªæ–°çš„ç¨‹åºæ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œå¹¶å°†å…¶çŠ¶æ€è®¾ç½®ä¸ºå°±ç»ªçŠ¶æ€ã€‚\nè¿›ç¨‹ç­‰å¾…ï¼šå½“ä¸€ä¸ªè¿›ç¨‹ç­‰å¾…æŸäº›äº‹ä»¶å‘ç”Ÿï¼Œä¾‹å¦‚ç­‰å¾…ç”¨æˆ·è¾“å…¥ã€ç­‰å¾…æŸä¸ªæ–‡ä»¶å°±ç»ªç­‰ï¼Œå®ƒçš„çŠ¶æ€ä¼šä»è¿è¡ŒçŠ¶æ€å˜ä¸ºé˜»å¡çŠ¶æ€ã€‚\næ—¶é—´ç‰‡ç”¨å®Œï¼šå¦‚æœä¸€ä¸ªè¿›ç¨‹åœ¨åˆ†é…ç»™å®ƒçš„æ—¶é—´ç‰‡ç”¨å®Œä¹‹åï¼Œè°ƒåº¦å™¨ä¼šå°†å…¶çŠ¶æ€ä»è¿è¡ŒçŠ¶æ€å˜ä¸ºå°±ç»ªçŠ¶æ€ï¼Œé™ä½å…¶è¿›ç¨‹ä¼˜å…ˆçº§ï¼Œç„¶åé€‰æ‹©ä¸‹ä¸€ä¸ªè¦æ‰§è¡Œçš„è¿›ç¨‹ã€‚\nI/Oæ“ä½œå®Œæˆï¼šå½“ä¸€ä¸ªè¿›ç¨‹ç­‰å¾…çš„I/Oæ“ä½œå®Œæˆåï¼Œå®ƒçš„çŠ¶æ€ä¼šä»é˜»å¡çŠ¶æ€å˜ä¸ºå°±ç»ªçŠ¶æ€ã€‚\nè¿›ç¨‹ç»ˆæ­¢ï¼šå½“ä¸€ä¸ªè¿›ç¨‹å®Œæˆäº†å®ƒçš„ä»»åŠ¡ï¼Œæˆ–è€…ç”±äºæŸç§åŸå› éœ€è¦è¢«ç»ˆæ­¢ï¼Œå®ƒçš„çŠ¶æ€ä¼šä»è¿è¡ŒçŠ¶æ€å˜ä¸ºç»ˆæ­¢çŠ¶æ€ã€‚\nè¿›ç¨‹è¢«é˜»å¡çš„èµ„æºå¯ç”¨ï¼šå½“ä¸€ä¸ªè¿›ç¨‹ç­‰å¾…çš„èµ„æºï¼ˆå¦‚é”æˆ–ä¿¡å·é‡ï¼‰å˜ä¸ºå¯ç”¨æ—¶ï¼Œå®ƒçš„çŠ¶æ€ä¼šä»é˜»å¡çŠ¶æ€å˜ä¸ºå°±ç»ªçŠ¶æ€ã€‚è®¾å¤‡åˆ†é…æ˜¯åœ¨ä¸€ä¸ªå·²ç»å­˜åœ¨çš„è¿›ç¨‹ä¸­è¿›è¡Œçš„ï¼Œä¸ä¼šå¯¼è‡´åˆ›å»ºæ–°è¿›ç¨‹ã€‚\nè¿›ç¨‹è¢«å”¤é†’ï¼šåœ¨å¤šä»»åŠ¡ç¯å¢ƒä¸­ï¼Œä¸€ä¸ªè¿›ç¨‹å¯èƒ½ä¼šè¢«å¦ä¸€ä¸ªè¿›ç¨‹å”¤é†’ï¼Œä½¿å¾—å®ƒä»é˜»å¡çŠ¶æ€å˜ä¸ºå°±ç»ªçŠ¶æ€ã€‚\nè¿›ç¨‹è¢«æŒ‚èµ·æˆ–æ¢å¤ï¼šæ“ä½œç³»ç»Ÿå¯ä»¥å°†ä¸€ä¸ªè¿›ç¨‹ä»å†…å­˜ä¸­æŒ‚èµ·ï¼ˆæš‚æ—¶ç§»å‡ºå†…å­˜ï¼‰æˆ–è€…ä»æŒ‚èµ·çŠ¶æ€æ¢å¤ï¼ˆé‡æ–°åŠ è½½åˆ°å†…å­˜ä¸­ï¼‰ã€‚\nçˆ¶è¿›ç¨‹ç­‰å¾…å­è¿›ç¨‹ï¼šå½“ä¸€ä¸ªçˆ¶è¿›ç¨‹ç­‰å¾…å…¶å­è¿›ç¨‹ç»“æŸæ—¶ï¼Œå®ƒçš„çŠ¶æ€å¯èƒ½ä¼šä»è¿è¡ŒçŠ¶æ€å˜ä¸ºé˜»å¡çŠ¶æ€ã€‚\nå‘ç”Ÿé”™è¯¯æˆ–å¼‚å¸¸ï¼šå½“ä¸€ä¸ªè¿›ç¨‹é‡åˆ°é”™è¯¯æˆ–å¼‚å¸¸æƒ…å†µæ—¶ï¼Œå®ƒçš„çŠ¶æ€å¯èƒ½ä¼šä»è¿è¡ŒçŠ¶æ€å˜ä¸ºç»ˆæ­¢çŠ¶æ€æˆ–è€…é˜»å¡çŠ¶æ€ï¼ˆå¦‚æœå®ƒåœ¨ç­‰å¾…æŸäº›äº‹ä»¶å‘ç”Ÿæ—¶å‘ç”Ÿäº†é”™è¯¯ï¼‰ã€‚\nå››ç§åŠ¨æ€åˆ†åŒºç®¡ç†æ–¹å¼ IOç³»ç»Ÿçš„åˆ†å±‚ç»“æ„ æœ€å¤§å¸§é•¿ã€æœ€å°å¸§é•¿ã€æ•°æ®æŠ¥é•¿åº¦ RIPåè®® ç¢°æ’åŸŸã€å¹¿æ’­åŸŸ å†²çªåŸŸï¼šåœ¨åŒä¸€ä¸ªå†²çªåŸŸä¸­ï¼Œæ¯ä¸€ä¸ªç»“ç‚¹éƒ½èƒ½æ”¶åˆ°æ‰€æœ‰å…¶ä»–ç»“ç‚¹å‘é€çš„å¸§ã€‚ç®€å•åœ°è¯´ï¼Œå†²çªåŸŸä¸ºåŒä¸€æ—¶é—´å†…åªèƒ½æœ‰ä¸€å°è®¾å¤‡å‘é€ä¿¡æ¯çš„èŒƒå›´ã€‚ å¹¿æ’­åŸŸï¼šç½‘ç»œä¸­èƒ½æ¥æ”¶ä»»æ„è®¾å¤‡å‘å‡ºçš„å¹¿æ’­å¸§çš„æ‰€æœ‰è®¾å¤‡çš„é›†åˆã€‚å³ï¼Œå¦‚æœç«™ç‚¹å‘å‡ºä¸€ä¸ªå¹¿æ’­ä¿¡å·ï¼Œæ‰€æœ‰èƒ½æ¥æ”¶åˆ°è¿™ä¸ªä¿¡å·çš„è®¾å¤‡èŒƒå›´è¢«ç§°ä¸ºä¸€ä¸ªå¹¿æ’­åŸŸã€‚ é€šå¸¸ä¸€ä¸ªç½‘æ®µä¸ºä¸€ä¸ªå†²çªåŸŸï¼Œä¸€ä¸ªå±€åŸŸç½‘ä¸ºä¸€ä¸ªå¹¿æ’­åŸŸã€‚\nç£ç›˜çš„è°ƒåº¦ç­–ç•¥ ç£ç›˜è°ƒåº¦ç®—æ³•æ˜¯æ“ä½œç³»ç»Ÿä¸­ç”¨äºç®¡ç†ç£ç›˜ä¸Šçš„I/Oè¯·æ±‚çš„ä¸€ç§ç­–ç•¥ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„ç£ç›˜è°ƒåº¦ç®—æ³•ï¼š\nå…ˆæ¥å…ˆæœåŠ¡ï¼ˆFCFSï¼‰ï¼šæœ€ç®€å•çš„ç£ç›˜è°ƒåº¦ç®—æ³•ï¼ŒæŒ‰ç…§è¯·æ±‚çš„åˆ°è¾¾é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚ä½†å¯èƒ½ä¼šå‡ºç°â€œæ—©æ¥çš„è¯·æ±‚ç­‰å¾…æ—¶é—´é•¿â€çš„é—®é¢˜ã€‚ æœ€çŸ­å¯»é“æ—¶é—´ä¼˜å…ˆï¼ˆSSTFï¼‰ï¼šé€‰æ‹©å½“å‰ç£å¤´ä½ç½®æœ€è¿‘çš„è¯·æ±‚è¿›è¡ŒæœåŠ¡ï¼Œä»¥æœ€å°åŒ–å¯»é“æ—¶é—´ã€‚ä½†å¯èƒ½ä¼šå¯¼è‡´æŸäº›è¯·æ±‚é•¿æ—¶é—´ç­‰å¾…ã€‚ SCANç®—æ³•ï¼šæ‰«æç®—æ³•ï¼Œä¹Ÿç§°ä¸ºç”µæ¢¯ç®—æ³•ï¼Œç±»ä¼¼äºç”µæ¢¯çš„è¿è¡Œæ–¹å¼ï¼Œç£å¤´æŒ‰ä¸€ä¸ªæ–¹å‘ç§»åŠ¨ï¼Œç›´åˆ°æœ€åä¸€ä¸ªç£é“åå†æ”¹å˜æ–¹å‘ã€‚ C-SCANç®—æ³•ï¼šå¾ªç¯æ‰«æç®—æ³•ï¼Œç£å¤´æŒ‰åŒä¸€ä¸ªæ–¹å‘ç§»åŠ¨ï¼Œç›´åˆ°åˆ°è¾¾æœ€åä¸€ä¸ªç£é“åï¼Œç«‹å³ç›´æ¥è¿”å›åˆ°ç£é“0å¤„ï¼Œå†ç»§ç»­æ‰«æã€‚ LOOK ç®—æ³•ï¼šç±»ä¼¼äºæ‰«æç®—æ³•ï¼Œä½†åœ¨åˆ°è¾¾æœ€è¿œçš„è¯·æ±‚åä¸ä¼šç«‹å³è¿”å›ï¼Œè€Œæ˜¯æ ¹æ®å½“å‰è¯·æ±‚çš„æ–¹å‘å†³å®šä¸‹ä¸€ä¸ªæœåŠ¡çš„ç£é“ã€‚åœ¨æœä¸€ä¸ªç»™å®šæ–¹å‘ç§»åŠ¨å‰æŸ¥çœ‹æ˜¯å¦æœ‰è¯·æ±‚ã€‚ C-LOOK ç®—æ³•ï¼šç±»ä¼¼äº C-SCAN ç®—æ³•ï¼Œä½†åœ¨åˆ°è¾¾æœ€è¿œçš„è¯·æ±‚åä¸ä¼šç«‹å³è¿”å›ï¼Œè€Œæ˜¯ç›´æ¥è¿”å›åˆ°æœ€è¿œç«¯çš„æœ‰è¯·æ±‚çš„ç£é“ã€‚ æ³¨æ„ï¼Œåœ¨åšé¢˜æ—¶ï¼Œè‹¥æ— ç‰¹åˆ«è¯´æ˜ï¼Œä¹Ÿå¯ä»¥é»˜è®¤SCANç®—æ³•å’ŒC-SCANç®—æ³•ä¸ºLOOKå’ŒC-LOOKè°ƒåº¦ã€‚","title":"çœŸé¢˜æ€»ç»“1"},{"content":"æœ¬åšå®¢ä½¿ç”¨äº†Hugoç­‰æŠ€æœ¯è¿›è¡Œæ­å»ºï¼Œä½¿ç”¨çš„ä¸»é¢˜ä¸ºPaperModï¼Œå¹¶å¯¹å…¶è¿›è¡Œäº†ä¸€å®šçš„ä¿®æ”¹ï¼Œåœ¨è¿™è¿‡ç¨‹ä¹Ÿå‚è€ƒäº†å…¶ä»–åšå®¢çš„å®ç°ï¼Œå¦‚Sulv\u0026rsquo;s Blogã€‚\næœ¬åšå®¢ä¸»è¦ç”¨äºè®°å½•å¹³æ—¶å­¦ä¹ çš„ä¸€äº›è¿‡ç¨‹ï¼Œæ¯”å¦‚ï¼šæ ¡å›­å­¦ä¹ ã€ç¼–ç¨‹å­¦ä¹ ã€è¯»ä¹¦ç¬”è®°ç­‰ç­‰ã€‚\nä½œè€…æœ¬äººæ˜¯ä¸€åæ™®é€šçš„å¤§å­¦ç”Ÿï¼Œä¹Ÿæ˜¯ä¸€åç¼–ç¨‹æ–°æ‰‹ï¼ˆæ–°æ‰‹ä¸­çš„æ–°æ‰‹ï¼‰ï¼Œä»åœ¨ä¸æ–­åœ°è¯•é”™ä¸å­¦ä¹ ã€‚å¦‚æœæ‚¨èƒ½ä¸»åŠ¨ä¸æˆ‘äº¤æµï¼ˆæ—¥å¸¸ä¹Ÿå¥½ï¼Œå­¦ä¹ ä¹Ÿå¥½ï¼‰ï¼Œæˆ‘éƒ½ä¼šéå¸¸é«˜å…´ã€‚ğŸ˜Š\nå¦å¤–ï¼Œéå¸¸æ„Ÿè°¢ä½ èƒ½å¤Ÿæµè§ˆæˆ‘çš„åšå®¢ï¼\nä½ ä¹Ÿå¯ä»¥é€šè¿‡ä»¥ä¸‹é€”å¾„è”ç³»æˆ‘ï¼š\nGithub é‚®ç®± å“”å“©å“”å“© ","permalink":"https://fireflyyh.top/about/","summary":"about","title":"About me"}]