<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>å°†åšå®¢éƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨ | Jagger's Blog</title>
<meta name=keywords content="BLOG"><meta name=description content="ä¹‹å‰æ­å»ºhexoåšå®¢ï¼Œæ˜¯å°†å…¶éƒ¨ç½²åˆ°githubä¸­ï¼Œé€šè¿‡github.ioæ¥è®¿é—®ï¼Œä½†æ˜¯é€Ÿåº¦æ„Ÿäººï¼Œæ‰€ä»¥æœ¬æ¬¡å°è¯•å°†hugoåšå®¢éƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼Œé€šè¿‡åŸŸåè¿›è¡Œè®¿é—®ï¼Œæœ¬æ–‡å‚è€ƒäº†hugoåšå®¢éƒ¨ç½²åˆ°è…¾è®¯äº‘è½»é‡çº§æœåŠ¡å™¨ã€‚ ç”±äºæ˜¯æˆ‘ç¬¬ä¸€æ¬¡ä½¿ç”¨nginxï¼Œæ‰€ä»¥å¦‚æœé‡åˆ°ä»€ä¹ˆé—®é¢˜ï¼Œè¯·å¤šæµ·æ¶µå¹¶ä¸”å¯ä»¥å‚è€ƒå…¶ä»–åšå®¢æˆ–ç½‘ç»œèµ„æ–™ã€‚
åœ¨éƒ¨ç½²ä¹‹å‰ï¼Œæˆ‘å·²ç»æœ‰äº†é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼ˆé…ç½®ä¸º2æ ¸2GBï¼‰ã€åŸŸå›½å¤–å¹³å°è´­ä¹°çš„åŸŸåï¼ˆstaryh.topï¼‰ã€‚
1. æœåŠ¡å™¨ç«¯ä¸‹è½½å¹¶å®‰è£…nginx 1.1 å®‰è£…nginx åœ¨ubuntuç¯å¢ƒä¸‹ï¼š å®‰è£…nginx
1 sudo apt install nginx å°†nginxè®¾ç½®ä¸ºå¼€æœºå¯åŠ¨ï¼š
1 sudo systemctl enable nginx å¯åŠ¨nginxï¼š
1 sudo systemctl start nginx 1.2 æµ‹è¯•nginx æŸ¥çœ‹nginxçŠ¶æ€
1 sudo systemctl status nginx å¦‚æœæ²¡é—®é¢˜ï¼Œåˆ™ä¼šå‡ºç°ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 â— nginx.service - A high performance web server and a reverse proxy server Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled) Active: active (running) since Fri 2024-07-26 21:46:50 CST; 1 day 13h ago Docs: man:nginx(8) Process: 164834 ExecStartPre=/usr/sbin/nginx -t -q -g daemon on; master_process on; (code=exited, status=0/SUCCESS) Process: 164836 ExecStart=/usr/sbin/nginx -g daemon on; master_process on; (code=exited, status=0/SUCCESS) Main PID: 164837 (nginx) Tasks: 3 (limit: 1947) Memory: 4."><meta name=author content="Jagger"><link rel=canonical href=https://fireflyyh.top/posts/blog_configuration/deploy/><link crossorigin=anonymous href=/assets/css/stylesheet.1212f0454c490726d67933de27a90315a6177ba895fb506fe0f2bd6e93b66acd.css integrity="sha256-EhLwRUxJBybWeTPeJ6kDFaYXe6iV+1Bv4PK9bpO2as0=" rel="preload stylesheet" as=style><link rel=icon href=https://fireflyyh.top/img/yuan.jpg><link rel=icon type=image/png sizes=16x16 href=https://fireflyyh.top/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://fireflyyh.top/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://fireflyyh.top/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://fireflyyh.top/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://fireflyyh.top/posts/blog_configuration/deploy/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?87f1888ba5320e03987ecde7525fde2d",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-Y30PKHXBN4"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-Y30PKHXBN4")</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-Y30PKHXBN4"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-Y30PKHXBN4")</script>--><meta property="og:title" content="å°†åšå®¢éƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨">
<meta property="og:description" content="ä¹‹å‰æ­å»ºhexoåšå®¢ï¼Œæ˜¯å°†å…¶éƒ¨ç½²åˆ°githubä¸­ï¼Œé€šè¿‡github.ioæ¥è®¿é—®ï¼Œä½†æ˜¯é€Ÿåº¦æ„Ÿäººï¼Œæ‰€ä»¥æœ¬æ¬¡å°è¯•å°†hugoåšå®¢éƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼Œé€šè¿‡åŸŸåè¿›è¡Œè®¿é—®ï¼Œæœ¬æ–‡å‚è€ƒäº†hugoåšå®¢éƒ¨ç½²åˆ°è…¾è®¯äº‘è½»é‡çº§æœåŠ¡å™¨ã€‚ ç”±äºæ˜¯æˆ‘ç¬¬ä¸€æ¬¡ä½¿ç”¨nginxï¼Œæ‰€ä»¥å¦‚æœé‡åˆ°ä»€ä¹ˆé—®é¢˜ï¼Œè¯·å¤šæµ·æ¶µå¹¶ä¸”å¯ä»¥å‚è€ƒå…¶ä»–åšå®¢æˆ–ç½‘ç»œèµ„æ–™ã€‚
åœ¨éƒ¨ç½²ä¹‹å‰ï¼Œæˆ‘å·²ç»æœ‰äº†é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼ˆé…ç½®ä¸º2æ ¸2GBï¼‰ã€åŸŸå›½å¤–å¹³å°è´­ä¹°çš„åŸŸåï¼ˆstaryh.topï¼‰ã€‚
1. æœåŠ¡å™¨ç«¯ä¸‹è½½å¹¶å®‰è£…nginx 1.1 å®‰è£…nginx åœ¨ubuntuç¯å¢ƒä¸‹ï¼š å®‰è£…nginx
1 sudo apt install nginx å°†nginxè®¾ç½®ä¸ºå¼€æœºå¯åŠ¨ï¼š
1 sudo systemctl enable nginx å¯åŠ¨nginxï¼š
1 sudo systemctl start nginx 1.2 æµ‹è¯•nginx æŸ¥çœ‹nginxçŠ¶æ€
1 sudo systemctl status nginx å¦‚æœæ²¡é—®é¢˜ï¼Œåˆ™ä¼šå‡ºç°ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 â— nginx.service - A high performance web server and a reverse proxy server Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled) Active: active (running) since Fri 2024-07-26 21:46:50 CST; 1 day 13h ago Docs: man:nginx(8) Process: 164834 ExecStartPre=/usr/sbin/nginx -t -q -g daemon on; master_process on; (code=exited, status=0/SUCCESS) Process: 164836 ExecStart=/usr/sbin/nginx -g daemon on; master_process on; (code=exited, status=0/SUCCESS) Main PID: 164837 (nginx) Tasks: 3 (limit: 1947) Memory: 4."><meta property="og:type" content="article"><meta property="og:url" content="https://fireflyyh.top/posts/blog_configuration/deploy/"><meta property="og:image" content="https://fireflyyh.top/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-07-28T00:00:00+00:00"><meta property="article:modified_time" content="2024-07-28T00:00:00+00:00"><meta property="og:site_name" content="Jagger's Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://fireflyyh.top/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="å°†åšå®¢éƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨"><meta name=twitter:description content="ä¹‹å‰æ­å»ºhexoåšå®¢ï¼Œæ˜¯å°†å…¶éƒ¨ç½²åˆ°githubä¸­ï¼Œé€šè¿‡github.ioæ¥è®¿é—®ï¼Œä½†æ˜¯é€Ÿåº¦æ„Ÿäººï¼Œæ‰€ä»¥æœ¬æ¬¡å°è¯•å°†hugoåšå®¢éƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼Œé€šè¿‡åŸŸåè¿›è¡Œè®¿é—®ï¼Œæœ¬æ–‡å‚è€ƒäº†hugoåšå®¢éƒ¨ç½²åˆ°è…¾è®¯äº‘è½»é‡çº§æœåŠ¡å™¨ã€‚ ç”±äºæ˜¯æˆ‘ç¬¬ä¸€æ¬¡ä½¿ç”¨nginxï¼Œæ‰€ä»¥å¦‚æœé‡åˆ°ä»€ä¹ˆé—®é¢˜ï¼Œè¯·å¤šæµ·æ¶µå¹¶ä¸”å¯ä»¥å‚è€ƒå…¶ä»–åšå®¢æˆ–ç½‘ç»œèµ„æ–™ã€‚
åœ¨éƒ¨ç½²ä¹‹å‰ï¼Œæˆ‘å·²ç»æœ‰äº†é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼ˆé…ç½®ä¸º2æ ¸2GBï¼‰ã€åŸŸå›½å¤–å¹³å°è´­ä¹°çš„åŸŸåï¼ˆstaryh.topï¼‰ã€‚
1. æœåŠ¡å™¨ç«¯ä¸‹è½½å¹¶å®‰è£…nginx 1.1 å®‰è£…nginx åœ¨ubuntuç¯å¢ƒä¸‹ï¼š å®‰è£…nginx
1 sudo apt install nginx å°†nginxè®¾ç½®ä¸ºå¼€æœºå¯åŠ¨ï¼š
1 sudo systemctl enable nginx å¯åŠ¨nginxï¼š
1 sudo systemctl start nginx 1.2 æµ‹è¯•nginx æŸ¥çœ‹nginxçŠ¶æ€
1 sudo systemctl status nginx å¦‚æœæ²¡é—®é¢˜ï¼Œåˆ™ä¼šå‡ºç°ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 â— nginx.service - A high performance web server and a reverse proxy server Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled) Active: active (running) since Fri 2024-07-26 21:46:50 CST; 1 day 13h ago Docs: man:nginx(8) Process: 164834 ExecStartPre=/usr/sbin/nginx -t -q -g daemon on; master_process on; (code=exited, status=0/SUCCESS) Process: 164836 ExecStart=/usr/sbin/nginx -g daemon on; master_process on; (code=exited, status=0/SUCCESS) Main PID: 164837 (nginx) Tasks: 3 (limit: 1947) Memory: 4."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://fireflyyh.top/posts/"},{"@type":"ListItem","position":2,"name":"å°†åšå®¢éƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨","item":"https://fireflyyh.top/posts/blog_configuration/deploy/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"å°†åšå®¢éƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨","name":"å°†åšå®¢éƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨","description":"ä¹‹å‰æ­å»ºhexoåšå®¢ï¼Œæ˜¯å°†å…¶éƒ¨ç½²åˆ°githubä¸­ï¼Œé€šè¿‡github.ioæ¥è®¿é—®ï¼Œä½†æ˜¯é€Ÿåº¦æ„Ÿäººï¼Œæ‰€ä»¥æœ¬æ¬¡å°è¯•å°†hugoåšå®¢éƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼Œé€šè¿‡åŸŸåè¿›è¡Œè®¿é—®ï¼Œæœ¬æ–‡å‚è€ƒäº†hugoåšå®¢éƒ¨ç½²åˆ°è…¾è®¯äº‘è½»é‡çº§æœåŠ¡å™¨ã€‚ ç”±äºæ˜¯æˆ‘ç¬¬ä¸€æ¬¡ä½¿ç”¨nginxï¼Œæ‰€ä»¥å¦‚æœé‡åˆ°ä»€ä¹ˆé—®é¢˜ï¼Œè¯·å¤šæµ·æ¶µå¹¶ä¸”å¯ä»¥å‚è€ƒå…¶ä»–åšå®¢æˆ–ç½‘ç»œèµ„æ–™ã€‚\nåœ¨éƒ¨ç½²ä¹‹å‰ï¼Œæˆ‘å·²ç»æœ‰äº†é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼ˆé…ç½®ä¸º2æ ¸2GBï¼‰ã€åŸŸå›½å¤–å¹³å°è´­ä¹°çš„åŸŸåï¼ˆstaryh.topï¼‰ã€‚\n1. æœåŠ¡å™¨ç«¯ä¸‹è½½å¹¶å®‰è£…nginx 1.1 å®‰è£…nginx åœ¨ubuntuç¯å¢ƒä¸‹ï¼š å®‰è£…nginx\n1 sudo apt install nginx å°†nginxè®¾ç½®ä¸ºå¼€æœºå¯åŠ¨ï¼š\n1 sudo systemctl enable nginx å¯åŠ¨nginxï¼š\n1 sudo systemctl start nginx 1.2 æµ‹è¯•nginx æŸ¥çœ‹nginxçŠ¶æ€\n1 sudo systemctl status nginx å¦‚æœæ²¡é—®é¢˜ï¼Œåˆ™ä¼šå‡ºç°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 â— nginx.service - A high performance web server and a reverse proxy server Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled) Active: active (running) since Fri 2024-07-26 21:46:50 CST; 1 day 13h ago Docs: man:nginx(8) Process: 164834 ExecStartPre=/usr/sbin/nginx -t -q -g daemon on; master_process on; (code=exited, status=0/SUCCESS) Process: 164836 ExecStart=/usr/sbin/nginx -g daemon on; master_process on; (code=exited, status=0/SUCCESS) Main PID: 164837 (nginx) Tasks: 3 (limit: 1947) Memory: 4.","keywords":["BLOG"],"articleBody":"ä¹‹å‰æ­å»ºhexoåšå®¢ï¼Œæ˜¯å°†å…¶éƒ¨ç½²åˆ°githubä¸­ï¼Œé€šè¿‡github.ioæ¥è®¿é—®ï¼Œä½†æ˜¯é€Ÿåº¦æ„Ÿäººï¼Œæ‰€ä»¥æœ¬æ¬¡å°è¯•å°†hugoåšå®¢éƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼Œé€šè¿‡åŸŸåè¿›è¡Œè®¿é—®ï¼Œæœ¬æ–‡å‚è€ƒäº†hugoåšå®¢éƒ¨ç½²åˆ°è…¾è®¯äº‘è½»é‡çº§æœåŠ¡å™¨ã€‚ ç”±äºæ˜¯æˆ‘ç¬¬ä¸€æ¬¡ä½¿ç”¨nginxï¼Œæ‰€ä»¥å¦‚æœé‡åˆ°ä»€ä¹ˆé—®é¢˜ï¼Œè¯·å¤šæµ·æ¶µå¹¶ä¸”å¯ä»¥å‚è€ƒå…¶ä»–åšå®¢æˆ–ç½‘ç»œèµ„æ–™ã€‚\nåœ¨éƒ¨ç½²ä¹‹å‰ï¼Œæˆ‘å·²ç»æœ‰äº†é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼ˆé…ç½®ä¸º2æ ¸2GBï¼‰ã€åŸŸå›½å¤–å¹³å°è´­ä¹°çš„åŸŸåï¼ˆstaryh.topï¼‰ã€‚\n1. æœåŠ¡å™¨ç«¯ä¸‹è½½å¹¶å®‰è£…nginx 1.1 å®‰è£…nginx åœ¨ubuntuç¯å¢ƒä¸‹ï¼š å®‰è£…nginx\n1 sudo apt install nginx å°†nginxè®¾ç½®ä¸ºå¼€æœºå¯åŠ¨ï¼š\n1 sudo systemctl enable nginx å¯åŠ¨nginxï¼š\n1 sudo systemctl start nginx 1.2 æµ‹è¯•nginx æŸ¥çœ‹nginxçŠ¶æ€\n1 sudo systemctl status nginx å¦‚æœæ²¡é—®é¢˜ï¼Œåˆ™ä¼šå‡ºç°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 â— nginx.service - A high performance web server and a reverse proxy server Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled) Active: active (running) since Fri 2024-07-26 21:46:50 CST; 1 day 13h ago Docs: man:nginx(8) Process: 164834 ExecStartPre=/usr/sbin/nginx -t -q -g daemon on; master_process on; (code=exited, status=0/SUCCESS) Process: 164836 ExecStart=/usr/sbin/nginx -g daemon on; master_process on; (code=exited, status=0/SUCCESS) Main PID: 164837 (nginx) Tasks: 3 (limit: 1947) Memory: 4.1M CPU: 26ms CGroup: /system.slice/nginx.service â”œâ”€164837 \"nginx: master process /usr/sbin/nginx -g daemon on; master_process on;\" â”œâ”€164838 \"nginx: worker process\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" â””â”€164839 \"nginx: worker process\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" \"\" Jul 26 21:46:50 Firefly-Aliyun systemd[1]: Starting A high performance web server and a reverse proxy server... Jul 26 21:46:50 Firefly-Aliyun systemd[1]: Started A high performance web server and a reverse proxy server. é€šè¿‡é˜¿é‡Œäº‘æœåŠ¡å™¨ç®¡ç†é¢æ¿ä¸­çš„å®‰å…¨ç»„æ ‡ç­¾ï¼Œå°†æœåŠ¡å™¨çš„80ç«¯å£å¼€æ”¾ã€‚æ¥ä¸‹æ¥è®¿é—®http://\u003cæœåŠ¡å™¨IPåœ°å€\u003eï¼Œå¦‚æœå‡ºç°äº†nginxé¡µé¢ï¼Œåˆ™ä»£è¡¨ç€é…ç½®æˆåŠŸã€‚\n2. é…ç½®nginx è¿›å…¥/etc/nginx/ï¼Œç›®å½•æ ‘å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 . â”œâ”€â”€ conf.d â”œâ”€â”€ fastcgi.conf â”œâ”€â”€ fastcgi_params â”œâ”€â”€ koi-utf â”œâ”€â”€ koi-win â”œâ”€â”€ mime.types â”œâ”€â”€ modules-available â”œâ”€â”€ modules-enabled â”‚Â â”œâ”€â”€ 50-mod-http-geoip2.conf -\u003e /usr/share/nginx/modules-available/mod-http-geoip2.conf â”‚Â â”œâ”€â”€ 50-mod-http-image-filter.conf -\u003e /usr/share/nginx/modules-available/mod-http-image-filter.conf â”‚Â â”œâ”€â”€ 50-mod-http-xslt-filter.conf -\u003e /usr/share/nginx/modules-available/mod-http-xslt-filter.conf â”‚Â â”œâ”€â”€ 50-mod-mail.conf -\u003e /usr/share/nginx/modules-available/mod-mail.conf â”‚Â â”œâ”€â”€ 50-mod-stream.conf -\u003e /usr/share/nginx/modules-available/mod-stream.conf â”‚Â â””â”€â”€ 70-mod-stream-geoip2.conf -\u003e /usr/share/nginx/modules-available/mod-stream-geoip2.conf â”œâ”€â”€ nginx.conf â”œâ”€â”€ proxy_params â”œâ”€â”€ scgi_params â”œâ”€â”€ sites-available â”‚Â â””â”€â”€ default â”œâ”€â”€ sites-enabled â”‚Â â””â”€â”€ default -\u003e /etc/nginx/sites-available/default â”œâ”€â”€ snippets â”‚Â â”œâ”€â”€ fastcgi-php.conf â”‚Â â””â”€â”€ snakeoil.conf â”œâ”€â”€ uwsgi_params â””â”€â”€ win-utf æ ¹æ®å‚è€ƒåšå®¢ï¼Œè¦åœ¨nginx.confæ–‡ä»¶ä¸­ç¼–è¾‘Serverå­—æ®µï¼Œä½†æ˜¯åœ¨æˆ‘çš„è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œå¹¶æ²¡æœ‰å‡ºç°è¯¥å­—æ®µã€‚ç»è¿‡æŸ¥é˜…èµ„æ–™ï¼Œå¯ä»¥åœ¨./sites-available/defaultå½“ä¸­ç¼–è¾‘ã€‚\nå½“æ²¡æœ‰SSLè¯ä¹¦æ—¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 server { listen 80 default_server; listen [::]:80 default_server; # ä¿®æ”¹é¡µé¢æ‰€åœ¨ç›®å½• root /home/firefly/Codes/blog/public; # Add index.php to the list if you are using PHP index index.html index.htm index.nginx-debian.html; # ä¿®æ”¹åŸŸå server_name www.staryh.top; # ä¿®æ”¹ location / { # First attempt to serve request as file, then # as directory, then fall back to displaying a 404. root /home/firefly/Codes/blog/public; index index.html index.htm; # try_files $uri $uri/ =404; } error_page 404 /404.html; location = /404.html { root /home/firefly/Codes/blog/public; } } ç»è¿‡ä¸Šè¿°ä¿®æ”¹ä¹‹åï¼Œè¾“å…¥æœåŠ¡å™¨IPåœ°å€ï¼Œå°±å¯ä»¥è®¿é—®äº†\n3. å°†åŸŸåç»‘å®šåˆ°æœåŠ¡å™¨ éœ€è¦åŸŸåå¤‡æ¡ˆï¼Œå¦åˆ™è®¿é—®ä¸äº†\nåœ¨namecheapä¸Šé¢è´­ä¹°çš„åŸŸåï¼Œç„¶åé€šè¿‡cloudflareæ¥å¯¹åŸŸåè§£æè¿›è¡Œç®¡ç†ã€‚è¿™ä¸€æ­¥æ¯”è¾ƒç®€å•ï¼Œå‚è€ƒäº†åŸŸåæ³¨å†Œå’Œè§£æ\n4. å®ç°æœ¬æœºå’ŒæœåŠ¡å™¨çš„publicæ–‡ä»¶å¤¹åŒæ­¥ åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘çš„æƒ³æ³•æ¯”è¾ƒå¤æ‚ã€‚\nå°†æœ¬åœ°çš„åšå®¢æ–‡ä»¶å¤¹æ”¾åˆ°githubä¸­ï¼Œæ–¹ä¾¿æ›´å¤šäººèƒ½å¤Ÿè®¿é—®æˆ‘çš„åšå®¢æ‰€æœ‰çš„æ–‡ä»¶ã€‚ è€ƒè™‘åˆ°githubçš„è®¿é—®é€Ÿåº¦ï¼Œæ‰“ç®—åœ¨giteeä¸­å»ºç«‹ä¸€ä¸ªé•œåƒçš„ä»“åº“ï¼Œä»¥å®ç°githubå’Œgiteeçš„åšå®¢æ–‡ä»¶å¤¹çš„åŒæ­¥ã€‚ è¿™æ ·æœåŠ¡å™¨åªéœ€è¦pull gitee ä»“åº“ä¸­çš„publicå­æ–‡ä»¶å¤¹ï¼Œä¾¿å¯ä»¥å¾—åˆ°æœ¬åœ°ä¸»æœºpushåˆ°githubä»“åº“ä¸­çš„publicæ–‡ä»¶å¤¹ã€‚ 4.1 æœ¬åœ°-\u003egithub å°†æœ¬åœ°åšå®¢æ–‡ä»¶å¤¹pushåˆ°githubä»“åº“ä¸­\n4.2 github-\u003egitee åœ¨giteeä¸Šç»‘å®šgithubè´¦å·ï¼› åœ¨giteeä¸­åˆ›å»ºåŒåä»“åº“ï¼Œåœ¨ä»“åº“çš„ç®¡ç†æ ‡ç­¾é¡µï¼Œé€‰æ‹©ä»“åº“é•œåƒç®¡ç†ï¼Œæ·»åŠ é•œåƒï¼Œé€‰æ‹©é•œåƒæ–¹å‘ä¸ºpull gitee \u003c- githubï¼Œé€‰æ‹©æ­£ç¡®çš„é•œåƒä»“åº“ï¼Œå¹¶æ·»åŠ ç§äººä»¤ç‰Œï¼Œç§äººä»¤ç‰Œåœ¨githubç•Œé¢-\u003eç”¨æˆ·å¤´åƒ-\u003esettings-\u003edeveloper settings-\u003epersonal access tokensä¸­è·å–ï¼Œå‹¾é€‰è‡ªåŠ¨åŒæ­¥ã€‚ è¿™æ ·æ¯æ¬¡æœ¬åœ°ç¼–è¾‘å®Œå¹¶ä¸Šä¼ githubä¹‹åï¼Œç¨ç­‰ç‰‡åˆ»å°±èƒ½åœ¨giteeçœ‹åˆ°ä¿®æ”¹äº†ğŸ˜Š æˆªæ­¢åˆ°å†™æœ¬ç¯‡åšå®¢æ—¶ï¼Œgiteeçš„ä»“åº“é•œåƒç®¡ç†åŠŸèƒ½ä¸€ç›´å­˜åœ¨ï¼Œä¸”å¯ä»¥è‡ªåŠ¨åŒæ­¥ã€‚å¦‚æœè¯¥è‡ªåŠ¨åŒæ­¥åŠŸèƒ½ä¸è§äº†ï¼Œå¯ä»¥å°è¯•ä¸€ç¯‡æ•™ä½ ä»£ç åŒæ­¥ Github å’Œ Giteeä¸­çš„åšæ³•ã€‚\n4.3 gitee-\u003eæœåŠ¡å™¨ è¿›å…¥åˆ°ä¿®æ”¹é¡µé¢æ‰€åœ¨ç›®å½•çš„çˆ¶ç›®å½•/home/firefly/Codes/blogï¼Œåˆ é™¤åŸæ¥é€šè¿‡xtfpä¼ è¾“æ¥çš„publicæ–‡ä»¶å¤¹ï¼›\nåœ¨æœ¬åœ°ä»“åº“å¯ç”¨sparseCheckout\n1 git config core.sparseCheckout true æ‰“å¼€./.git/infoï¼Œç„¶åç¼–è¾‘å…¶ä¸­çš„sparseCheckoutæ–‡ä»¶ï¼ˆå¦‚æœæ²¡æœ‰å¯ä»¥æ–°å»ºï¼‰ï¼Œå°†éœ€è¦æŒ‡å®špullçš„æ–‡ä»¶å¤¹ä½ç½®è¾“å…¥è¿›å»ï¼š/publicï¼›\nå›åˆ°blogç›®å½•ï¼Œæ·»åŠ è¿œç¨‹ä»“åº“ï¼Œå¹¶pullï¼ˆåœ¨pullçš„æ—¶å€™é‡åˆ°äº†å…¬ç§é’¥å¯¼è‡´æ— æ³•è®¿é—®çš„é—®é¢˜ï¼Œå…·ä½“è§£å†³å‚è€ƒäº†è§£å†³ â€œfatal: Could not read from remote repository.â€œï¼‰ã€‚\n1 git remote add origin git@gitee.com:yourname/yourrepo.git 5. SSLè¯ä¹¦ 5.1 è·å¾—SSLè¯ä¹¦ ç”±äºé˜¿é‡Œäº‘ç­–ç•¥æ”¹å˜ï¼Œç›®å‰å…è´¹çš„åªæœ‰ä¸ªäººæµ‹è¯•è¯ä¹¦ï¼ˆåŸå…è´¹è¯ä¹¦ï¼‰ã€‚\næ ¹æ®Nginxæˆ–TengineæœåŠ¡å™¨é…ç½®SSLè¯ä¹¦æ¥è¿›è¡Œé…ç½®ã€‚ å…¶ä¸­ï¼Œå°†ä¸‹è½½çš„è¯ä¹¦ç›¸å…³æ–‡ä»¶è§£å‹ç¼©åˆ°/etc/nginx/ä¸­ï¼Œ\n5.3 ä¿®æ”¹nginxé…ç½® åŒæ ·åœ°ï¼Œåœ¨defaultæ–‡ä»¶ä¸­ï¼Œç»“åˆäº†æœ¬æ–‡æåˆ°çš„ä¸¤ä¸ªåšå®¢ï¼Œå¢åŠ ä»¥ä¸‹å†…å®¹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 server { listen 443 ssl; server_name www.fireflyyh.top; root /home/firefly/Codes/blog/public; ssl_certificate /etc/nginx/fireflyyh.top.pem; ssl_certificate_key /etc/nginx/fireflyyh.top.key; ssl_session_cache shared:SSL:1m; ssl_session_timeout 5m; #è‡ªå®šä¹‰è®¾ç½®ä½¿ç”¨çš„TLSåè®®çš„ç±»å‹ä»¥åŠåŠ å¯†å¥—ä»¶ï¼ˆä»¥ä¸‹ä¸ºé…ç½®ç¤ºä¾‹ï¼Œè¯·æ‚¨è‡ªè¡Œè¯„ä¼°æ˜¯å¦éœ€è¦é…ç½®ï¼‰ #TLSåè®®ç‰ˆæœ¬è¶Šé«˜ï¼ŒHTTPSé€šä¿¡çš„å®‰å…¨æ€§è¶Šé«˜ï¼Œä½†æ˜¯ç›¸è¾ƒäºä½ç‰ˆæœ¬TLSåè®®ï¼Œé«˜ç‰ˆæœ¬TLSåè®®å¯¹æµè§ˆå™¨çš„å…¼å®¹æ€§è¾ƒå·®ã€‚ ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4; ssl_protocols TLSv1.1 TLSv1.2 TLSv1.3; #è¡¨ç¤ºä¼˜å…ˆä½¿ç”¨æœåŠ¡ç«¯åŠ å¯†å¥—ä»¶ã€‚é»˜è®¤å¼€å¯ ssl_prefer_server_ciphers on; error_page 404 /404.html; location = /404.html { root /home/firefly/Codes/blog/public; } } ","wordCount":"571","inLanguage":"en","image":"https://fireflyyh.top/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2024-07-28T00:00:00Z","dateModified":"2024-07-28T00:00:00Z","author":{"@type":"Person","name":"Jagger"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://fireflyyh.top/posts/blog_configuration/deploy/"},"publisher":{"@type":"Organization","name":"Jagger's Blog","logo":{"@type":"ImageObject","url":"https://fireflyyh.top/img/yuan.jpg"}}}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-Y30PKHXBN4"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-Y30PKHXBN4")</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://fireflyyh.top/ accesskey=h title="Jagger's Blog (Alt + H)"><img src=https://fireflyyh.top/img/laugh.jpg alt aria-label=logo height=35>Jagger's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://fireflyyh.top/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://fireflyyh.top/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://fireflyyh.top/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://fireflyyh.top/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://fireflyyh.top/about/ title=About><span>About</span></a></li><li><a href=https://github.com/starsYHyh/Jagger/ title=Github><span>Github</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://fireflyyh.top/>Home</a>&nbsp;Â»&nbsp;<a href=https://fireflyyh.top/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">å°†åšå®¢éƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨</h1><div class=post-meta><span title='2024-07-28 00:00:00 +0000 UTC'>July 28, 2024</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;571 words&nbsp;Â·&nbsp;Jagger&nbsp;|&nbsp;<a href=https://github.com/starsYHyh/Jagger/tree/main/content/posts/blog_configuration/deploy.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#1-%e6%9c%8d%e5%8a%a1%e5%99%a8%e7%ab%af%e4%b8%8b%e8%bd%bd%e5%b9%b6%e5%ae%89%e8%a3%85nginx aria-label="1. æœåŠ¡å™¨ç«¯ä¸‹è½½å¹¶å®‰è£…nginx">1. æœåŠ¡å™¨ç«¯ä¸‹è½½å¹¶å®‰è£…nginx</a><ul><li><a href=#11-%e5%ae%89%e8%a3%85nginx aria-label="1.1 å®‰è£…nginx">1.1 å®‰è£…nginx</a></li><li><a href=#12-%e6%b5%8b%e8%af%95nginx aria-label="1.2 æµ‹è¯•nginx">1.2 æµ‹è¯•nginx</a></li></ul></li><li><a href=#2-%e9%85%8d%e7%bd%aenginx aria-label="2. é…ç½®nginx">2. é…ç½®nginx</a></li><li><a href=#3-%e5%b0%86%e5%9f%9f%e5%90%8d%e7%bb%91%e5%ae%9a%e5%88%b0%e6%9c%8d%e5%8a%a1%e5%99%a8 aria-label="3. å°†åŸŸåç»‘å®šåˆ°æœåŠ¡å™¨">3. å°†åŸŸåç»‘å®šåˆ°æœåŠ¡å™¨</a></li><li><a href=#4-%e5%ae%9e%e7%8e%b0%e6%9c%ac%e6%9c%ba%e5%92%8c%e6%9c%8d%e5%8a%a1%e5%99%a8%e7%9a%84public%e6%96%87%e4%bb%b6%e5%a4%b9%e5%90%8c%e6%ad%a5 aria-label="4. å®ç°æœ¬æœºå’ŒæœåŠ¡å™¨çš„publicæ–‡ä»¶å¤¹åŒæ­¥">4. å®ç°æœ¬æœºå’ŒæœåŠ¡å™¨çš„publicæ–‡ä»¶å¤¹åŒæ­¥</a><ul><li><a href=#41-%e6%9c%ac%e5%9c%b0-github aria-label="4.1 æœ¬åœ°-&amp;gt;github">4.1 æœ¬åœ°->github</a></li><li><a href=#42-github-gitee aria-label="4.2 github-&amp;gt;gitee">4.2 github->gitee</a></li><li><a href=#43-gitee-%e6%9c%8d%e5%8a%a1%e5%99%a8 aria-label="4.3 gitee-&amp;gt;æœåŠ¡å™¨">4.3 gitee->æœåŠ¡å™¨</a></li></ul></li><li><a href=#5-ssl%e8%af%81%e4%b9%a6 aria-label="5. SSLè¯ä¹¦">5. SSLè¯ä¹¦</a><ul><li><a href=#51-%e8%8e%b7%e5%be%97ssl%e8%af%81%e4%b9%a6 aria-label="5.1 è·å¾—SSLè¯ä¹¦">5.1 è·å¾—SSLè¯ä¹¦</a></li><li><a href=#53-%e4%bf%ae%e6%94%b9nginx%e9%85%8d%e7%bd%ae aria-label="5.3 ä¿®æ”¹nginxé…ç½®">5.3 ä¿®æ”¹nginxé…ç½®</a></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{elements&&(activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")}))},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p>ä¹‹å‰æ­å»ºhexoåšå®¢ï¼Œæ˜¯å°†å…¶éƒ¨ç½²åˆ°githubä¸­ï¼Œé€šè¿‡github.ioæ¥è®¿é—®ï¼Œä½†æ˜¯é€Ÿåº¦æ„Ÿäººï¼Œæ‰€ä»¥æœ¬æ¬¡å°è¯•å°†hugoåšå®¢éƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼Œé€šè¿‡åŸŸåè¿›è¡Œè®¿é—®ï¼Œæœ¬æ–‡å‚è€ƒäº†<a href=https://www.sulvblog.cn/posts/blog/hugo_deploy/>hugoåšå®¢éƒ¨ç½²åˆ°è…¾è®¯äº‘è½»é‡çº§æœåŠ¡å™¨</a>ã€‚
ç”±äºæ˜¯æˆ‘ç¬¬ä¸€æ¬¡ä½¿ç”¨nginxï¼Œæ‰€ä»¥å¦‚æœé‡åˆ°ä»€ä¹ˆé—®é¢˜ï¼Œè¯·å¤šæµ·æ¶µå¹¶ä¸”å¯ä»¥å‚è€ƒå…¶ä»–åšå®¢æˆ–ç½‘ç»œèµ„æ–™ã€‚</p><p>åœ¨éƒ¨ç½²ä¹‹å‰ï¼Œæˆ‘å·²ç»æœ‰äº†é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼ˆé…ç½®ä¸º2æ ¸2GBï¼‰ã€åŸŸå›½å¤–å¹³å°è´­ä¹°çš„åŸŸåï¼ˆstaryh.topï¼‰ã€‚</p><h2 id=1-æœåŠ¡å™¨ç«¯ä¸‹è½½å¹¶å®‰è£…nginx>1. æœåŠ¡å™¨ç«¯ä¸‹è½½å¹¶å®‰è£…nginx<a hidden class=anchor aria-hidden=true href=#1-æœåŠ¡å™¨ç«¯ä¸‹è½½å¹¶å®‰è£…nginx>#</a></h2><h3 id=11-å®‰è£…nginx>1.1 å®‰è£…nginx<a hidden class=anchor aria-hidden=true href=#11-å®‰è£…nginx>#</a></h3><p>åœ¨ubuntuç¯å¢ƒä¸‹ï¼š
å®‰è£…nginx</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt install nginx
</span></span></code></pre></td></tr></table></div></div><p>å°†nginxè®¾ç½®ä¸ºå¼€æœºå¯åŠ¨ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> nginx
</span></span></code></pre></td></tr></table></div></div><p>å¯åŠ¨nginxï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl start nginx
</span></span></code></pre></td></tr></table></div></div><h3 id=12-æµ‹è¯•nginx>1.2 æµ‹è¯•nginx<a hidden class=anchor aria-hidden=true href=#12-æµ‹è¯•nginx>#</a></h3><p>æŸ¥çœ‹nginxçŠ¶æ€</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl status nginx
</span></span></code></pre></td></tr></table></div></div><p>å¦‚æœæ²¡é—®é¢˜ï¼Œåˆ™ä¼šå‡ºç°ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>â— nginx.service - A high performance web server and a reverse proxy server
</span></span><span class=line><span class=cl>     Loaded: loaded <span class=o>(</span>/lib/systemd/system/nginx.service<span class=p>;</span> enabled<span class=p>;</span> vendor preset: enabled<span class=o>)</span>
</span></span><span class=line><span class=cl>     Active: active <span class=o>(</span>running<span class=o>)</span> since Fri 2024-07-26 21:46:50 CST<span class=p>;</span> <span class=m>1</span> day 13h ago
</span></span><span class=line><span class=cl>       Docs: man:nginx<span class=o>(</span>8<span class=o>)</span>
</span></span><span class=line><span class=cl>    Process: <span class=m>164834</span> <span class=nv>ExecStartPre</span><span class=o>=</span>/usr/sbin/nginx -t -q -g daemon on<span class=p>;</span> master_process on<span class=p>;</span> <span class=o>(</span><span class=nv>code</span><span class=o>=</span>exited, <span class=nv>status</span><span class=o>=</span>0/SUCCESS<span class=o>)</span>
</span></span><span class=line><span class=cl>    Process: <span class=m>164836</span> <span class=nv>ExecStart</span><span class=o>=</span>/usr/sbin/nginx -g daemon on<span class=p>;</span> master_process on<span class=p>;</span> <span class=o>(</span><span class=nv>code</span><span class=o>=</span>exited, <span class=nv>status</span><span class=o>=</span>0/SUCCESS<span class=o>)</span>
</span></span><span class=line><span class=cl>   Main PID: <span class=m>164837</span> <span class=o>(</span>nginx<span class=o>)</span>
</span></span><span class=line><span class=cl>      Tasks: <span class=m>3</span> <span class=o>(</span>limit: 1947<span class=o>)</span>
</span></span><span class=line><span class=cl>     Memory: 4.1M
</span></span><span class=line><span class=cl>        CPU: 26ms
</span></span><span class=line><span class=cl>     CGroup: /system.slice/nginx.service
</span></span><span class=line><span class=cl>             â”œâ”€164837 <span class=s2>&#34;nginx: master process /usr/sbin/nginx -g daemon on; master_process on;&#34;</span>
</span></span><span class=line><span class=cl>             â”œâ”€164838 <span class=s2>&#34;nginx: worker process&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>             â””â”€164839 <span class=s2>&#34;nginx: worker process&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Jul <span class=m>26</span> 21:46:50 Firefly-Aliyun systemd<span class=o>[</span>1<span class=o>]</span>: Starting A high performance web server and a reverse proxy server...
</span></span><span class=line><span class=cl>Jul <span class=m>26</span> 21:46:50 Firefly-Aliyun systemd<span class=o>[</span>1<span class=o>]</span>: Started A high performance web server and a reverse proxy server.
</span></span></code></pre></td></tr></table></div></div><p>é€šè¿‡é˜¿é‡Œäº‘æœåŠ¡å™¨ç®¡ç†é¢æ¿ä¸­çš„å®‰å…¨ç»„æ ‡ç­¾ï¼Œå°†æœåŠ¡å™¨çš„80ç«¯å£å¼€æ”¾ã€‚æ¥ä¸‹æ¥è®¿é—®<code>http://&lt;æœåŠ¡å™¨IPåœ°å€></code>ï¼Œå¦‚æœå‡ºç°äº†nginxé¡µé¢ï¼Œåˆ™ä»£è¡¨ç€é…ç½®æˆåŠŸã€‚</p><h2 id=2-é…ç½®nginx>2. é…ç½®nginx<a hidden class=anchor aria-hidden=true href=#2-é…ç½®nginx>#</a></h2><p>è¿›å…¥<code>/etc/nginx/</code>ï¼Œç›®å½•æ ‘å¦‚ä¸‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>.
</span></span><span class=line><span class=cl>â”œâ”€â”€ conf.d
</span></span><span class=line><span class=cl>â”œâ”€â”€ fastcgi.conf
</span></span><span class=line><span class=cl>â”œâ”€â”€ fastcgi_params
</span></span><span class=line><span class=cl>â”œâ”€â”€ koi-utf
</span></span><span class=line><span class=cl>â”œâ”€â”€ koi-win
</span></span><span class=line><span class=cl>â”œâ”€â”€ mime.types
</span></span><span class=line><span class=cl>â”œâ”€â”€ modules-available
</span></span><span class=line><span class=cl>â”œâ”€â”€ modules-enabled
</span></span><span class=line><span class=cl>â”‚Â Â  â”œâ”€â”€ 50-mod-http-geoip2.conf -&gt; /usr/share/nginx/modules-available/mod-http-geoip2.conf
</span></span><span class=line><span class=cl>â”‚Â Â  â”œâ”€â”€ 50-mod-http-image-filter.conf -&gt; /usr/share/nginx/modules-available/mod-http-image-filter.conf
</span></span><span class=line><span class=cl>â”‚Â Â  â”œâ”€â”€ 50-mod-http-xslt-filter.conf -&gt; /usr/share/nginx/modules-available/mod-http-xslt-filter.conf
</span></span><span class=line><span class=cl>â”‚Â Â  â”œâ”€â”€ 50-mod-mail.conf -&gt; /usr/share/nginx/modules-available/mod-mail.conf
</span></span><span class=line><span class=cl>â”‚Â Â  â”œâ”€â”€ 50-mod-stream.conf -&gt; /usr/share/nginx/modules-available/mod-stream.conf
</span></span><span class=line><span class=cl>â”‚Â Â  â””â”€â”€ 70-mod-stream-geoip2.conf -&gt; /usr/share/nginx/modules-available/mod-stream-geoip2.conf
</span></span><span class=line><span class=cl>â”œâ”€â”€ nginx.conf
</span></span><span class=line><span class=cl>â”œâ”€â”€ proxy_params
</span></span><span class=line><span class=cl>â”œâ”€â”€ scgi_params
</span></span><span class=line><span class=cl>â”œâ”€â”€ sites-available
</span></span><span class=line><span class=cl>â”‚Â Â  â””â”€â”€ default
</span></span><span class=line><span class=cl>â”œâ”€â”€ sites-enabled
</span></span><span class=line><span class=cl>â”‚Â Â  â””â”€â”€ default -&gt; /etc/nginx/sites-available/default
</span></span><span class=line><span class=cl>â”œâ”€â”€ snippets
</span></span><span class=line><span class=cl>â”‚Â Â  â”œâ”€â”€ fastcgi-php.conf
</span></span><span class=line><span class=cl>â”‚Â Â  â””â”€â”€ snakeoil.conf
</span></span><span class=line><span class=cl>â”œâ”€â”€ uwsgi_params
</span></span><span class=line><span class=cl>â””â”€â”€ win-utf
</span></span></code></pre></td></tr></table></div></div><p>æ ¹æ®å‚è€ƒåšå®¢ï¼Œè¦åœ¨<code>nginx.conf</code>æ–‡ä»¶ä¸­ç¼–è¾‘<code>Server</code>å­—æ®µï¼Œä½†æ˜¯åœ¨æˆ‘çš„è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œå¹¶æ²¡æœ‰å‡ºç°è¯¥å­—æ®µã€‚ç»è¿‡æŸ¥é˜…èµ„æ–™ï¼Œå¯ä»¥åœ¨<code>./sites-available/default</code>å½“ä¸­ç¼–è¾‘ã€‚</p><p>å½“æ²¡æœ‰SSLè¯ä¹¦æ—¶ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>server {
</span></span><span class=line><span class=cl>        listen 80 default_server;
</span></span><span class=line><span class=cl>        listen [::]:80 default_server;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        # ä¿®æ”¹é¡µé¢æ‰€åœ¨ç›®å½•
</span></span><span class=line><span class=cl>        root /home/firefly/Codes/blog/public;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        # Add index.php to the list if you are using PHP
</span></span><span class=line><span class=cl>        index index.html index.htm index.nginx-debian.html;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        # ä¿®æ”¹åŸŸå
</span></span><span class=line><span class=cl>        server_name www.staryh.top;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        # ä¿®æ”¹
</span></span><span class=line><span class=cl>        location / {
</span></span><span class=line><span class=cl>                # First attempt to serve request as file, then
</span></span><span class=line><span class=cl>                # as directory, then fall back to displaying a 404.
</span></span><span class=line><span class=cl>                root /home/firefly/Codes/blog/public;
</span></span><span class=line><span class=cl>                index index.html index.htm;
</span></span><span class=line><span class=cl>                # try_files $uri $uri/ =404;
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        error_page 404 /404.html;
</span></span><span class=line><span class=cl>        location = /404.html {
</span></span><span class=line><span class=cl>                root /home/firefly/Codes/blog/public;
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><p>ç»è¿‡ä¸Šè¿°ä¿®æ”¹ä¹‹åï¼Œè¾“å…¥æœåŠ¡å™¨IPåœ°å€ï¼Œå°±å¯ä»¥è®¿é—®äº†</p><h2 id=3-å°†åŸŸåç»‘å®šåˆ°æœåŠ¡å™¨>3. å°†åŸŸåç»‘å®šåˆ°æœåŠ¡å™¨<a hidden class=anchor aria-hidden=true href=#3-å°†åŸŸåç»‘å®šåˆ°æœåŠ¡å™¨>#</a></h2><p><strong>éœ€è¦åŸŸåå¤‡æ¡ˆï¼Œå¦åˆ™è®¿é—®ä¸äº†</strong></p><p>åœ¨namecheapä¸Šé¢è´­ä¹°çš„åŸŸåï¼Œç„¶åé€šè¿‡cloudflareæ¥å¯¹åŸŸåè§£æè¿›è¡Œç®¡ç†ã€‚è¿™ä¸€æ­¥æ¯”è¾ƒç®€å•ï¼Œå‚è€ƒäº†<a href=https://xn--5hq58jg23b.com/%E5%9F%9F%E5%90%8D%E6%B3%A8%E5%86%8C%E5%92%8C%E8%A7%A3%E6%9E%90/>åŸŸåæ³¨å†Œå’Œè§£æ</a></p><h2 id=4-å®ç°æœ¬æœºå’ŒæœåŠ¡å™¨çš„publicæ–‡ä»¶å¤¹åŒæ­¥>4. å®ç°æœ¬æœºå’ŒæœåŠ¡å™¨çš„publicæ–‡ä»¶å¤¹åŒæ­¥<a hidden class=anchor aria-hidden=true href=#4-å®ç°æœ¬æœºå’ŒæœåŠ¡å™¨çš„publicæ–‡ä»¶å¤¹åŒæ­¥>#</a></h2><p>åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘çš„æƒ³æ³•æ¯”è¾ƒå¤æ‚ã€‚</p><ol><li>å°†æœ¬åœ°çš„åšå®¢æ–‡ä»¶å¤¹æ”¾åˆ°githubä¸­ï¼Œæ–¹ä¾¿æ›´å¤šäººèƒ½å¤Ÿè®¿é—®æˆ‘çš„åšå®¢æ‰€æœ‰çš„æ–‡ä»¶ã€‚</li><li>è€ƒè™‘åˆ°githubçš„è®¿é—®é€Ÿåº¦ï¼Œæ‰“ç®—åœ¨giteeä¸­å»ºç«‹ä¸€ä¸ªé•œåƒçš„ä»“åº“ï¼Œä»¥å®ç°githubå’Œgiteeçš„åšå®¢æ–‡ä»¶å¤¹çš„åŒæ­¥ã€‚</li><li>è¿™æ ·æœåŠ¡å™¨åªéœ€è¦pull gitee ä»“åº“ä¸­çš„publicå­æ–‡ä»¶å¤¹ï¼Œä¾¿å¯ä»¥å¾—åˆ°æœ¬åœ°ä¸»æœºpushåˆ°githubä»“åº“ä¸­çš„publicæ–‡ä»¶å¤¹ã€‚</li></ol><h3 id=41-æœ¬åœ°-github>4.1 æœ¬åœ°->github<a hidden class=anchor aria-hidden=true href=#41-æœ¬åœ°-github>#</a></h3><p>å°†æœ¬åœ°åšå®¢æ–‡ä»¶å¤¹pushåˆ°<a href=https://github.com/starsYHyh/Jagger>githubä»“åº“</a>ä¸­</p><h3 id=42-github-gitee>4.2 github->gitee<a hidden class=anchor aria-hidden=true href=#42-github-gitee>#</a></h3><ol><li>åœ¨giteeä¸Šç»‘å®šgithubè´¦å·ï¼›</li><li>åœ¨giteeä¸­åˆ›å»º<a href=https://gitee.com/starsyhyh/Jagger>åŒåä»“åº“</a>ï¼Œåœ¨ä»“åº“çš„<code>ç®¡ç†</code>æ ‡ç­¾é¡µï¼Œé€‰æ‹©<code>ä»“åº“é•œåƒç®¡ç†</code>ï¼Œæ·»åŠ é•œåƒï¼Œé€‰æ‹©é•œåƒæ–¹å‘ä¸º<code>pull gitee &lt;- github</code>ï¼Œé€‰æ‹©æ­£ç¡®çš„é•œåƒä»“åº“ï¼Œå¹¶æ·»åŠ ç§äººä»¤ç‰Œï¼Œç§äººä»¤ç‰Œåœ¨<code>githubç•Œé¢->ç”¨æˆ·å¤´åƒ->settings->developer settings->personal access tokens</code>ä¸­è·å–ï¼Œå‹¾é€‰è‡ªåŠ¨åŒæ­¥ã€‚
è¿™æ ·æ¯æ¬¡æœ¬åœ°ç¼–è¾‘å®Œå¹¶ä¸Šä¼ githubä¹‹åï¼Œç¨ç­‰ç‰‡åˆ»å°±èƒ½åœ¨giteeçœ‹åˆ°ä¿®æ”¹äº†ğŸ˜Š</li></ol><blockquote><p>æˆªæ­¢åˆ°å†™æœ¬ç¯‡åšå®¢æ—¶ï¼Œgiteeçš„ä»“åº“é•œåƒç®¡ç†åŠŸèƒ½ä¸€ç›´å­˜åœ¨ï¼Œä¸”å¯ä»¥è‡ªåŠ¨åŒæ­¥ã€‚å¦‚æœè¯¥è‡ªåŠ¨åŒæ­¥åŠŸèƒ½ä¸è§äº†ï¼Œå¯ä»¥å°è¯•<a href=https://github.com/mqyqingfeng/Blog/issues/236>ä¸€ç¯‡æ•™ä½ ä»£ç åŒæ­¥ Github å’Œ Gitee</a>ä¸­çš„åšæ³•ã€‚</p></blockquote><h3 id=43-gitee-æœåŠ¡å™¨>4.3 gitee->æœåŠ¡å™¨<a hidden class=anchor aria-hidden=true href=#43-gitee-æœåŠ¡å™¨>#</a></h3><ol><li><p>è¿›å…¥åˆ°ä¿®æ”¹é¡µé¢æ‰€åœ¨ç›®å½•çš„çˆ¶ç›®å½•<code>/home/firefly/Codes/blog</code>ï¼Œåˆ é™¤åŸæ¥é€šè¿‡xtfpä¼ è¾“æ¥çš„publicæ–‡ä»¶å¤¹ï¼›</p></li><li><p>åœ¨æœ¬åœ°ä»“åº“å¯ç”¨<code>sparseCheckout</code></p></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git config core.sparseCheckout <span class=nb>true</span>
</span></span></code></pre></td></tr></table></div></div><ol start=3><li><p>æ‰“å¼€<code>./.git/info</code>ï¼Œç„¶åç¼–è¾‘å…¶ä¸­çš„<code>sparseCheckout</code>æ–‡ä»¶ï¼ˆå¦‚æœæ²¡æœ‰å¯ä»¥æ–°å»ºï¼‰ï¼Œå°†éœ€è¦æŒ‡å®špullçš„æ–‡ä»¶å¤¹ä½ç½®è¾“å…¥è¿›å»ï¼š<code>/public</code>ï¼›</p></li><li><p>å›åˆ°blogç›®å½•ï¼Œæ·»åŠ è¿œç¨‹ä»“åº“ï¼Œå¹¶pullï¼ˆåœ¨pullçš„æ—¶å€™é‡åˆ°äº†å…¬ç§é’¥å¯¼è‡´æ— æ³•è®¿é—®çš„é—®é¢˜ï¼Œå…·ä½“è§£å†³å‚è€ƒäº†<a href=https://blog.csdn.net/weixin_40922744/article/details/107576748>è§£å†³ â€œfatal: Could not read from remote repository.â€œ</a>ï¼‰ã€‚</p></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git remote add origin git@gitee.com:yourname/yourrepo.git 
</span></span></code></pre></td></tr></table></div></div><h2 id=5-sslè¯ä¹¦>5. SSLè¯ä¹¦<a hidden class=anchor aria-hidden=true href=#5-sslè¯ä¹¦>#</a></h2><h3 id=51-è·å¾—sslè¯ä¹¦>5.1 è·å¾—SSLè¯ä¹¦<a hidden class=anchor aria-hidden=true href=#51-è·å¾—sslè¯ä¹¦>#</a></h3><p>ç”±äº<a href="https://help.aliyun.com/zh/ssl-certificate/product-overview/notice-on-adjustment-of-service-policies-for-free-certificates?spm=0.2020520163.0.0.eb3b3711whjNcb">é˜¿é‡Œäº‘ç­–ç•¥</a>æ”¹å˜ï¼Œç›®å‰å…è´¹çš„åªæœ‰ä¸ªäººæµ‹è¯•è¯ä¹¦ï¼ˆåŸå…è´¹è¯ä¹¦ï¼‰ã€‚</p><p>æ ¹æ®<a href="https://help.aliyun.com/zh/ssl-certificate/user-guide/install-ssl-certificates-on-nginx-servers-or-tengine-servers?spm=a2c4g.11186623.0.0.4c5845b7mFWgir#concept-n45-21x-yfb">Nginxæˆ–TengineæœåŠ¡å™¨é…ç½®SSLè¯ä¹¦</a>æ¥è¿›è¡Œé…ç½®ã€‚
å…¶ä¸­ï¼Œå°†ä¸‹è½½çš„è¯ä¹¦ç›¸å…³æ–‡ä»¶è§£å‹ç¼©åˆ°<code>/etc/nginx/</code>ä¸­ï¼Œ</p><h3 id=53-ä¿®æ”¹nginxé…ç½®>5.3 ä¿®æ”¹nginxé…ç½®<a hidden class=anchor aria-hidden=true href=#53-ä¿®æ”¹nginxé…ç½®>#</a></h3><p>åŒæ ·åœ°ï¼Œåœ¨defaultæ–‡ä»¶ä¸­ï¼Œç»“åˆäº†æœ¬æ–‡æåˆ°çš„ä¸¤ä¸ªåšå®¢ï¼Œå¢åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>server {
</span></span><span class=line><span class=cl>        listen 443 ssl;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        server_name www.fireflyyh.top;
</span></span><span class=line><span class=cl>        root /home/firefly/Codes/blog/public;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        ssl_certificate /etc/nginx/fireflyyh.top.pem;
</span></span><span class=line><span class=cl>        ssl_certificate_key /etc/nginx/fireflyyh.top.key;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        ssl_session_cache shared:SSL:1m;
</span></span><span class=line><span class=cl>        ssl_session_timeout 5m;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        #è‡ªå®šä¹‰è®¾ç½®ä½¿ç”¨çš„TLSåè®®çš„ç±»å‹ä»¥åŠåŠ å¯†å¥—ä»¶ï¼ˆä»¥ä¸‹ä¸ºé…ç½®ç¤ºä¾‹ï¼Œè¯·æ‚¨è‡ªè¡Œè¯„ä¼°æ˜¯å¦éœ€è¦é…ç½®ï¼‰
</span></span><span class=line><span class=cl>        #TLSåè®®ç‰ˆæœ¬è¶Šé«˜ï¼ŒHTTPSé€šä¿¡çš„å®‰å…¨æ€§è¶Šé«˜ï¼Œä½†æ˜¯ç›¸è¾ƒäºä½ç‰ˆæœ¬TLSåè®®ï¼Œé«˜ç‰ˆæœ¬TLSåè®®å¯¹æµè§ˆå™¨çš„å…¼å®¹æ€§è¾ƒå·®ã€‚
</span></span><span class=line><span class=cl>        ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;
</span></span><span class=line><span class=cl>        ssl_protocols TLSv1.1 TLSv1.2 TLSv1.3;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        #è¡¨ç¤ºä¼˜å…ˆä½¿ç”¨æœåŠ¡ç«¯åŠ å¯†å¥—ä»¶ã€‚é»˜è®¤å¼€å¯
</span></span><span class=line><span class=cl>        ssl_prefer_server_ciphers on;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        error_page 404 /404.html;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        location = /404.html {
</span></span><span class=line><span class=cl>             root /home/firefly/Codes/blog/public;
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://fireflyyh.top/tags/blog/>BLOG</a></li></ul><nav class=paginav><a class=prev href=https://fireflyyh.top/posts/tlpi/t_sigaltstack/><span class=title>Â« Prev</span><br><span>åœ¨å¤‡é€‰æ ˆä¸­å¤„ç†ä¿¡å·</span>
</a><a class=next href=https://fireflyyh.top/posts/tlpi/sigmask_longjmp/><span class=title>Next Â»</span><br><span>åœ¨ä¿¡å·å¤„ç†å™¨å‡½æ•°ä¸­æ‰§è¡Œéæœ¬åœ°è·³è½¬</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://fireflyyh.top/>Jagger's Blog</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const s=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function i(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),i();return}const n=document.createRange();n.selectNodeContents(e);const s=window.getSelection();s.removeAllRanges(),s.addRange(n);try{document.execCommand("copy"),i()}catch{}s.removeRange(n)});let l=e.className.replaceAll("language-",""),n=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div"),o=document.createElement("div");o.innerText=l,n.setAttribute("class","mac-tool"),a.setAttribute("class","mac bb1"),r.setAttribute("class","mac bb2"),c.setAttribute("class","mac bb3"),o.setAttribute("class","language-type"),n.appendChild(a),n.appendChild(r),n.appendChild(c),n.appendChild(o),s.classList.contains("highlight")?(s.appendChild(n),s.appendChild(t)):s.parentNode.firstChild==s||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?(s.appendChild(n),e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t)):(s.appendChild(n),e.parentNode.appendChild(t)))})</script></body></html>